{"version":3,"file":"pages_SignUp_index_tsx.js","mappings":"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","sources":["webpack://slack-clone/./pages/SignUp/index.tsx"],"sourcesContent":["import useInput from '@hooks/useInput';\nimport React, { useCallback, useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport { Header, Label, Input, LinkContainer, Button, Form, Error, Success } from './styles';\nimport axios from 'axios';\nimport { Redirect } from 'react-router';\nimport useSWR from 'swr';\nimport fetcher from '@utils/fetcher';\n\nconst SignUp = () => {\n  const { data, error, revalidate } = useSWR('/api/users', fetcher);\n  const [email, onChangeEmail] = useInput('');\n  const [nickname, onChangeNickname] = useInput('');\n  const [password, setPassword] = useState('');\n  const [passwordCheck, setPasswordCheck] = useState('');\n  const [mismatchError, setMismatchError] = useState(false);\n  const [signUpError, setSignUpError] = useState('');\n  const [signUpSuccess, setSignUpSuccess] = useState(false);\n  const onChangePassword = useCallback(\n    (e) => {\n      const {\n        target: { value },\n      } = e;\n      setPassword(value);\n      setMismatchError(value !== passwordCheck);\n    },\n    [passwordCheck],\n  );\n\n  const onChangePasswordCheck = useCallback(\n    (e) => {\n      const {\n        target: { value },\n      } = e;\n      setPasswordCheck(value);\n      setMismatchError(value !== password);\n    },\n    [password, nickname, email, passwordCheck],\n  );\n\n  const onSubmit = useCallback(\n    (e) => {\n      e.preventDefault();\n      if (!mismatchError && nickname) {\n        setSignUpError('');\n        setSignUpSuccess(false);\n        axios\n          .post('/api/users', {\n            email,\n            nickname,\n            password,\n          })\n          .then((response) => {\n            console.log(response);\n            setSignUpSuccess(true);\n          })\n          .catch((error) => {\n            console.log(error.response.data);\n            setSignUpError(error.response.data);\n          })\n          .finally(() => {});\n      }\n    },\n    [email, nickname, password, passwordCheck, mismatchError],\n  );\n  if (data === undefined) {\n    return <div>Loading...</div>;\n  }\n  if (data) {\n    return <Redirect to=\"/workspace/sleact/channel/일반\" />;\n  }\n\n  return (\n    <div id=\"container\">\n      <Header>Sleact</Header>\n      <Form onSubmit={onSubmit}>\n        <Label id=\"email-label\">\n          <span>이메일</span>\n          <div>\n            <Input type=\"email\" id=\"email\" name=\"email\" onChange={onChangeEmail} value={email} />\n          </div>\n        </Label>\n\n        <Label id=\"nickname-label\">\n          <span>닉네임</span>\n          <div>\n            <Input type=\"text\" id=\"nickname\" name=\"nickname\" onChange={onChangeNickname} value={nickname} />\n          </div>\n        </Label>\n\n        <Label id=\"password-label\">\n          <span>비밀번호</span>\n          <div>\n            <Input type=\"password\" id=\"password\" name=\"password\" onChange={onChangePassword} value={password} />\n          </div>\n        </Label>\n\n        <Label id=\"password-check-label\">\n          <span>비밀번호 확인</span>\n          <div>\n            <Input\n              type=\"password\"\n              id=\"password-check\"\n              name=\"password-check\"\n              onChange={onChangePasswordCheck}\n              value={passwordCheck}\n            />\n          </div>\n          {mismatchError && <Error>Check your password again.</Error>}\n          {!nickname && <Error>닉네임을 입력해주세요.</Error>}\n          {signUpError && <Error>{signUpError}</Error>}\n          {signUpSuccess && <Success>회원가입되었습니다. 로그인해주세요</Success>}\n        </Label>\n        <Button type=\"submit\">회원가입</Button>\n      </Form>\n\n      <LinkContainer>\n        Do you have account?&nbsp;\n        <Link to=\"/login\">Login</Link>\n      </LinkContainer>\n    </div>\n  );\n};\n\nexport default SignUp;\n"],"names":["useInput","React","useCallback","useState","Link","Header","Label","Input","LinkContainer","Button","Form","Error","Success","axios","Redirect","useSWR","fetcher","SignUp","data","error","revalidate","email","onChangeEmail","nickname","onChangeNickname","password","setPassword","passwordCheck","setPasswordCheck","mismatchError","setMismatchError","signUpError","setSignUpError","signUpSuccess","setSignUpSuccess","onChangePassword","e","value","target","onChangePasswordCheck","onSubmit","preventDefault","post","then","response","console","log","catch","finally","undefined"],"sourceRoot":""}