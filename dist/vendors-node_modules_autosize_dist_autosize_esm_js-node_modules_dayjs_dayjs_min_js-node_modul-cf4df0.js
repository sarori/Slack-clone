(self["webpackChunkslack_clone"] = self["webpackChunkslack_clone"] || []).push([["vendors-node_modules_autosize_dist_autosize_esm_js-node_modules_dayjs_dayjs_min_js-node_modul-cf4df0"],{

/***/ "./node_modules/add-px-to-style/index.js":
/*!***********************************************!*\
  !*** ./node_modules/add-px-to-style/index.js ***!
  \***********************************************/
/***/ ((module) => {

/* The following list is defined in React's core */
var IS_UNITLESS = {
  animationIterationCount: true,
  boxFlex: true,
  boxFlexGroup: true,
  boxOrdinalGroup: true,
  columnCount: true,
  flex: true,
  flexGrow: true,
  flexPositive: true,
  flexShrink: true,
  flexNegative: true,
  flexOrder: true,
  gridRow: true,
  gridColumn: true,
  fontWeight: true,
  lineClamp: true,
  lineHeight: true,
  opacity: true,
  order: true,
  orphans: true,
  tabSize: true,
  widows: true,
  zIndex: true,
  zoom: true,

  // SVG-related properties
  fillOpacity: true,
  stopOpacity: true,
  strokeDashoffset: true,
  strokeOpacity: true,
  strokeWidth: true
};

module.exports = function(name, value) {
  if(typeof value === 'number' && !IS_UNITLESS[ name ]) {
    return value + 'px';
  } else {
    return value;
  }
};

/***/ }),

/***/ "./node_modules/autosize/dist/autosize.esm.js":
/*!****************************************************!*\
  !*** ./node_modules/autosize/dist/autosize.esm.js ***!
  \****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
var e,t,n="function"==typeof Map?new Map:(e=[],t=[],{has:function(t){return e.indexOf(t)>-1},get:function(n){return t[e.indexOf(n)]},set:function(n,o){-1===e.indexOf(n)&&(e.push(n),t.push(o))},delete:function(n){var o=e.indexOf(n);o>-1&&(e.splice(o,1),t.splice(o,1))}}),o=function(e){return new Event(e,{bubbles:!0})};try{new Event("test")}catch(e){o=function(e){var t=document.createEvent("Event");return t.initEvent(e,!0,!1),t}}function r(e){var t=n.get(e);t&&t.destroy()}function i(e){var t=n.get(e);t&&t.update()}var l=null;"undefined"==typeof window||"function"!=typeof window.getComputedStyle?((l=function(e){return e}).destroy=function(e){return e},l.update=function(e){return e}):((l=function(e,t){return e&&Array.prototype.forEach.call(e.length?e:[e],function(e){return function(e){if(e&&e.nodeName&&"TEXTAREA"===e.nodeName&&!n.has(e)){var t,r=null,i=null,l=null,d=function(){e.clientWidth!==i&&c()},a=function(t){window.removeEventListener("resize",d,!1),e.removeEventListener("input",c,!1),e.removeEventListener("keyup",c,!1),e.removeEventListener("autosize:destroy",a,!1),e.removeEventListener("autosize:update",c,!1),Object.keys(t).forEach(function(n){e.style[n]=t[n]}),n.delete(e)}.bind(e,{height:e.style.height,resize:e.style.resize,overflowY:e.style.overflowY,overflowX:e.style.overflowX,wordWrap:e.style.wordWrap});e.addEventListener("autosize:destroy",a,!1),"onpropertychange"in e&&"oninput"in e&&e.addEventListener("keyup",c,!1),window.addEventListener("resize",d,!1),e.addEventListener("input",c,!1),e.addEventListener("autosize:update",c,!1),e.style.overflowX="hidden",e.style.wordWrap="break-word",n.set(e,{destroy:a,update:c}),"vertical"===(t=window.getComputedStyle(e,null)).resize?e.style.resize="none":"both"===t.resize&&(e.style.resize="horizontal"),r="content-box"===t.boxSizing?-(parseFloat(t.paddingTop)+parseFloat(t.paddingBottom)):parseFloat(t.borderTopWidth)+parseFloat(t.borderBottomWidth),isNaN(r)&&(r=0),c()}function u(t){var n=e.style.width;e.style.width="0px",e.style.width=n,e.style.overflowY=t}function s(){if(0!==e.scrollHeight){var t=function(e){for(var t=[];e&&e.parentNode&&e.parentNode instanceof Element;)e.parentNode.scrollTop&&t.push({node:e.parentNode,scrollTop:e.parentNode.scrollTop}),e=e.parentNode;return t}(e),n=document.documentElement&&document.documentElement.scrollTop;e.style.height="",e.style.height=e.scrollHeight+r+"px",i=e.clientWidth,t.forEach(function(e){e.node.scrollTop=e.scrollTop}),n&&(document.documentElement.scrollTop=n)}}function c(){s();var t=Math.round(parseFloat(e.style.height)),n=window.getComputedStyle(e,null),r="content-box"===n.boxSizing?Math.round(parseFloat(n.height)):e.offsetHeight;if(r<t?"hidden"===n.overflowY&&(u("scroll"),s(),r="content-box"===n.boxSizing?Math.round(parseFloat(window.getComputedStyle(e,null).height)):e.offsetHeight):"hidden"!==n.overflowY&&(u("hidden"),s(),r="content-box"===n.boxSizing?Math.round(parseFloat(window.getComputedStyle(e,null).height)):e.offsetHeight),l!==r){l=r;var i=o("autosize:resized");try{e.dispatchEvent(i)}catch(e){}}}}(e)}),e}).destroy=function(e){return e&&Array.prototype.forEach.call(e.length?e:[e],r),e},l.update=function(e){return e&&Array.prototype.forEach.call(e.length?e:[e],i),e});var d=l;/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (d);


/***/ }),

/***/ "./node_modules/dayjs/dayjs.min.js":
/*!*****************************************!*\
  !*** ./node_modules/dayjs/dayjs.min.js ***!
  \*****************************************/
/***/ (function(module) {

!function(t,e){ true?module.exports=e():0}(this,(function(){"use strict";var t=1e3,e=6e4,n=36e5,r="millisecond",i="second",s="minute",u="hour",a="day",o="week",f="month",h="quarter",c="year",d="date",$="Invalid Date",l=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,y=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,M={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},m=function(t,e,n){var r=String(t);return!r||r.length>=e?t:""+Array(e+1-r.length).join(n)+t},g={s:m,z:function(t){var e=-t.utcOffset(),n=Math.abs(e),r=Math.floor(n/60),i=n%60;return(e<=0?"+":"-")+m(r,2,"0")+":"+m(i,2,"0")},m:function t(e,n){if(e.date()<n.date())return-t(n,e);var r=12*(n.year()-e.year())+(n.month()-e.month()),i=e.clone().add(r,f),s=n-i<0,u=e.clone().add(r+(s?-1:1),f);return+(-(r+(n-i)/(s?i-u:u-i))||0)},a:function(t){return t<0?Math.ceil(t)||0:Math.floor(t)},p:function(t){return{M:f,y:c,w:o,d:a,D:d,h:u,m:s,s:i,ms:r,Q:h}[t]||String(t||"").toLowerCase().replace(/s$/,"")},u:function(t){return void 0===t}},D="en",v={};v[D]=M;var p=function(t){return t instanceof _},S=function(t,e,n){var r;if(!t)return D;if("string"==typeof t)v[t]&&(r=t),e&&(v[t]=e,r=t);else{var i=t.name;v[i]=t,r=i}return!n&&r&&(D=r),r||!n&&D},w=function(t,e){if(p(t))return t.clone();var n="object"==typeof e?e:{};return n.date=t,n.args=arguments,new _(n)},O=g;O.l=S,O.i=p,O.w=function(t,e){return w(t,{locale:e.$L,utc:e.$u,x:e.$x,$offset:e.$offset})};var _=function(){function M(t){this.$L=S(t.locale,null,!0),this.parse(t)}var m=M.prototype;return m.parse=function(t){this.$d=function(t){var e=t.date,n=t.utc;if(null===e)return new Date(NaN);if(O.u(e))return new Date;if(e instanceof Date)return new Date(e);if("string"==typeof e&&!/Z$/i.test(e)){var r=e.match(l);if(r){var i=r[2]-1||0,s=(r[7]||"0").substring(0,3);return n?new Date(Date.UTC(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,s)):new Date(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,s)}}return new Date(e)}(t),this.$x=t.x||{},this.init()},m.init=function(){var t=this.$d;this.$y=t.getFullYear(),this.$M=t.getMonth(),this.$D=t.getDate(),this.$W=t.getDay(),this.$H=t.getHours(),this.$m=t.getMinutes(),this.$s=t.getSeconds(),this.$ms=t.getMilliseconds()},m.$utils=function(){return O},m.isValid=function(){return!(this.$d.toString()===$)},m.isSame=function(t,e){var n=w(t);return this.startOf(e)<=n&&n<=this.endOf(e)},m.isAfter=function(t,e){return w(t)<this.startOf(e)},m.isBefore=function(t,e){return this.endOf(e)<w(t)},m.$g=function(t,e,n){return O.u(t)?this[e]:this.set(n,t)},m.unix=function(){return Math.floor(this.valueOf()/1e3)},m.valueOf=function(){return this.$d.getTime()},m.startOf=function(t,e){var n=this,r=!!O.u(e)||e,h=O.p(t),$=function(t,e){var i=O.w(n.$u?Date.UTC(n.$y,e,t):new Date(n.$y,e,t),n);return r?i:i.endOf(a)},l=function(t,e){return O.w(n.toDate()[t].apply(n.toDate("s"),(r?[0,0,0,0]:[23,59,59,999]).slice(e)),n)},y=this.$W,M=this.$M,m=this.$D,g="set"+(this.$u?"UTC":"");switch(h){case c:return r?$(1,0):$(31,11);case f:return r?$(1,M):$(0,M+1);case o:var D=this.$locale().weekStart||0,v=(y<D?y+7:y)-D;return $(r?m-v:m+(6-v),M);case a:case d:return l(g+"Hours",0);case u:return l(g+"Minutes",1);case s:return l(g+"Seconds",2);case i:return l(g+"Milliseconds",3);default:return this.clone()}},m.endOf=function(t){return this.startOf(t,!1)},m.$set=function(t,e){var n,o=O.p(t),h="set"+(this.$u?"UTC":""),$=(n={},n[a]=h+"Date",n[d]=h+"Date",n[f]=h+"Month",n[c]=h+"FullYear",n[u]=h+"Hours",n[s]=h+"Minutes",n[i]=h+"Seconds",n[r]=h+"Milliseconds",n)[o],l=o===a?this.$D+(e-this.$W):e;if(o===f||o===c){var y=this.clone().set(d,1);y.$d[$](l),y.init(),this.$d=y.set(d,Math.min(this.$D,y.daysInMonth())).$d}else $&&this.$d[$](l);return this.init(),this},m.set=function(t,e){return this.clone().$set(t,e)},m.get=function(t){return this[O.p(t)]()},m.add=function(r,h){var d,$=this;r=Number(r);var l=O.p(h),y=function(t){var e=w($);return O.w(e.date(e.date()+Math.round(t*r)),$)};if(l===f)return this.set(f,this.$M+r);if(l===c)return this.set(c,this.$y+r);if(l===a)return y(1);if(l===o)return y(7);var M=(d={},d[s]=e,d[u]=n,d[i]=t,d)[l]||1,m=this.$d.getTime()+r*M;return O.w(m,this)},m.subtract=function(t,e){return this.add(-1*t,e)},m.format=function(t){var e=this,n=this.$locale();if(!this.isValid())return n.invalidDate||$;var r=t||"YYYY-MM-DDTHH:mm:ssZ",i=O.z(this),s=this.$H,u=this.$m,a=this.$M,o=n.weekdays,f=n.months,h=function(t,n,i,s){return t&&(t[n]||t(e,r))||i[n].substr(0,s)},c=function(t){return O.s(s%12||12,t,"0")},d=n.meridiem||function(t,e,n){var r=t<12?"AM":"PM";return n?r.toLowerCase():r},l={YY:String(this.$y).slice(-2),YYYY:this.$y,M:a+1,MM:O.s(a+1,2,"0"),MMM:h(n.monthsShort,a,f,3),MMMM:h(f,a),D:this.$D,DD:O.s(this.$D,2,"0"),d:String(this.$W),dd:h(n.weekdaysMin,this.$W,o,2),ddd:h(n.weekdaysShort,this.$W,o,3),dddd:o[this.$W],H:String(s),HH:O.s(s,2,"0"),h:c(1),hh:c(2),a:d(s,u,!0),A:d(s,u,!1),m:String(u),mm:O.s(u,2,"0"),s:String(this.$s),ss:O.s(this.$s,2,"0"),SSS:O.s(this.$ms,3,"0"),Z:i};return r.replace(y,(function(t,e){return e||l[t]||i.replace(":","")}))},m.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},m.diff=function(r,d,$){var l,y=O.p(d),M=w(r),m=(M.utcOffset()-this.utcOffset())*e,g=this-M,D=O.m(this,M);return D=(l={},l[c]=D/12,l[f]=D,l[h]=D/3,l[o]=(g-m)/6048e5,l[a]=(g-m)/864e5,l[u]=g/n,l[s]=g/e,l[i]=g/t,l)[y]||g,$?D:O.a(D)},m.daysInMonth=function(){return this.endOf(f).$D},m.$locale=function(){return v[this.$L]},m.locale=function(t,e){if(!t)return this.$L;var n=this.clone(),r=S(t,e,!0);return r&&(n.$L=r),n},m.clone=function(){return O.w(this.$d,this)},m.toDate=function(){return new Date(this.valueOf())},m.toJSON=function(){return this.isValid()?this.toISOString():null},m.toISOString=function(){return this.$d.toISOString()},m.toString=function(){return this.$d.toUTCString()},M}(),b=_.prototype;return w.prototype=b,[["$ms",r],["$s",i],["$m",s],["$H",u],["$W",a],["$M",f],["$y",c],["$D",d]].forEach((function(t){b[t[1]]=function(e){return this.$g(e,t[0],t[1])}})),w.extend=function(t,e){return t.$i||(t(e,_,w),t.$i=!0),w},w.locale=S,w.isDayjs=p,w.unix=function(t){return w(1e3*t)},w.en=v[D],w.Ls=v,w.p={},w}));

/***/ }),

/***/ "./node_modules/dom-css/index.js":
/*!***************************************!*\
  !*** ./node_modules/dom-css/index.js ***!
  \***************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var prefix = __webpack_require__(/*! prefix-style */ "./node_modules/prefix-style/index.js")
var toCamelCase = __webpack_require__(/*! to-camel-case */ "./node_modules/to-camel-case/index.js")
var cache = { 'float': 'cssFloat' }
var addPxToStyle = __webpack_require__(/*! add-px-to-style */ "./node_modules/add-px-to-style/index.js")

function style (element, property, value) {
  var camel = cache[property]
  if (typeof camel === 'undefined') {
    camel = detect(property)
  }

  // may be false if CSS prop is unsupported
  if (camel) {
    if (value === undefined) {
      return element.style[camel]
    }

    element.style[camel] = addPxToStyle(camel, value)
  }
}

function each (element, properties) {
  for (var k in properties) {
    if (properties.hasOwnProperty(k)) {
      style(element, k, properties[k])
    }
  }
}

function detect (cssProp) {
  var camel = toCamelCase(cssProp)
  var result = prefix(camel)
  cache[camel] = cache[cssProp] = cache[result] = result
  return result
}

function set () {
  if (arguments.length === 2) {
    if (typeof arguments[1] === 'string') {
      arguments[0].style.cssText = arguments[1]
    } else {
      each(arguments[0], arguments[1])
    }
  } else {
    style(arguments[0], arguments[1], arguments[2])
  }
}

module.exports = set
module.exports.set = set

module.exports.get = function (element, properties) {
  if (Array.isArray(properties)) {
    return properties.reduce(function (obj, prop) {
      obj[prop] = style(element, prop || '')
      return obj
    }, {})
  } else {
    return style(element, properties || '')
  }
}


/***/ }),

/***/ "./node_modules/invariant/browser.js":
/*!*******************************************!*\
  !*** ./node_modules/invariant/browser.js ***!
  \*******************************************/
/***/ ((module) => {

"use strict";
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */



/**
 * Use invariant() to assert state which your program assumes to be true.
 *
 * Provide sprintf-style format (only %s is supported) and arguments
 * to provide information about what broke and what you were
 * expecting.
 *
 * The invariant message will be stripped in production, but the invariant
 * will remain to ensure logic does not differ in production.
 */

var invariant = function(condition, format, a, b, c, d, e, f) {
  if (true) {
    if (format === undefined) {
      throw new Error('invariant requires an error message argument');
    }
  }

  if (!condition) {
    var error;
    if (format === undefined) {
      error = new Error(
        'Minified exception occurred; use the non-minified dev environment ' +
        'for the full error message and additional helpful warnings.'
      );
    } else {
      var args = [a, b, c, d, e, f];
      var argIndex = 0;
      error = new Error(
        format.replace(/%s/g, function() { return args[argIndex++]; })
      );
      error.name = 'Invariant Violation';
    }

    error.framesToPop = 1; // we don't care about invariant's own frame
    throw error;
  }
};

module.exports = invariant;


/***/ }),

/***/ "./node_modules/performance-now/lib/performance-now.js":
/*!*************************************************************!*\
  !*** ./node_modules/performance-now/lib/performance-now.js ***!
  \*************************************************************/
/***/ (function(module) {

// Generated by CoffeeScript 1.12.2
(function() {
  var getNanoSeconds, hrtime, loadTime, moduleLoadTime, nodeLoadTime, upTime;

  if ((typeof performance !== "undefined" && performance !== null) && performance.now) {
    module.exports = function() {
      return performance.now();
    };
  } else if ((typeof process !== "undefined" && process !== null) && process.hrtime) {
    module.exports = function() {
      return (getNanoSeconds() - nodeLoadTime) / 1e6;
    };
    hrtime = process.hrtime;
    getNanoSeconds = function() {
      var hr;
      hr = hrtime();
      return hr[0] * 1e9 + hr[1];
    };
    moduleLoadTime = getNanoSeconds();
    upTime = process.uptime() * 1e9;
    nodeLoadTime = moduleLoadTime - upTime;
  } else if (Date.now) {
    module.exports = function() {
      return Date.now() - loadTime;
    };
    loadTime = Date.now();
  } else {
    module.exports = function() {
      return new Date().getTime() - loadTime;
    };
    loadTime = new Date().getTime();
  }

}).call(this);

//# sourceMappingURL=performance-now.js.map


/***/ }),

/***/ "./node_modules/prefix-style/index.js":
/*!********************************************!*\
  !*** ./node_modules/prefix-style/index.js ***!
  \********************************************/
/***/ ((module) => {

var div = null
var prefixes = [ 'Webkit', 'Moz', 'O', 'ms' ]

module.exports = function prefixStyle (prop) {
  // re-use a dummy div
  if (!div) {
    div = document.createElement('div')
  }

  var style = div.style

  // prop exists without prefix
  if (prop in style) {
    return prop
  }

  // borderRadius -> BorderRadius
  var titleCase = prop.charAt(0).toUpperCase() + prop.slice(1)

  // find the vendor-prefixed prop
  for (var i = prefixes.length; i >= 0; i--) {
    var name = prefixes[i] + titleCase
    // e.g. WebkitBorderRadius or webkitBorderRadius
    if (name in style) {
      return name
    }
  }

  return false
}


/***/ }),

/***/ "./node_modules/raf/index.js":
/*!***********************************!*\
  !*** ./node_modules/raf/index.js ***!
  \***********************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var now = __webpack_require__(/*! performance-now */ "./node_modules/performance-now/lib/performance-now.js")
  , root = typeof window === 'undefined' ? __webpack_require__.g : window
  , vendors = ['moz', 'webkit']
  , suffix = 'AnimationFrame'
  , raf = root['request' + suffix]
  , caf = root['cancel' + suffix] || root['cancelRequest' + suffix]

for(var i = 0; !raf && i < vendors.length; i++) {
  raf = root[vendors[i] + 'Request' + suffix]
  caf = root[vendors[i] + 'Cancel' + suffix]
      || root[vendors[i] + 'CancelRequest' + suffix]
}

// Some versions of FF have rAF but not cAF
if(!raf || !caf) {
  var last = 0
    , id = 0
    , queue = []
    , frameDuration = 1000 / 60

  raf = function(callback) {
    if(queue.length === 0) {
      var _now = now()
        , next = Math.max(0, frameDuration - (_now - last))
      last = next + _now
      setTimeout(function() {
        var cp = queue.slice(0)
        // Clear queue here to prevent
        // callbacks from appending listeners
        // to the current frame's queue
        queue.length = 0
        for(var i = 0; i < cp.length; i++) {
          if(!cp[i].cancelled) {
            try{
              cp[i].callback(last)
            } catch(e) {
              setTimeout(function() { throw e }, 0)
            }
          }
        }
      }, Math.round(next))
    }
    queue.push({
      handle: ++id,
      callback: callback,
      cancelled: false
    })
    return id
  }

  caf = function(handle) {
    for(var i = 0; i < queue.length; i++) {
      if(queue[i].handle === handle) {
        queue[i].cancelled = true
      }
    }
  }
}

module.exports = function(fn) {
  // Wrap in a new function to prevent
  // `cancel` potentially being assigned
  // to the native rAF function
  return raf.call(root, fn)
}
module.exports.cancel = function() {
  caf.apply(root, arguments)
}
module.exports.polyfill = function(object) {
  if (!object) {
    object = root;
  }
  object.requestAnimationFrame = raf
  object.cancelAnimationFrame = caf
}


/***/ }),

/***/ "./node_modules/react-custom-scrollbars/lib/Scrollbars/defaultRenderElements.js":
/*!**************************************************************************************!*\
  !*** ./node_modules/react-custom-scrollbars/lib/Scrollbars/defaultRenderElements.js ***!
  \**************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";


Object.defineProperty(exports, "__esModule", ({
    value: true
}));

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

exports.renderViewDefault = renderViewDefault;
exports.renderTrackHorizontalDefault = renderTrackHorizontalDefault;
exports.renderTrackVerticalDefault = renderTrackVerticalDefault;
exports.renderThumbHorizontalDefault = renderThumbHorizontalDefault;
exports.renderThumbVerticalDefault = renderThumbVerticalDefault;

var _react = __webpack_require__(/*! react */ "./node_modules/react/index.js");

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { "default": obj }; }

function _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }

/* eslint-disable react/prop-types */

function renderViewDefault(props) {
    return _react2["default"].createElement('div', props);
}

function renderTrackHorizontalDefault(_ref) {
    var style = _ref.style,
        props = _objectWithoutProperties(_ref, ['style']);

    var finalStyle = _extends({}, style, {
        right: 2,
        bottom: 2,
        left: 2,
        borderRadius: 3
    });
    return _react2["default"].createElement('div', _extends({ style: finalStyle }, props));
}

function renderTrackVerticalDefault(_ref2) {
    var style = _ref2.style,
        props = _objectWithoutProperties(_ref2, ['style']);

    var finalStyle = _extends({}, style, {
        right: 2,
        bottom: 2,
        top: 2,
        borderRadius: 3
    });
    return _react2["default"].createElement('div', _extends({ style: finalStyle }, props));
}

function renderThumbHorizontalDefault(_ref3) {
    var style = _ref3.style,
        props = _objectWithoutProperties(_ref3, ['style']);

    var finalStyle = _extends({}, style, {
        cursor: 'pointer',
        borderRadius: 'inherit',
        backgroundColor: 'rgba(0,0,0,.2)'
    });
    return _react2["default"].createElement('div', _extends({ style: finalStyle }, props));
}

function renderThumbVerticalDefault(_ref4) {
    var style = _ref4.style,
        props = _objectWithoutProperties(_ref4, ['style']);

    var finalStyle = _extends({}, style, {
        cursor: 'pointer',
        borderRadius: 'inherit',
        backgroundColor: 'rgba(0,0,0,.2)'
    });
    return _react2["default"].createElement('div', _extends({ style: finalStyle }, props));
}

/***/ }),

/***/ "./node_modules/react-custom-scrollbars/lib/Scrollbars/index.js":
/*!**********************************************************************!*\
  !*** ./node_modules/react-custom-scrollbars/lib/Scrollbars/index.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";


Object.defineProperty(exports, "__esModule", ({
    value: true
}));

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _raf2 = __webpack_require__(/*! raf */ "./node_modules/raf/index.js");

var _raf3 = _interopRequireDefault(_raf2);

var _domCss = __webpack_require__(/*! dom-css */ "./node_modules/dom-css/index.js");

var _domCss2 = _interopRequireDefault(_domCss);

var _react = __webpack_require__(/*! react */ "./node_modules/react/index.js");

var _propTypes = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");

var _propTypes2 = _interopRequireDefault(_propTypes);

var _isString = __webpack_require__(/*! ../utils/isString */ "./node_modules/react-custom-scrollbars/lib/utils/isString.js");

var _isString2 = _interopRequireDefault(_isString);

var _getScrollbarWidth = __webpack_require__(/*! ../utils/getScrollbarWidth */ "./node_modules/react-custom-scrollbars/lib/utils/getScrollbarWidth.js");

var _getScrollbarWidth2 = _interopRequireDefault(_getScrollbarWidth);

var _returnFalse = __webpack_require__(/*! ../utils/returnFalse */ "./node_modules/react-custom-scrollbars/lib/utils/returnFalse.js");

var _returnFalse2 = _interopRequireDefault(_returnFalse);

var _getInnerWidth = __webpack_require__(/*! ../utils/getInnerWidth */ "./node_modules/react-custom-scrollbars/lib/utils/getInnerWidth.js");

var _getInnerWidth2 = _interopRequireDefault(_getInnerWidth);

var _getInnerHeight = __webpack_require__(/*! ../utils/getInnerHeight */ "./node_modules/react-custom-scrollbars/lib/utils/getInnerHeight.js");

var _getInnerHeight2 = _interopRequireDefault(_getInnerHeight);

var _styles = __webpack_require__(/*! ./styles */ "./node_modules/react-custom-scrollbars/lib/Scrollbars/styles.js");

var _defaultRenderElements = __webpack_require__(/*! ./defaultRenderElements */ "./node_modules/react-custom-scrollbars/lib/Scrollbars/defaultRenderElements.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { "default": obj }; }

function _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var Scrollbars = function (_Component) {
    _inherits(Scrollbars, _Component);

    function Scrollbars(props) {
        var _ref;

        _classCallCheck(this, Scrollbars);

        for (var _len = arguments.length, rest = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {
            rest[_key - 1] = arguments[_key];
        }

        var _this = _possibleConstructorReturn(this, (_ref = Scrollbars.__proto__ || Object.getPrototypeOf(Scrollbars)).call.apply(_ref, [this, props].concat(rest)));

        _this.getScrollLeft = _this.getScrollLeft.bind(_this);
        _this.getScrollTop = _this.getScrollTop.bind(_this);
        _this.getScrollWidth = _this.getScrollWidth.bind(_this);
        _this.getScrollHeight = _this.getScrollHeight.bind(_this);
        _this.getClientWidth = _this.getClientWidth.bind(_this);
        _this.getClientHeight = _this.getClientHeight.bind(_this);
        _this.getValues = _this.getValues.bind(_this);
        _this.getThumbHorizontalWidth = _this.getThumbHorizontalWidth.bind(_this);
        _this.getThumbVerticalHeight = _this.getThumbVerticalHeight.bind(_this);
        _this.getScrollLeftForOffset = _this.getScrollLeftForOffset.bind(_this);
        _this.getScrollTopForOffset = _this.getScrollTopForOffset.bind(_this);

        _this.scrollLeft = _this.scrollLeft.bind(_this);
        _this.scrollTop = _this.scrollTop.bind(_this);
        _this.scrollToLeft = _this.scrollToLeft.bind(_this);
        _this.scrollToTop = _this.scrollToTop.bind(_this);
        _this.scrollToRight = _this.scrollToRight.bind(_this);
        _this.scrollToBottom = _this.scrollToBottom.bind(_this);

        _this.handleTrackMouseEnter = _this.handleTrackMouseEnter.bind(_this);
        _this.handleTrackMouseLeave = _this.handleTrackMouseLeave.bind(_this);
        _this.handleHorizontalTrackMouseDown = _this.handleHorizontalTrackMouseDown.bind(_this);
        _this.handleVerticalTrackMouseDown = _this.handleVerticalTrackMouseDown.bind(_this);
        _this.handleHorizontalThumbMouseDown = _this.handleHorizontalThumbMouseDown.bind(_this);
        _this.handleVerticalThumbMouseDown = _this.handleVerticalThumbMouseDown.bind(_this);
        _this.handleWindowResize = _this.handleWindowResize.bind(_this);
        _this.handleScroll = _this.handleScroll.bind(_this);
        _this.handleDrag = _this.handleDrag.bind(_this);
        _this.handleDragEnd = _this.handleDragEnd.bind(_this);

        _this.state = {
            didMountUniversal: false
        };
        return _this;
    }

    _createClass(Scrollbars, [{
        key: 'componentDidMount',
        value: function componentDidMount() {
            this.addListeners();
            this.update();
            this.componentDidMountUniversal();
        }
    }, {
        key: 'componentDidMountUniversal',
        value: function componentDidMountUniversal() {
            // eslint-disable-line react/sort-comp
            var universal = this.props.universal;

            if (!universal) return;
            this.setState({ didMountUniversal: true });
        }
    }, {
        key: 'componentDidUpdate',
        value: function componentDidUpdate() {
            this.update();
        }
    }, {
        key: 'componentWillUnmount',
        value: function componentWillUnmount() {
            this.removeListeners();
            (0, _raf2.cancel)(this.requestFrame);
            clearTimeout(this.hideTracksTimeout);
            clearInterval(this.detectScrollingInterval);
        }
    }, {
        key: 'getScrollLeft',
        value: function getScrollLeft() {
            if (!this.view) return 0;
            return this.view.scrollLeft;
        }
    }, {
        key: 'getScrollTop',
        value: function getScrollTop() {
            if (!this.view) return 0;
            return this.view.scrollTop;
        }
    }, {
        key: 'getScrollWidth',
        value: function getScrollWidth() {
            if (!this.view) return 0;
            return this.view.scrollWidth;
        }
    }, {
        key: 'getScrollHeight',
        value: function getScrollHeight() {
            if (!this.view) return 0;
            return this.view.scrollHeight;
        }
    }, {
        key: 'getClientWidth',
        value: function getClientWidth() {
            if (!this.view) return 0;
            return this.view.clientWidth;
        }
    }, {
        key: 'getClientHeight',
        value: function getClientHeight() {
            if (!this.view) return 0;
            return this.view.clientHeight;
        }
    }, {
        key: 'getValues',
        value: function getValues() {
            var _ref2 = this.view || {},
                _ref2$scrollLeft = _ref2.scrollLeft,
                scrollLeft = _ref2$scrollLeft === undefined ? 0 : _ref2$scrollLeft,
                _ref2$scrollTop = _ref2.scrollTop,
                scrollTop = _ref2$scrollTop === undefined ? 0 : _ref2$scrollTop,
                _ref2$scrollWidth = _ref2.scrollWidth,
                scrollWidth = _ref2$scrollWidth === undefined ? 0 : _ref2$scrollWidth,
                _ref2$scrollHeight = _ref2.scrollHeight,
                scrollHeight = _ref2$scrollHeight === undefined ? 0 : _ref2$scrollHeight,
                _ref2$clientWidth = _ref2.clientWidth,
                clientWidth = _ref2$clientWidth === undefined ? 0 : _ref2$clientWidth,
                _ref2$clientHeight = _ref2.clientHeight,
                clientHeight = _ref2$clientHeight === undefined ? 0 : _ref2$clientHeight;

            return {
                left: scrollLeft / (scrollWidth - clientWidth) || 0,
                top: scrollTop / (scrollHeight - clientHeight) || 0,
                scrollLeft: scrollLeft,
                scrollTop: scrollTop,
                scrollWidth: scrollWidth,
                scrollHeight: scrollHeight,
                clientWidth: clientWidth,
                clientHeight: clientHeight
            };
        }
    }, {
        key: 'getThumbHorizontalWidth',
        value: function getThumbHorizontalWidth() {
            var _props = this.props,
                thumbSize = _props.thumbSize,
                thumbMinSize = _props.thumbMinSize;
            var _view = this.view,
                scrollWidth = _view.scrollWidth,
                clientWidth = _view.clientWidth;

            var trackWidth = (0, _getInnerWidth2["default"])(this.trackHorizontal);
            var width = Math.ceil(clientWidth / scrollWidth * trackWidth);
            if (trackWidth === width) return 0;
            if (thumbSize) return thumbSize;
            return Math.max(width, thumbMinSize);
        }
    }, {
        key: 'getThumbVerticalHeight',
        value: function getThumbVerticalHeight() {
            var _props2 = this.props,
                thumbSize = _props2.thumbSize,
                thumbMinSize = _props2.thumbMinSize;
            var _view2 = this.view,
                scrollHeight = _view2.scrollHeight,
                clientHeight = _view2.clientHeight;

            var trackHeight = (0, _getInnerHeight2["default"])(this.trackVertical);
            var height = Math.ceil(clientHeight / scrollHeight * trackHeight);
            if (trackHeight === height) return 0;
            if (thumbSize) return thumbSize;
            return Math.max(height, thumbMinSize);
        }
    }, {
        key: 'getScrollLeftForOffset',
        value: function getScrollLeftForOffset(offset) {
            var _view3 = this.view,
                scrollWidth = _view3.scrollWidth,
                clientWidth = _view3.clientWidth;

            var trackWidth = (0, _getInnerWidth2["default"])(this.trackHorizontal);
            var thumbWidth = this.getThumbHorizontalWidth();
            return offset / (trackWidth - thumbWidth) * (scrollWidth - clientWidth);
        }
    }, {
        key: 'getScrollTopForOffset',
        value: function getScrollTopForOffset(offset) {
            var _view4 = this.view,
                scrollHeight = _view4.scrollHeight,
                clientHeight = _view4.clientHeight;

            var trackHeight = (0, _getInnerHeight2["default"])(this.trackVertical);
            var thumbHeight = this.getThumbVerticalHeight();
            return offset / (trackHeight - thumbHeight) * (scrollHeight - clientHeight);
        }
    }, {
        key: 'scrollLeft',
        value: function scrollLeft() {
            var left = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;

            if (!this.view) return;
            this.view.scrollLeft = left;
        }
    }, {
        key: 'scrollTop',
        value: function scrollTop() {
            var top = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;

            if (!this.view) return;
            this.view.scrollTop = top;
        }
    }, {
        key: 'scrollToLeft',
        value: function scrollToLeft() {
            if (!this.view) return;
            this.view.scrollLeft = 0;
        }
    }, {
        key: 'scrollToTop',
        value: function scrollToTop() {
            if (!this.view) return;
            this.view.scrollTop = 0;
        }
    }, {
        key: 'scrollToRight',
        value: function scrollToRight() {
            if (!this.view) return;
            this.view.scrollLeft = this.view.scrollWidth;
        }
    }, {
        key: 'scrollToBottom',
        value: function scrollToBottom() {
            if (!this.view) return;
            this.view.scrollTop = this.view.scrollHeight;
        }
    }, {
        key: 'addListeners',
        value: function addListeners() {
            /* istanbul ignore if */
            if (typeof document === 'undefined' || !this.view) return;
            var view = this.view,
                trackHorizontal = this.trackHorizontal,
                trackVertical = this.trackVertical,
                thumbHorizontal = this.thumbHorizontal,
                thumbVertical = this.thumbVertical;

            view.addEventListener('scroll', this.handleScroll);
            if (!(0, _getScrollbarWidth2["default"])()) return;
            trackHorizontal.addEventListener('mouseenter', this.handleTrackMouseEnter);
            trackHorizontal.addEventListener('mouseleave', this.handleTrackMouseLeave);
            trackHorizontal.addEventListener('mousedown', this.handleHorizontalTrackMouseDown);
            trackVertical.addEventListener('mouseenter', this.handleTrackMouseEnter);
            trackVertical.addEventListener('mouseleave', this.handleTrackMouseLeave);
            trackVertical.addEventListener('mousedown', this.handleVerticalTrackMouseDown);
            thumbHorizontal.addEventListener('mousedown', this.handleHorizontalThumbMouseDown);
            thumbVertical.addEventListener('mousedown', this.handleVerticalThumbMouseDown);
            window.addEventListener('resize', this.handleWindowResize);
        }
    }, {
        key: 'removeListeners',
        value: function removeListeners() {
            /* istanbul ignore if */
            if (typeof document === 'undefined' || !this.view) return;
            var view = this.view,
                trackHorizontal = this.trackHorizontal,
                trackVertical = this.trackVertical,
                thumbHorizontal = this.thumbHorizontal,
                thumbVertical = this.thumbVertical;

            view.removeEventListener('scroll', this.handleScroll);
            if (!(0, _getScrollbarWidth2["default"])()) return;
            trackHorizontal.removeEventListener('mouseenter', this.handleTrackMouseEnter);
            trackHorizontal.removeEventListener('mouseleave', this.handleTrackMouseLeave);
            trackHorizontal.removeEventListener('mousedown', this.handleHorizontalTrackMouseDown);
            trackVertical.removeEventListener('mouseenter', this.handleTrackMouseEnter);
            trackVertical.removeEventListener('mouseleave', this.handleTrackMouseLeave);
            trackVertical.removeEventListener('mousedown', this.handleVerticalTrackMouseDown);
            thumbHorizontal.removeEventListener('mousedown', this.handleHorizontalThumbMouseDown);
            thumbVertical.removeEventListener('mousedown', this.handleVerticalThumbMouseDown);
            window.removeEventListener('resize', this.handleWindowResize);
            // Possibly setup by `handleDragStart`
            this.teardownDragging();
        }
    }, {
        key: 'handleScroll',
        value: function handleScroll(event) {
            var _this2 = this;

            var _props3 = this.props,
                onScroll = _props3.onScroll,
                onScrollFrame = _props3.onScrollFrame;

            if (onScroll) onScroll(event);
            this.update(function (values) {
                var scrollLeft = values.scrollLeft,
                    scrollTop = values.scrollTop;

                _this2.viewScrollLeft = scrollLeft;
                _this2.viewScrollTop = scrollTop;
                if (onScrollFrame) onScrollFrame(values);
            });
            this.detectScrolling();
        }
    }, {
        key: 'handleScrollStart',
        value: function handleScrollStart() {
            var onScrollStart = this.props.onScrollStart;

            if (onScrollStart) onScrollStart();
            this.handleScrollStartAutoHide();
        }
    }, {
        key: 'handleScrollStartAutoHide',
        value: function handleScrollStartAutoHide() {
            var autoHide = this.props.autoHide;

            if (!autoHide) return;
            this.showTracks();
        }
    }, {
        key: 'handleScrollStop',
        value: function handleScrollStop() {
            var onScrollStop = this.props.onScrollStop;

            if (onScrollStop) onScrollStop();
            this.handleScrollStopAutoHide();
        }
    }, {
        key: 'handleScrollStopAutoHide',
        value: function handleScrollStopAutoHide() {
            var autoHide = this.props.autoHide;

            if (!autoHide) return;
            this.hideTracks();
        }
    }, {
        key: 'handleWindowResize',
        value: function handleWindowResize() {
            this.update();
        }
    }, {
        key: 'handleHorizontalTrackMouseDown',
        value: function handleHorizontalTrackMouseDown(event) {
            event.preventDefault();
            var target = event.target,
                clientX = event.clientX;

            var _target$getBoundingCl = target.getBoundingClientRect(),
                targetLeft = _target$getBoundingCl.left;

            var thumbWidth = this.getThumbHorizontalWidth();
            var offset = Math.abs(targetLeft - clientX) - thumbWidth / 2;
            this.view.scrollLeft = this.getScrollLeftForOffset(offset);
        }
    }, {
        key: 'handleVerticalTrackMouseDown',
        value: function handleVerticalTrackMouseDown(event) {
            event.preventDefault();
            var target = event.target,
                clientY = event.clientY;

            var _target$getBoundingCl2 = target.getBoundingClientRect(),
                targetTop = _target$getBoundingCl2.top;

            var thumbHeight = this.getThumbVerticalHeight();
            var offset = Math.abs(targetTop - clientY) - thumbHeight / 2;
            this.view.scrollTop = this.getScrollTopForOffset(offset);
        }
    }, {
        key: 'handleHorizontalThumbMouseDown',
        value: function handleHorizontalThumbMouseDown(event) {
            event.preventDefault();
            this.handleDragStart(event);
            var target = event.target,
                clientX = event.clientX;
            var offsetWidth = target.offsetWidth;

            var _target$getBoundingCl3 = target.getBoundingClientRect(),
                left = _target$getBoundingCl3.left;

            this.prevPageX = offsetWidth - (clientX - left);
        }
    }, {
        key: 'handleVerticalThumbMouseDown',
        value: function handleVerticalThumbMouseDown(event) {
            event.preventDefault();
            this.handleDragStart(event);
            var target = event.target,
                clientY = event.clientY;
            var offsetHeight = target.offsetHeight;

            var _target$getBoundingCl4 = target.getBoundingClientRect(),
                top = _target$getBoundingCl4.top;

            this.prevPageY = offsetHeight - (clientY - top);
        }
    }, {
        key: 'setupDragging',
        value: function setupDragging() {
            (0, _domCss2["default"])(document.body, _styles.disableSelectStyle);
            document.addEventListener('mousemove', this.handleDrag);
            document.addEventListener('mouseup', this.handleDragEnd);
            document.onselectstart = _returnFalse2["default"];
        }
    }, {
        key: 'teardownDragging',
        value: function teardownDragging() {
            (0, _domCss2["default"])(document.body, _styles.disableSelectStyleReset);
            document.removeEventListener('mousemove', this.handleDrag);
            document.removeEventListener('mouseup', this.handleDragEnd);
            document.onselectstart = undefined;
        }
    }, {
        key: 'handleDragStart',
        value: function handleDragStart(event) {
            this.dragging = true;
            event.stopImmediatePropagation();
            this.setupDragging();
        }
    }, {
        key: 'handleDrag',
        value: function handleDrag(event) {
            if (this.prevPageX) {
                var clientX = event.clientX;

                var _trackHorizontal$getB = this.trackHorizontal.getBoundingClientRect(),
                    trackLeft = _trackHorizontal$getB.left;

                var thumbWidth = this.getThumbHorizontalWidth();
                var clickPosition = thumbWidth - this.prevPageX;
                var offset = -trackLeft + clientX - clickPosition;
                this.view.scrollLeft = this.getScrollLeftForOffset(offset);
            }
            if (this.prevPageY) {
                var clientY = event.clientY;

                var _trackVertical$getBou = this.trackVertical.getBoundingClientRect(),
                    trackTop = _trackVertical$getBou.top;

                var thumbHeight = this.getThumbVerticalHeight();
                var _clickPosition = thumbHeight - this.prevPageY;
                var _offset = -trackTop + clientY - _clickPosition;
                this.view.scrollTop = this.getScrollTopForOffset(_offset);
            }
            return false;
        }
    }, {
        key: 'handleDragEnd',
        value: function handleDragEnd() {
            this.dragging = false;
            this.prevPageX = this.prevPageY = 0;
            this.teardownDragging();
            this.handleDragEndAutoHide();
        }
    }, {
        key: 'handleDragEndAutoHide',
        value: function handleDragEndAutoHide() {
            var autoHide = this.props.autoHide;

            if (!autoHide) return;
            this.hideTracks();
        }
    }, {
        key: 'handleTrackMouseEnter',
        value: function handleTrackMouseEnter() {
            this.trackMouseOver = true;
            this.handleTrackMouseEnterAutoHide();
        }
    }, {
        key: 'handleTrackMouseEnterAutoHide',
        value: function handleTrackMouseEnterAutoHide() {
            var autoHide = this.props.autoHide;

            if (!autoHide) return;
            this.showTracks();
        }
    }, {
        key: 'handleTrackMouseLeave',
        value: function handleTrackMouseLeave() {
            this.trackMouseOver = false;
            this.handleTrackMouseLeaveAutoHide();
        }
    }, {
        key: 'handleTrackMouseLeaveAutoHide',
        value: function handleTrackMouseLeaveAutoHide() {
            var autoHide = this.props.autoHide;

            if (!autoHide) return;
            this.hideTracks();
        }
    }, {
        key: 'showTracks',
        value: function showTracks() {
            clearTimeout(this.hideTracksTimeout);
            (0, _domCss2["default"])(this.trackHorizontal, { opacity: 1 });
            (0, _domCss2["default"])(this.trackVertical, { opacity: 1 });
        }
    }, {
        key: 'hideTracks',
        value: function hideTracks() {
            var _this3 = this;

            if (this.dragging) return;
            if (this.scrolling) return;
            if (this.trackMouseOver) return;
            var autoHideTimeout = this.props.autoHideTimeout;

            clearTimeout(this.hideTracksTimeout);
            this.hideTracksTimeout = setTimeout(function () {
                (0, _domCss2["default"])(_this3.trackHorizontal, { opacity: 0 });
                (0, _domCss2["default"])(_this3.trackVertical, { opacity: 0 });
            }, autoHideTimeout);
        }
    }, {
        key: 'detectScrolling',
        value: function detectScrolling() {
            var _this4 = this;

            if (this.scrolling) return;
            this.scrolling = true;
            this.handleScrollStart();
            this.detectScrollingInterval = setInterval(function () {
                if (_this4.lastViewScrollLeft === _this4.viewScrollLeft && _this4.lastViewScrollTop === _this4.viewScrollTop) {
                    clearInterval(_this4.detectScrollingInterval);
                    _this4.scrolling = false;
                    _this4.handleScrollStop();
                }
                _this4.lastViewScrollLeft = _this4.viewScrollLeft;
                _this4.lastViewScrollTop = _this4.viewScrollTop;
            }, 100);
        }
    }, {
        key: 'raf',
        value: function raf(callback) {
            var _this5 = this;

            if (this.requestFrame) _raf3["default"].cancel(this.requestFrame);
            this.requestFrame = (0, _raf3["default"])(function () {
                _this5.requestFrame = undefined;
                callback();
            });
        }
    }, {
        key: 'update',
        value: function update(callback) {
            var _this6 = this;

            this.raf(function () {
                return _this6._update(callback);
            });
        }
    }, {
        key: '_update',
        value: function _update(callback) {
            var _props4 = this.props,
                onUpdate = _props4.onUpdate,
                hideTracksWhenNotNeeded = _props4.hideTracksWhenNotNeeded;

            var values = this.getValues();
            if ((0, _getScrollbarWidth2["default"])()) {
                var scrollLeft = values.scrollLeft,
                    clientWidth = values.clientWidth,
                    scrollWidth = values.scrollWidth;

                var trackHorizontalWidth = (0, _getInnerWidth2["default"])(this.trackHorizontal);
                var thumbHorizontalWidth = this.getThumbHorizontalWidth();
                var thumbHorizontalX = scrollLeft / (scrollWidth - clientWidth) * (trackHorizontalWidth - thumbHorizontalWidth);
                var thumbHorizontalStyle = {
                    width: thumbHorizontalWidth,
                    transform: 'translateX(' + thumbHorizontalX + 'px)'
                };
                var scrollTop = values.scrollTop,
                    clientHeight = values.clientHeight,
                    scrollHeight = values.scrollHeight;

                var trackVerticalHeight = (0, _getInnerHeight2["default"])(this.trackVertical);
                var thumbVerticalHeight = this.getThumbVerticalHeight();
                var thumbVerticalY = scrollTop / (scrollHeight - clientHeight) * (trackVerticalHeight - thumbVerticalHeight);
                var thumbVerticalStyle = {
                    height: thumbVerticalHeight,
                    transform: 'translateY(' + thumbVerticalY + 'px)'
                };
                if (hideTracksWhenNotNeeded) {
                    var trackHorizontalStyle = {
                        visibility: scrollWidth > clientWidth ? 'visible' : 'hidden'
                    };
                    var trackVerticalStyle = {
                        visibility: scrollHeight > clientHeight ? 'visible' : 'hidden'
                    };
                    (0, _domCss2["default"])(this.trackHorizontal, trackHorizontalStyle);
                    (0, _domCss2["default"])(this.trackVertical, trackVerticalStyle);
                }
                (0, _domCss2["default"])(this.thumbHorizontal, thumbHorizontalStyle);
                (0, _domCss2["default"])(this.thumbVertical, thumbVerticalStyle);
            }
            if (onUpdate) onUpdate(values);
            if (typeof callback !== 'function') return;
            callback(values);
        }
    }, {
        key: 'render',
        value: function render() {
            var _this7 = this;

            var scrollbarWidth = (0, _getScrollbarWidth2["default"])();
            /* eslint-disable no-unused-vars */

            var _props5 = this.props,
                onScroll = _props5.onScroll,
                onScrollFrame = _props5.onScrollFrame,
                onScrollStart = _props5.onScrollStart,
                onScrollStop = _props5.onScrollStop,
                onUpdate = _props5.onUpdate,
                renderView = _props5.renderView,
                renderTrackHorizontal = _props5.renderTrackHorizontal,
                renderTrackVertical = _props5.renderTrackVertical,
                renderThumbHorizontal = _props5.renderThumbHorizontal,
                renderThumbVertical = _props5.renderThumbVertical,
                tagName = _props5.tagName,
                hideTracksWhenNotNeeded = _props5.hideTracksWhenNotNeeded,
                autoHide = _props5.autoHide,
                autoHideTimeout = _props5.autoHideTimeout,
                autoHideDuration = _props5.autoHideDuration,
                thumbSize = _props5.thumbSize,
                thumbMinSize = _props5.thumbMinSize,
                universal = _props5.universal,
                autoHeight = _props5.autoHeight,
                autoHeightMin = _props5.autoHeightMin,
                autoHeightMax = _props5.autoHeightMax,
                style = _props5.style,
                children = _props5.children,
                props = _objectWithoutProperties(_props5, ['onScroll', 'onScrollFrame', 'onScrollStart', 'onScrollStop', 'onUpdate', 'renderView', 'renderTrackHorizontal', 'renderTrackVertical', 'renderThumbHorizontal', 'renderThumbVertical', 'tagName', 'hideTracksWhenNotNeeded', 'autoHide', 'autoHideTimeout', 'autoHideDuration', 'thumbSize', 'thumbMinSize', 'universal', 'autoHeight', 'autoHeightMin', 'autoHeightMax', 'style', 'children']);
            /* eslint-enable no-unused-vars */

            var didMountUniversal = this.state.didMountUniversal;


            var containerStyle = _extends({}, _styles.containerStyleDefault, autoHeight && _extends({}, _styles.containerStyleAutoHeight, {
                minHeight: autoHeightMin,
                maxHeight: autoHeightMax
            }), style);

            var viewStyle = _extends({}, _styles.viewStyleDefault, {
                // Hide scrollbars by setting a negative margin
                marginRight: scrollbarWidth ? -scrollbarWidth : 0,
                marginBottom: scrollbarWidth ? -scrollbarWidth : 0
            }, autoHeight && _extends({}, _styles.viewStyleAutoHeight, {
                // Add scrollbarWidth to autoHeight in order to compensate negative margins
                minHeight: (0, _isString2["default"])(autoHeightMin) ? 'calc(' + autoHeightMin + ' + ' + scrollbarWidth + 'px)' : autoHeightMin + scrollbarWidth,
                maxHeight: (0, _isString2["default"])(autoHeightMax) ? 'calc(' + autoHeightMax + ' + ' + scrollbarWidth + 'px)' : autoHeightMax + scrollbarWidth
            }), autoHeight && universal && !didMountUniversal && {
                minHeight: autoHeightMin,
                maxHeight: autoHeightMax
            }, universal && !didMountUniversal && _styles.viewStyleUniversalInitial);

            var trackAutoHeightStyle = {
                transition: 'opacity ' + autoHideDuration + 'ms',
                opacity: 0
            };

            var trackHorizontalStyle = _extends({}, _styles.trackHorizontalStyleDefault, autoHide && trackAutoHeightStyle, (!scrollbarWidth || universal && !didMountUniversal) && {
                display: 'none'
            });

            var trackVerticalStyle = _extends({}, _styles.trackVerticalStyleDefault, autoHide && trackAutoHeightStyle, (!scrollbarWidth || universal && !didMountUniversal) && {
                display: 'none'
            });

            return (0, _react.createElement)(tagName, _extends({}, props, { style: containerStyle, ref: function ref(_ref3) {
                    _this7.container = _ref3;
                } }), [(0, _react.cloneElement)(renderView({ style: viewStyle }), { key: 'view', ref: function ref(_ref4) {
                    _this7.view = _ref4;
                } }, children), (0, _react.cloneElement)(renderTrackHorizontal({ style: trackHorizontalStyle }), { key: 'trackHorizontal', ref: function ref(_ref5) {
                    _this7.trackHorizontal = _ref5;
                } }, (0, _react.cloneElement)(renderThumbHorizontal({ style: _styles.thumbHorizontalStyleDefault }), { ref: function ref(_ref6) {
                    _this7.thumbHorizontal = _ref6;
                } })), (0, _react.cloneElement)(renderTrackVertical({ style: trackVerticalStyle }), { key: 'trackVertical', ref: function ref(_ref7) {
                    _this7.trackVertical = _ref7;
                } }, (0, _react.cloneElement)(renderThumbVertical({ style: _styles.thumbVerticalStyleDefault }), { ref: function ref(_ref8) {
                    _this7.thumbVertical = _ref8;
                } }))]);
        }
    }]);

    return Scrollbars;
}(_react.Component);

exports["default"] = Scrollbars;


Scrollbars.propTypes = {
    onScroll: _propTypes2["default"].func,
    onScrollFrame: _propTypes2["default"].func,
    onScrollStart: _propTypes2["default"].func,
    onScrollStop: _propTypes2["default"].func,
    onUpdate: _propTypes2["default"].func,
    renderView: _propTypes2["default"].func,
    renderTrackHorizontal: _propTypes2["default"].func,
    renderTrackVertical: _propTypes2["default"].func,
    renderThumbHorizontal: _propTypes2["default"].func,
    renderThumbVertical: _propTypes2["default"].func,
    tagName: _propTypes2["default"].string,
    thumbSize: _propTypes2["default"].number,
    thumbMinSize: _propTypes2["default"].number,
    hideTracksWhenNotNeeded: _propTypes2["default"].bool,
    autoHide: _propTypes2["default"].bool,
    autoHideTimeout: _propTypes2["default"].number,
    autoHideDuration: _propTypes2["default"].number,
    autoHeight: _propTypes2["default"].bool,
    autoHeightMin: _propTypes2["default"].oneOfType([_propTypes2["default"].number, _propTypes2["default"].string]),
    autoHeightMax: _propTypes2["default"].oneOfType([_propTypes2["default"].number, _propTypes2["default"].string]),
    universal: _propTypes2["default"].bool,
    style: _propTypes2["default"].object,
    children: _propTypes2["default"].node
};

Scrollbars.defaultProps = {
    renderView: _defaultRenderElements.renderViewDefault,
    renderTrackHorizontal: _defaultRenderElements.renderTrackHorizontalDefault,
    renderTrackVertical: _defaultRenderElements.renderTrackVerticalDefault,
    renderThumbHorizontal: _defaultRenderElements.renderThumbHorizontalDefault,
    renderThumbVertical: _defaultRenderElements.renderThumbVerticalDefault,
    tagName: 'div',
    thumbMinSize: 30,
    hideTracksWhenNotNeeded: false,
    autoHide: false,
    autoHideTimeout: 1000,
    autoHideDuration: 200,
    autoHeight: false,
    autoHeightMin: 0,
    autoHeightMax: 200,
    universal: false
};

/***/ }),

/***/ "./node_modules/react-custom-scrollbars/lib/Scrollbars/styles.js":
/*!***********************************************************************!*\
  !*** ./node_modules/react-custom-scrollbars/lib/Scrollbars/styles.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";


Object.defineProperty(exports, "__esModule", ({
    value: true
}));
var containerStyleDefault = exports.containerStyleDefault = {
    position: 'relative',
    overflow: 'hidden',
    width: '100%',
    height: '100%'
};

// Overrides containerStyleDefault properties
var containerStyleAutoHeight = exports.containerStyleAutoHeight = {
    height: 'auto'
};

var viewStyleDefault = exports.viewStyleDefault = {
    position: 'absolute',
    top: 0,
    left: 0,
    right: 0,
    bottom: 0,
    overflow: 'scroll',
    WebkitOverflowScrolling: 'touch'
};

// Overrides viewStyleDefault properties
var viewStyleAutoHeight = exports.viewStyleAutoHeight = {
    position: 'relative',
    top: undefined,
    left: undefined,
    right: undefined,
    bottom: undefined
};

var viewStyleUniversalInitial = exports.viewStyleUniversalInitial = {
    overflow: 'hidden',
    marginRight: 0,
    marginBottom: 0
};

var trackHorizontalStyleDefault = exports.trackHorizontalStyleDefault = {
    position: 'absolute',
    height: 6
};

var trackVerticalStyleDefault = exports.trackVerticalStyleDefault = {
    position: 'absolute',
    width: 6
};

var thumbHorizontalStyleDefault = exports.thumbHorizontalStyleDefault = {
    position: 'relative',
    display: 'block',
    height: '100%'
};

var thumbVerticalStyleDefault = exports.thumbVerticalStyleDefault = {
    position: 'relative',
    display: 'block',
    width: '100%'
};

var disableSelectStyle = exports.disableSelectStyle = {
    userSelect: 'none'
};

var disableSelectStyleReset = exports.disableSelectStyleReset = {
    userSelect: ''
};

/***/ }),

/***/ "./node_modules/react-custom-scrollbars/lib/index.js":
/*!***********************************************************!*\
  !*** ./node_modules/react-custom-scrollbars/lib/index.js ***!
  \***********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";


Object.defineProperty(exports, "__esModule", ({
  value: true
}));
exports.Scrollbars = undefined;

var _Scrollbars = __webpack_require__(/*! ./Scrollbars */ "./node_modules/react-custom-scrollbars/lib/Scrollbars/index.js");

var _Scrollbars2 = _interopRequireDefault(_Scrollbars);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { "default": obj }; }

exports["default"] = _Scrollbars2["default"];
exports.Scrollbars = _Scrollbars2["default"];

/***/ }),

/***/ "./node_modules/react-custom-scrollbars/lib/utils/getInnerHeight.js":
/*!**************************************************************************!*\
  !*** ./node_modules/react-custom-scrollbars/lib/utils/getInnerHeight.js ***!
  \**************************************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";


Object.defineProperty(exports, "__esModule", ({
    value: true
}));
exports["default"] = getInnerHeight;
function getInnerHeight(el) {
    var clientHeight = el.clientHeight;

    var _getComputedStyle = getComputedStyle(el),
        paddingTop = _getComputedStyle.paddingTop,
        paddingBottom = _getComputedStyle.paddingBottom;

    return clientHeight - parseFloat(paddingTop) - parseFloat(paddingBottom);
}

/***/ }),

/***/ "./node_modules/react-custom-scrollbars/lib/utils/getInnerWidth.js":
/*!*************************************************************************!*\
  !*** ./node_modules/react-custom-scrollbars/lib/utils/getInnerWidth.js ***!
  \*************************************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";


Object.defineProperty(exports, "__esModule", ({
    value: true
}));
exports["default"] = getInnerWidth;
function getInnerWidth(el) {
    var clientWidth = el.clientWidth;

    var _getComputedStyle = getComputedStyle(el),
        paddingLeft = _getComputedStyle.paddingLeft,
        paddingRight = _getComputedStyle.paddingRight;

    return clientWidth - parseFloat(paddingLeft) - parseFloat(paddingRight);
}

/***/ }),

/***/ "./node_modules/react-custom-scrollbars/lib/utils/getScrollbarWidth.js":
/*!*****************************************************************************!*\
  !*** ./node_modules/react-custom-scrollbars/lib/utils/getScrollbarWidth.js ***!
  \*****************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";


Object.defineProperty(exports, "__esModule", ({
    value: true
}));
exports["default"] = getScrollbarWidth;

var _domCss = __webpack_require__(/*! dom-css */ "./node_modules/dom-css/index.js");

var _domCss2 = _interopRequireDefault(_domCss);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { "default": obj }; }

var scrollbarWidth = false;

function getScrollbarWidth() {
    if (scrollbarWidth !== false) return scrollbarWidth;
    /* istanbul ignore else */
    if (typeof document !== 'undefined') {
        var div = document.createElement('div');
        (0, _domCss2["default"])(div, {
            width: 100,
            height: 100,
            position: 'absolute',
            top: -9999,
            overflow: 'scroll',
            MsOverflowStyle: 'scrollbar'
        });
        document.body.appendChild(div);
        scrollbarWidth = div.offsetWidth - div.clientWidth;
        document.body.removeChild(div);
    } else {
        scrollbarWidth = 0;
    }
    return scrollbarWidth || 0;
}

/***/ }),

/***/ "./node_modules/react-custom-scrollbars/lib/utils/isString.js":
/*!********************************************************************!*\
  !*** ./node_modules/react-custom-scrollbars/lib/utils/isString.js ***!
  \********************************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";


Object.defineProperty(exports, "__esModule", ({
    value: true
}));
exports["default"] = isString;
function isString(maybe) {
    return typeof maybe === 'string';
}

/***/ }),

/***/ "./node_modules/react-custom-scrollbars/lib/utils/returnFalse.js":
/*!***********************************************************************!*\
  !*** ./node_modules/react-custom-scrollbars/lib/utils/returnFalse.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";


Object.defineProperty(exports, "__esModule", ({
    value: true
}));
exports["default"] = returnFalse;
function returnFalse() {
    return false;
}

/***/ }),

/***/ "./node_modules/react-mentions/dist/react-mentions.esm.js":
/*!****************************************************************!*\
  !*** ./node_modules/react-mentions/dist/react-mentions.esm.js ***!
  \****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Mention": () => (/* binding */ Mention),
/* harmony export */   "MentionsInput": () => (/* binding */ MentionsInput$1)
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/esm/toConsumableArray */ "./node_modules/react-mentions/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js");
/* harmony import */ var _babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/esm/extends */ "./node_modules/react-mentions/node_modules/@babel/runtime/helpers/esm/extends.js");
/* harmony import */ var _babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/esm/classCallCheck */ "./node_modules/react-mentions/node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/esm/createClass */ "./node_modules/react-mentions/node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/esm/possibleConstructorReturn */ "./node_modules/react-mentions/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/esm/getPrototypeOf */ "./node_modules/react-mentions/node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js");
/* harmony import */ var _babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime/helpers/esm/assertThisInitialized */ "./node_modules/react-mentions/node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js");
/* harmony import */ var _babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @babel/runtime/helpers/esm/inherits */ "./node_modules/react-mentions/node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var _babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @babel/runtime/helpers/esm/defineProperty */ "./node_modules/react-mentions/node_modules/@babel/runtime/helpers/esm/defineProperty.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var invariant__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! invariant */ "./node_modules/invariant/browser.js");
/* harmony import */ var invariant__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(invariant__WEBPACK_IMPORTED_MODULE_10__);
/* harmony import */ var _babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @babel/runtime/helpers/esm/slicedToArray */ "./node_modules/react-mentions/node_modules/@babel/runtime/helpers/esm/slicedToArray.js");
/* harmony import */ var _babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @babel/runtime/helpers/esm/objectWithoutProperties */ "./node_modules/react-mentions/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js");
/* harmony import */ var substyle__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! substyle */ "./node_modules/substyle/es6/index.js");
/* harmony import */ var substyle__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! substyle */ "./node_modules/substyle/es6/inline.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_13___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_13__);
/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! react-dom */ "./node_modules/react-dom/index.js");

















// escape RegExp special characters https://stackoverflow.com/a/9310752/5142490
var escapeRegex = function escapeRegex(str) {
  return str.replace(/[-[\]{}()*+?.,\\^$|#\s]/g, '\\$&');
};

var PLACEHOLDERS = {
  id: '__id__',
  display: '__display__'
};

var findPositionOfCapturingGroup = function findPositionOfCapturingGroup(markup, parameterName) {
  invariant__WEBPACK_IMPORTED_MODULE_10___default()(parameterName === 'id' || parameterName === 'display', "Second arg must be either \"id\" or \"display\", got: \"".concat(parameterName, "\"")); // find positions of placeholders in the markup

  var indexDisplay = markup.indexOf(PLACEHOLDERS.display);
  var indexId = markup.indexOf(PLACEHOLDERS.id); // set indices to null if not found

  if (indexDisplay < 0) indexDisplay = null;
  if (indexId < 0) indexId = null; // markup must contain one of the mandatory placeholders

  invariant__WEBPACK_IMPORTED_MODULE_10___default()(indexDisplay !== null || indexId !== null, "The markup '".concat(markup, "' does not contain either of the placeholders '__id__' or '__display__'"));

  if (indexDisplay !== null && indexId !== null) {
    // both placeholders are used, return 0 or 1 depending on the position of the requested parameter
    return parameterName === 'id' && indexId <= indexDisplay || parameterName === 'display' && indexDisplay <= indexId ? 0 : 1;
  } // just one placeholder is being used, we'll use the captured string for both parameters


  return 0;
};

var combineRegExps = function combineRegExps(regExps) {
  var serializedRegexParser = /^\/(.+)\/(\w+)?$/;
  return new RegExp(regExps.map(function (regex) {
    var _serializedRegexParse = serializedRegexParser.exec(regex.toString()),
        _serializedRegexParse2 = (0,_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_11__["default"])(_serializedRegexParse, 3),
        regexString = _serializedRegexParse2[1],
        regexFlags = _serializedRegexParse2[2];

    invariant__WEBPACK_IMPORTED_MODULE_10___default()(!regexFlags, "RegExp flags are not supported. Change /".concat(regexString, "/").concat(regexFlags, " into /").concat(regexString, "/"));
    return "(".concat(regexString, ")");
  }).join('|'), 'g');
};

var countPlaceholders = function countPlaceholders(markup) {
  var count = 0;
  if (markup.indexOf('__id__') >= 0) count++;
  if (markup.indexOf('__display__') >= 0) count++;
  return count;
};

var emptyFn = function emptyFn() {}; // Finds all occurrences of the markup in the value and calls the `markupIteratee` callback for each of them.
// The optional `textIteratee` callback is called for each plain text ranges in between these markup occurrences.


var iterateMentionsMarkup = function iterateMentionsMarkup(value, config, markupIteratee) {
  var textIteratee = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : emptyFn;
  var regex = combineRegExps(config.map(function (c) {
    return c.regex;
  }));
  var accOffset = 2; // first is whole match, second is the for the capturing group of first regexp component

  var captureGroupOffsets = config.map(function (_ref) {
    var markup = _ref.markup;
    var result = accOffset; // + 1 is for the capturing group we add around each regexp component in combineRegExps

    accOffset += countPlaceholders(markup) + 1;
    return result;
  });
  var match;
  var start = 0;
  var currentPlainTextIndex = 0; // detect all mention markup occurrences in the value and iterate the matches

  while ((match = regex.exec(value)) !== null) {
    var offset = captureGroupOffsets.find(function (o) {
      return !!match[o];
    }); // eslint-disable-line no-loop-func

    var mentionChildIndex = captureGroupOffsets.indexOf(offset);
    var _config$mentionChildI = config[mentionChildIndex],
        markup = _config$mentionChildI.markup,
        displayTransform = _config$mentionChildI.displayTransform;
    var idPos = offset + findPositionOfCapturingGroup(markup, 'id');
    var displayPos = offset + findPositionOfCapturingGroup(markup, 'display');
    var id = match[idPos];
    var display = displayTransform(id, match[displayPos]);
    var substr = value.substring(start, match.index);
    textIteratee(substr, start, currentPlainTextIndex);
    currentPlainTextIndex += substr.length;
    markupIteratee(match[0], match.index, currentPlainTextIndex, id, display, mentionChildIndex, start);
    currentPlainTextIndex += display.length;
    start = regex.lastIndex;
  }

  if (start < value.length) {
    textIteratee(value.substring(start), start, currentPlainTextIndex);
  }
};

var getPlainText = function getPlainText(value, config) {
  var result = '';
  iterateMentionsMarkup(value, config, function (match, index, plainTextIndex, id, display) {
    result += display;
  }, function (plainText) {
    result += plainText;
  });
  return result;
};

// in the marked up value string.
// If the passed character index lies inside a mention, the value of `inMarkupCorrection` defines the
// correction to apply:
//   - 'START' to return the index of the mention markup's first char (default)
//   - 'END' to return the index after its last char
//   - 'NULL' to return null

var mapPlainTextIndex = function mapPlainTextIndex(value, config, indexInPlainText) {
  var inMarkupCorrection = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 'START';

  if (typeof indexInPlainText !== 'number') {
    return indexInPlainText;
  }

  var result;

  var textIteratee = function textIteratee(substr, index, substrPlainTextIndex) {
    if (result !== undefined) return;

    if (substrPlainTextIndex + substr.length >= indexInPlainText) {
      // found the corresponding position in the current plain text range
      result = index + indexInPlainText - substrPlainTextIndex;
    }
  };

  var markupIteratee = function markupIteratee(markup, index, mentionPlainTextIndex, id, display, childIndex, lastMentionEndIndex) {
    if (result !== undefined) return;

    if (mentionPlainTextIndex + display.length > indexInPlainText) {
      // found the corresponding position inside current match,
      // return the index of the first or after the last char of the matching markup
      // depending on whether the `inMarkupCorrection`
      if (inMarkupCorrection === 'NULL') {
        result = null;
      } else {
        result = index + (inMarkupCorrection === 'END' ? markup.length : 0);
      }
    }
  };

  iterateMentionsMarkup(value, config, markupIteratee, textIteratee); // when a mention is at the end of the value and we want to get the caret position
  // at the end of the string, result is undefined

  return result === undefined ? value.length : result;
};

var spliceString = function spliceString(str, start, end, insert) {
  return str.substring(0, start) + insert + str.substring(end);
};

// guided by the textarea text selection ranges before and after the change

var applyChangeToValue = function applyChangeToValue(value, plainTextValue, _ref, config) {
  var selectionStartBefore = _ref.selectionStartBefore,
      selectionEndBefore = _ref.selectionEndBefore,
      selectionEndAfter = _ref.selectionEndAfter;
  var oldPlainTextValue = getPlainText(value, config);
  var lengthDelta = oldPlainTextValue.length - plainTextValue.length;

  if (selectionStartBefore === 'undefined') {
    selectionStartBefore = selectionEndAfter + lengthDelta;
  }

  if (selectionEndBefore === 'undefined') {
    selectionEndBefore = selectionStartBefore;
  } // Fixes an issue with replacing combined characters for complex input. Eg like acented letters on OSX


  if (selectionStartBefore === selectionEndBefore && selectionEndBefore === selectionEndAfter && oldPlainTextValue.length === plainTextValue.length) {
    selectionStartBefore = selectionStartBefore - 1;
  } // extract the insertion from the new plain text value


  var insert = plainTextValue.slice(selectionStartBefore, selectionEndAfter); // handling for Backspace key with no range selection

  var spliceStart = Math.min(selectionStartBefore, selectionEndAfter);
  var spliceEnd = selectionEndBefore;

  if (selectionStartBefore === selectionEndAfter) {
    // handling for Delete key with no range selection
    spliceEnd = Math.max(selectionEndBefore, selectionStartBefore + lengthDelta);
  }

  var mappedSpliceStart = mapPlainTextIndex(value, config, spliceStart, 'START');
  var mappedSpliceEnd = mapPlainTextIndex(value, config, spliceEnd, 'END');
  var controlSpliceStart = mapPlainTextIndex(value, config, spliceStart, 'NULL');
  var controlSpliceEnd = mapPlainTextIndex(value, config, spliceEnd, 'NULL');
  var willRemoveMention = controlSpliceStart === null || controlSpliceEnd === null;
  var newValue = spliceString(value, mappedSpliceStart, mappedSpliceEnd, insert);

  if (!willRemoveMention) {
    // test for auto-completion changes
    var controlPlainTextValue = getPlainText(newValue, config);

    if (controlPlainTextValue !== plainTextValue) {
      // some auto-correction is going on
      // find start of diff
      spliceStart = 0;

      while (plainTextValue[spliceStart] === controlPlainTextValue[spliceStart]) {
        spliceStart++;
      } // extract auto-corrected insertion


      insert = plainTextValue.slice(spliceStart, selectionEndAfter); // find index of the unchanged remainder

      spliceEnd = oldPlainTextValue.lastIndexOf(plainTextValue.substring(selectionEndAfter)); // re-map the corrected indices

      mappedSpliceStart = mapPlainTextIndex(value, config, spliceStart, 'START');
      mappedSpliceEnd = mapPlainTextIndex(value, config, spliceEnd, 'END');
      newValue = spliceString(value, mappedSpliceStart, mappedSpliceEnd, insert);
    }
  }

  return newValue;
};

// returns a the index of of the first char of the mention in the plain text.
// If indexInPlainText does not lie inside a mention, returns indexInPlainText.

var findStartOfMentionInPlainText = function findStartOfMentionInPlainText(value, config, indexInPlainText) {
  var result = indexInPlainText;
  var foundMention = false;

  var markupIteratee = function markupIteratee(markup, index, mentionPlainTextIndex, id, display, childIndex, lastMentionEndIndex) {
    if (mentionPlainTextIndex <= indexInPlainText && mentionPlainTextIndex + display.length > indexInPlainText) {
      result = mentionPlainTextIndex;
      foundMention = true;
    }
  };

  iterateMentionsMarkup(value, config, markupIteratee);

  if (foundMention) {
    return result;
  }
};

var getMentions = function getMentions(value, config) {
  var mentions = [];
  iterateMentionsMarkup(value, config, function (match, index, plainTextIndex, id, display, childIndex, start) {
    mentions.push({
      id: id,
      display: display,
      childIndex: childIndex,
      index: index,
      plainTextIndex: plainTextIndex
    });
  });
  return mentions;
};

var getSuggestionHtmlId = function getSuggestionHtmlId(prefix, id) {
  return "".concat(prefix, "-").concat(id);
};

var countSuggestions = function countSuggestions(suggestions) {
  return Object.values(suggestions).reduce(function (acc, _ref) {
    var results = _ref.results;
    return acc + results.length;
  }, 0);
};

var getEndOfLastMention = function getEndOfLastMention(value, config) {
  var mentions = getMentions(value, config);
  var lastMention = mentions[mentions.length - 1];
  return lastMention ? lastMention.plainTextIndex + lastMention.display.length : 0;
};

var markupToRegex = function markupToRegex(markup) {
  var escapedMarkup = escapeRegex(markup);
  var charAfterDisplay = markup[markup.indexOf(PLACEHOLDERS.display) + PLACEHOLDERS.display.length];
  var charAfterId = markup[markup.indexOf(PLACEHOLDERS.id) + PLACEHOLDERS.id.length];
  return new RegExp(escapedMarkup.replace(PLACEHOLDERS.display, "([^".concat(escapeRegex(charAfterDisplay || ''), "]+?)")).replace(PLACEHOLDERS.id, "([^".concat(escapeRegex(charAfterId || ''), "]+?)")));
};

var readConfigFromChildren = function readConfigFromChildren(children) {
  return react__WEBPACK_IMPORTED_MODULE_9__.Children.toArray(children).map(function (_ref) {
    var _ref$props = _ref.props,
        markup = _ref$props.markup,
        regex = _ref$props.regex,
        displayTransform = _ref$props.displayTransform;
    return {
      markup: markup,
      regex: regex ? coerceCapturingGroups(regex, markup) : markupToRegex(markup),
      displayTransform: displayTransform || function (id, display) {
        return display || id;
      }
    };
  });
}; // make sure that the custom regex defines the correct number of capturing groups


var coerceCapturingGroups = function coerceCapturingGroups(regex, markup) {
  var numberOfGroups = new RegExp(regex.toString() + '|').exec('').length - 1;
  var numberOfPlaceholders = countPlaceholders(markup);
  invariant__WEBPACK_IMPORTED_MODULE_10___default()(numberOfGroups === numberOfPlaceholders, "Number of capturing groups in RegExp ".concat(regex.toString(), " (").concat(numberOfGroups, ") does not match the number of placeholders in the markup '").concat(markup, "' (").concat(numberOfPlaceholders, ")"));
  return regex;
};

var makeMentionsMarkup = function makeMentionsMarkup(markup, id, display) {
  return markup.replace(PLACEHOLDERS.id, id).replace(PLACEHOLDERS.display, display);
};

// This contains all the latin letters and the regex that match these letters with diacritics
// https://stackoverflow.com/questions/990904/remove-accents-diacritics-in-a-string-in-javascript
var lettersDiacritics = [{
  base: 'A',
  letters: /(&#65;|&#9398;|&#65313;|&#192;|&#193;|&#194;|&#7846;|&#7844;|&#7850;|&#7848;|&#195;|&#256;|&#258;|&#7856;|&#7854;|&#7860;|&#7858;|&#550;|&#480;|&#196;|&#478;|&#7842;|&#197;|&#506;|&#461;|&#512;|&#514;|&#7840;|&#7852;|&#7862;|&#7680;|&#260;|&#570;|&#11375;|[\u0041\u24B6\uFF21\u00C0\u00C1\u00C2\u1EA6\u1EA4\u1EAA\u1EA8\u00C3\u0100\u0102\u1EB0\u1EAE\u1EB4\u1EB2\u0226\u01E0\u00C4\u01DE\u1EA2\u00C5\u01FA\u01CD\u0200\u0202\u1EA0\u1EAC\u1EB6\u1E00\u0104\u023A\u2C6F])/g
}, {
  base: 'AA',
  letters: /(&#42802;|[\uA732])/g
}, {
  base: 'AE',
  letters: /(&#198;|&#508;|&#482;|[\u00C6\u01FC\u01E2])/g
}, {
  base: 'AO',
  letters: /(&#42804;|[\uA734])/g
}, {
  base: 'AU',
  letters: /(&#42806;|[\uA736])/g
}, {
  base: 'AV',
  letters: /(&#42808;|&#42810;|[\uA738\uA73A])/g
}, {
  base: 'AY',
  letters: /(&#42812;|[\uA73C])/g
}, {
  base: 'B',
  letters: /(&#66;|&#9399;|&#65314;|&#7682;|&#7684;|&#7686;|&#579;|&#386;|&#385;|[\u0042\u24B7\uFF22\u1E02\u1E04\u1E06\u0243\u0182\u0181])/g
}, {
  base: 'C',
  letters: /(&#67;|&#9400;|&#65315;|&#262;|&#264;|&#266;|&#268;|&#199;|&#7688;|&#391;|&#571;|&#42814;|[\u0043\u24B8\uFF23\u0106\u0108\u010A\u010C\u00C7\u1E08\u0187\u023B\uA73E])/g
}, {
  base: 'D',
  letters: /(&#68;|&#9401;|&#65316;|&#7690;|&#270;|&#7692;|&#7696;|&#7698;|&#7694;|&#272;|&#395;|&#394;|&#393;|&#42873;|&#208;|[\u0044\u24B9\uFF24\u1E0A\u010E\u1E0C\u1E10\u1E12\u1E0E\u0110\u018B\u018A\u0189\uA779\u00D0])/g
}, {
  base: 'DZ',
  letters: /(&#497;|&#452;|[\u01F1\u01C4])/g
}, {
  base: 'Dz',
  letters: /(&#498;|&#453;|[\u01F2\u01C5])/g
}, {
  base: 'E',
  letters: /(&#69;|&#9402;|&#65317;|&#200;|&#201;|&#202;|&#7872;|&#7870;|&#7876;|&#7874;|&#7868;|&#274;|&#7700;|&#7702;|&#276;|&#278;|&#203;|&#7866;|&#282;|&#516;|&#518;|&#7864;|&#7878;|&#552;|&#7708;|&#280;|&#7704;|&#7706;|&#400;|&#398;|[\u0045\u24BA\uFF25\u00C8\u00C9\u00CA\u1EC0\u1EBE\u1EC4\u1EC2\u1EBC\u0112\u1E14\u1E16\u0114\u0116\u00CB\u1EBA\u011A\u0204\u0206\u1EB8\u1EC6\u0228\u1E1C\u0118\u1E18\u1E1A\u0190\u018E])/g
}, {
  base: 'F',
  letters: /(&#70;|&#9403;|&#65318;|&#7710;|&#401;|&#42875;|[\u0046\u24BB\uFF26\u1E1E\u0191\uA77B])/g
}, {
  base: 'G',
  letters: /(&#71;|&#9404;|&#65319;|&#500;|&#284;|&#7712;|&#286;|&#288;|&#486;|&#290;|&#484;|&#403;|&#42912;|&#42877;|&#42878;|[\u0047\u24BC\uFF27\u01F4\u011C\u1E20\u011E\u0120\u01E6\u0122\u01E4\u0193\uA7A0\uA77D\uA77E])/g
}, {
  base: 'H',
  letters: /(&#72;|&#9405;|&#65320;|&#292;|&#7714;|&#7718;|&#542;|&#7716;|&#7720;|&#7722;|&#294;|&#11367;|&#11381;|&#42893;|[\u0048\u24BD\uFF28\u0124\u1E22\u1E26\u021E\u1E24\u1E28\u1E2A\u0126\u2C67\u2C75\uA78D])/g
}, {
  base: 'I',
  letters: /(&#73;|&#9406;|&#65321;|&#204;|&#205;|&#206;|&#296;|&#298;|&#300;|&#304;|&#207;|&#7726;|&#7880;|&#463;|&#520;|&#522;|&#7882;|&#302;|&#7724;|&#407;|[\u0049\u24BE\uFF29\u00CC\u00CD\u00CE\u0128\u012A\u012C\u0130\u00CF\u1E2E\u1EC8\u01CF\u0208\u020A\u1ECA\u012E\u1E2C\u0197])/g
}, {
  base: 'J',
  letters: /(&#74;|&#9407;|&#65322;|&#308;|&#584;|[\u004A\u24BF\uFF2A\u0134\u0248])/g
}, {
  base: 'K',
  letters: /(&#75;|&#9408;|&#65323;|&#7728;|&#488;|&#7730;|&#310;|&#7732;|&#408;|&#11369;|&#42816;|&#42818;|&#42820;|&#42914;|[\u004B\u24C0\uFF2B\u1E30\u01E8\u1E32\u0136\u1E34\u0198\u2C69\uA740\uA742\uA744\uA7A2])/g
}, {
  base: 'L',
  letters: /(&#76;|&#9409;|&#65324;|&#319;|&#313;|&#317;|&#7734;|&#7736;|&#315;|&#7740;|&#7738;|&#321;|&#573;|&#11362;|&#11360;|&#42824;|&#42822;|&#42880;|[\u004C\u24C1\uFF2C\u013F\u0139\u013D\u1E36\u1E38\u013B\u1E3C\u1E3A\u0141\u023D\u2C62\u2C60\uA748\uA746\uA780])/g
}, {
  base: 'LJ',
  letters: /(&#455;|[\u01C7])/g
}, {
  base: 'Lj',
  letters: /(&#456;|[\u01C8])/g
}, {
  base: 'M',
  letters: /(&#77;|&#9410;|&#65325;|&#7742;|&#7744;|&#7746;|&#11374;|&#412;|[\u004D\u24C2\uFF2D\u1E3E\u1E40\u1E42\u2C6E\u019C])/g
}, {
  base: 'N',
  letters: /(&#78;|&#9411;|&#65326;|&#504;|&#323;|&#209;|&#7748;|&#327;|&#7750;|&#325;|&#7754;|&#7752;|&#544;|&#413;|&#42896;|&#42916;|&#330;|[\u004E\u24C3\uFF2E\u01F8\u0143\u00D1\u1E44\u0147\u1E46\u0145\u1E4A\u1E48\u0220\u019D\uA790\uA7A4\u014A])/g
}, {
  base: 'NJ',
  letters: /(&#458;|[\u01CA])/g
}, {
  base: 'Nj',
  letters: /(&#459;|[\u01CB])/g
}, {
  base: 'O',
  letters: /(&#79;|&#9412;|&#65327;|&#210;|&#211;|&#212;|&#7890;|&#7888;|&#7894;|&#7892;|&#213;|&#7756;|&#556;|&#7758;|&#332;|&#7760;|&#7762;|&#334;|&#558;|&#560;|&#214;|&#554;|&#7886;|&#336;|&#465;|&#524;|&#526;|&#416;|&#7900;|&#7898;|&#7904;|&#7902;|&#7906;|&#7884;|&#7896;|&#490;|&#492;|&#216;|&#510;|&#390;|&#415;|&#42826;|&#42828;|[\u004F\u24C4\uFF2F\u00D2\u00D3\u00D4\u1ED2\u1ED0\u1ED6\u1ED4\u00D5\u1E4C\u022C\u1E4E\u014C\u1E50\u1E52\u014E\u022E\u0230\u00D6\u022A\u1ECE\u0150\u01D1\u020C\u020E\u01A0\u1EDC\u1EDA\u1EE0\u1EDE\u1EE2\u1ECC\u1ED8\u01EA\u01EC\u00D8\u01FE\u0186\u019F\uA74A\uA74C])/g
}, {
  base: 'OE',
  letters: /(&#338;|[\u0152])/g
}, {
  base: 'OI',
  letters: /(&#418;|[\u01A2])/g
}, {
  base: 'OO',
  letters: /(&#42830;|[\uA74E])/g
}, {
  base: 'OU',
  letters: /(&#546;|[\u0222])/g
}, {
  base: 'P',
  letters: /(&#80;|&#9413;|&#65328;|&#7764;|&#7766;|&#420;|&#11363;|&#42832;|&#42834;|&#42836;|[\u0050\u24C5\uFF30\u1E54\u1E56\u01A4\u2C63\uA750\uA752\uA754])/g
}, {
  base: 'Q',
  letters: /(&#81;|&#9414;|&#65329;|&#42838;|&#42840;|&#586;|[\u0051\u24C6\uFF31\uA756\uA758\u024A])/g
}, {
  base: 'R',
  letters: /(&#82;|&#9415;|&#65330;|&#340;|&#7768;|&#344;|&#528;|&#530;|&#7770;|&#7772;|&#342;|&#7774;|&#588;|&#11364;|&#42842;|&#42918;|&#42882;|[\u0052\u24C7\uFF32\u0154\u1E58\u0158\u0210\u0212\u1E5A\u1E5C\u0156\u1E5E\u024C\u2C64\uA75A\uA7A6\uA782])/g
}, {
  base: 'S',
  letters: /(&#83;|&#9416;|&#65331;|&#7838;|&#346;|&#7780;|&#348;|&#7776;|&#352;|&#7782;|&#7778;|&#7784;|&#536;|&#350;|&#11390;|&#42920;|&#42884;|[\u0053\u24C8\uFF33\u1E9E\u015A\u1E64\u015C\u1E60\u0160\u1E66\u1E62\u1E68\u0218\u015E\u2C7E\uA7A8\uA784])/g
}, {
  base: 'T',
  letters: /(&#84;|&#9417;|&#65332;|&#7786;|&#356;|&#7788;|&#538;|&#354;|&#7792;|&#7790;|&#358;|&#428;|&#430;|&#574;|&#42886;|[\u0054\u24C9\uFF34\u1E6A\u0164\u1E6C\u021A\u0162\u1E70\u1E6E\u0166\u01AC\u01AE\u023E\uA786])/g
}, {
  base: 'TH',
  letters: /(&#222;|[\u00DE])/g
}, {
  base: 'TZ',
  letters: /(&#42792;|[\uA728])/g
}, {
  base: 'U',
  letters: /(&#85;|&#9418;|&#65333;|&#217;|&#218;|&#219;|&#360;|&#7800;|&#362;|&#7802;|&#364;|&#220;|&#475;|&#471;|&#469;|&#473;|&#7910;|&#366;|&#368;|&#467;|&#532;|&#534;|&#431;|&#7914;|&#7912;|&#7918;|&#7916;|&#7920;|&#7908;|&#7794;|&#370;|&#7798;|&#7796;|&#580;|[\u0055\u24CA\uFF35\u00D9\u00DA\u00DB\u0168\u1E78\u016A\u1E7A\u016C\u00DC\u01DB\u01D7\u01D5\u01D9\u1EE6\u016E\u0170\u01D3\u0214\u0216\u01AF\u1EEA\u1EE8\u1EEE\u1EEC\u1EF0\u1EE4\u1E72\u0172\u1E76\u1E74\u0244])/g
}, {
  base: 'V',
  letters: /(&#86;|&#9419;|&#65334;|&#7804;|&#7806;|&#434;|&#42846;|&#581;|[\u0056\u24CB\uFF36\u1E7C\u1E7E\u01B2\uA75E\u0245])/g
}, {
  base: 'VY',
  letters: /(&#42848;|[\uA760])/g
}, {
  base: 'W',
  letters: /(&#87;|&#9420;|&#65335;|&#7808;|&#7810;|&#372;|&#7814;|&#7812;|&#7816;|&#11378;|[\u0057\u24CC\uFF37\u1E80\u1E82\u0174\u1E86\u1E84\u1E88\u2C72])/g
}, {
  base: 'X',
  letters: /(&#88;|&#9421;|&#65336;|&#7818;|&#7820;|[\u0058\u24CD\uFF38\u1E8A\u1E8C])/g
}, {
  base: 'Y',
  letters: /(&#89;|&#9422;|&#65337;|&#7922;|&#221;|&#374;|&#7928;|&#562;|&#7822;|&#376;|&#7926;|&#7924;|&#435;|&#590;|&#7934;|[\u0059\u24CE\uFF39\u1EF2\u00DD\u0176\u1EF8\u0232\u1E8E\u0178\u1EF6\u1EF4\u01B3\u024E\u1EFE])/g
}, {
  base: 'Z',
  letters: /(&#90;|&#9423;|&#65338;|&#377;|&#7824;|&#379;|&#381;|&#7826;|&#7828;|&#437;|&#548;|&#11391;|&#11371;|&#42850;|[\u005A\u24CF\uFF3A\u0179\u1E90\u017B\u017D\u1E92\u1E94\u01B5\u0224\u2C7F\u2C6B\uA762])/g
}, {
  base: 'a',
  letters: /(&#97;|&#9424;|&#65345;|&#7834;|&#224;|&#225;|&#226;|&#7847;|&#7845;|&#7851;|&#7849;|&#227;|&#257;|&#259;|&#7857;|&#7855;|&#7861;|&#7859;|&#551;|&#481;|&#228;|&#479;|&#7843;|&#229;|&#507;|&#462;|&#513;|&#515;|&#7841;|&#7853;|&#7863;|&#7681;|&#261;|&#11365;|&#592;|[\u0061\u24D0\uFF41\u1E9A\u00E0\u00E1\u00E2\u1EA7\u1EA5\u1EAB\u1EA9\u00E3\u0101\u0103\u1EB1\u1EAF\u1EB5\u1EB3\u0227\u01E1\u00E4\u01DF\u1EA3\u00E5\u01FB\u01CE\u0201\u0203\u1EA1\u1EAD\u1EB7\u1E01\u0105\u2C65\u0250])/g
}, {
  base: 'aa',
  letters: /(&#42803;|[\uA733])/g
}, {
  base: 'ae',
  letters: /(&#230;|&#509;|&#483;|[\u00E6\u01FD\u01E3])/g
}, {
  base: 'ao',
  letters: /(&#42805;|[\uA735])/g
}, {
  base: 'au',
  letters: /(&#42807;|[\uA737])/g
}, {
  base: 'av',
  letters: /(&#42809;|&#42811;|[\uA739\uA73B])/g
}, {
  base: 'ay',
  letters: /(&#42813;|[\uA73D])/g
}, {
  base: 'b',
  letters: /(&#98;|&#9425;|&#65346;|&#7683;|&#7685;|&#7687;|&#384;|&#387;|&#595;|[\u0062\u24D1\uFF42\u1E03\u1E05\u1E07\u0180\u0183\u0253])/g
}, {
  base: 'c',
  letters: /(&#99;|&#9426;|&#65347;|&#263;|&#265;|&#267;|&#269;|&#231;|&#7689;|&#392;|&#572;|&#42815;|&#8580;|[\u0063\u24D2\uFF43\u0107\u0109\u010B\u010D\u00E7\u1E09\u0188\u023C\uA73F\u2184])/g
}, {
  base: 'd',
  letters: /(&#100;|&#9427;|&#65348;|&#7691;|&#271;|&#7693;|&#7697;|&#7699;|&#7695;|&#273;|&#396;|&#598;|&#599;|&#42874;|&#240;|[\u0064\u24D3\uFF44\u1E0B\u010F\u1E0D\u1E11\u1E13\u1E0F\u0111\u018C\u0256\u0257\uA77A\u00F0])/g
}, {
  base: 'dz',
  letters: /(&#499;|&#454;|[\u01F3\u01C6])/g
}, {
  base: 'e',
  letters: /(&#101;|&#9428;|&#65349;|&#232;|&#233;|&#234;|&#7873;|&#7871;|&#7877;|&#7875;|&#7869;|&#275;|&#7701;|&#7703;|&#277;|&#279;|&#235;|&#7867;|&#283;|&#517;|&#519;|&#7865;|&#7879;|&#553;|&#7709;|&#281;|&#7705;|&#7707;|&#583;|&#603;|&#477;|[\u0065\u24D4\uFF45\u00E8\u00E9\u00EA\u1EC1\u1EBF\u1EC5\u1EC3\u1EBD\u0113\u1E15\u1E17\u0115\u0117\u00EB\u1EBB\u011B\u0205\u0207\u1EB9\u1EC7\u0229\u1E1D\u0119\u1E19\u1E1B\u0247\u025B\u01DD])/g
}, {
  base: 'f',
  letters: /(&#102;|&#9429;|&#65350;|&#7711;|&#402;|&#42876;|[\u0066\u24D5\uFF46\u1E1F\u0192\uA77C])/g
}, {
  base: 'g',
  letters: /(&#103;|&#9430;|&#65351;|&#501;|&#285;|&#7713;|&#287;|&#289;|&#487;|&#291;|&#485;|&#608;|&#42913;|&#7545;|&#42879;|[\u0067\u24D6\uFF47\u01F5\u011D\u1E21\u011F\u0121\u01E7\u0123\u01E5\u0260\uA7A1\u1D79\uA77F])/g
}, {
  base: 'h',
  letters: /(&#104;|&#9431;|&#65352;|&#293;|&#7715;|&#7719;|&#543;|&#7717;|&#7721;|&#7723;|&#7830;|&#295;|&#11368;|&#11382;|&#613;|[\u0068\u24D7\uFF48\u0125\u1E23\u1E27\u021F\u1E25\u1E29\u1E2B\u1E96\u0127\u2C68\u2C76\u0265])/g
}, {
  base: 'hv',
  letters: /(&#405;|[\u0195])/g
}, {
  base: 'i',
  letters: /(&#105;|&#9432;|&#65353;|&#236;|&#237;|&#238;|&#297;|&#299;|&#301;|&#239;|&#7727;|&#7881;|&#464;|&#521;|&#523;|&#7883;|&#303;|&#7725;|&#616;|&#305;|[\u0069\u24D8\uFF49\u00EC\u00ED\u00EE\u0129\u012B\u012D\u00EF\u1E2F\u1EC9\u01D0\u0209\u020B\u1ECB\u012F\u1E2D\u0268\u0131])/g
}, {
  base: 'ij',
  letters: /(&#307;|[\u0133])/g
}, {
  base: 'j',
  letters: /(&#106;|&#9433;|&#65354;|&#309;|&#496;|&#585;|[\u006A\u24D9\uFF4A\u0135\u01F0\u0249])/g
}, {
  base: 'k',
  letters: /(&#107;|&#9434;|&#65355;|&#7729;|&#489;|&#7731;|&#311;|&#7733;|&#409;|&#11370;|&#42817;|&#42819;|&#42821;|&#42915;|[\u006B\u24DA\uFF4B\u1E31\u01E9\u1E33\u0137\u1E35\u0199\u2C6A\uA741\uA743\uA745\uA7A3])/g
}, {
  base: 'l',
  letters: /(&#108;|&#9435;|&#65356;|&#320;|&#314;|&#318;|&#7735;|&#7737;|&#316;|&#7741;|&#7739;|&#322;|&#410;|&#619;|&#11361;|&#42825;|&#42881;|&#42823;|[\u006C\u24DB\uFF4C\u0140\u013A\u013E\u1E37\u1E39\u013C\u1E3D\u1E3B\u0142\u019A\u026B\u2C61\uA749\uA781\uA747])/g
}, {
  base: 'lj',
  letters: /(&#457;|[\u01C9])/g
}, {
  base: 'm',
  letters: /(&#109;|&#9436;|&#65357;|&#7743;|&#7745;|&#7747;|&#625;|&#623;|[\u006D\u24DC\uFF4D\u1E3F\u1E41\u1E43\u0271\u026F])/g
}, {
  base: 'n',
  letters: /(&#110;|&#9437;|&#65358;|&#505;|&#324;|&#241;|&#7749;|&#328;|&#7751;|&#326;|&#7755;|&#7753;|&#414;|&#626;|&#329;|&#42897;|&#42917;|&#331;|[\u006E\u24DD\uFF4E\u01F9\u0144\u00F1\u1E45\u0148\u1E47\u0146\u1E4B\u1E49\u019E\u0272\u0149\uA791\uA7A5\u014B])/g
}, {
  base: 'nj',
  letters: /(&#460;|[\u01CC])/g
}, {
  base: 'o',
  letters: /(&#111;|&#9438;|&#65359;|&#242;|&#243;|&#244;|&#7891;|&#7889;|&#7895;|&#7893;|&#245;|&#7757;|&#557;|&#7759;|&#333;|&#7761;|&#7763;|&#335;|&#559;|&#561;|&#246;|&#555;|&#7887;|&#337;|&#466;|&#525;|&#527;|&#417;|&#7901;|&#7899;|&#7905;|&#7903;|&#7907;|&#7885;|&#7897;|&#491;|&#493;|&#248;|&#511;|&#596;|&#42827;|&#42829;|&#629;|[\u006F\u24DE\uFF4F\u00F2\u00F3\u00F4\u1ED3\u1ED1\u1ED7\u1ED5\u00F5\u1E4D\u022D\u1E4F\u014D\u1E51\u1E53\u014F\u022F\u0231\u00F6\u022B\u1ECF\u0151\u01D2\u020D\u020F\u01A1\u1EDD\u1EDB\u1EE1\u1EDF\u1EE3\u1ECD\u1ED9\u01EB\u01ED\u00F8\u01FF\u0254\uA74B\uA74D\u0275])/g
}, {
  base: 'oe',
  letters: /(&#339;|[\u0153])/g
}, {
  base: 'oi',
  letters: /(&#419;|[\u01A3])/g
}, {
  base: 'ou',
  letters: /(&#547;|[\u0223])/g
}, {
  base: 'oo',
  letters: /(&#42831;|[\uA74F])/g
}, {
  base: 'p',
  letters: /(&#112;|&#9439;|&#65360;|&#7765;|&#7767;|&#421;|&#7549;|&#42833;|&#42835;|&#42837;|[\u0070\u24DF\uFF50\u1E55\u1E57\u01A5\u1D7D\uA751\uA753\uA755])/g
}, {
  base: 'q',
  letters: /(&#113;|&#9440;|&#65361;|&#587;|&#42839;|&#42841;|[\u0071\u24E0\uFF51\u024B\uA757\uA759])/g
}, {
  base: 'r',
  letters: /(&#114;|&#9441;|&#65362;|&#341;|&#7769;|&#345;|&#529;|&#531;|&#7771;|&#7773;|&#343;|&#7775;|&#589;|&#637;|&#42843;|&#42919;|&#42883;|[\u0072\u24E1\uFF52\u0155\u1E59\u0159\u0211\u0213\u1E5B\u1E5D\u0157\u1E5F\u024D\u027D\uA75B\uA7A7\uA783])/g
}, {
  base: 's',
  letters: /(&#115;|&#9442;|&#65363;|&#347;|&#7781;|&#349;|&#7777;|&#353;|&#7783;|&#7779;|&#7785;|&#537;|&#351;|&#575;|&#42921;|&#42885;|&#7835;|&#383;|[\u0073\u24E2\uFF53\u015B\u1E65\u015D\u1E61\u0161\u1E67\u1E63\u1E69\u0219\u015F\u023F\uA7A9\uA785\u1E9B\u017F])/g
}, {
  base: 'ss',
  letters: /(&#223;|[\u00DF])/g
}, {
  base: 't',
  letters: /(&#116;|&#9443;|&#65364;|&#7787;|&#7831;|&#357;|&#7789;|&#539;|&#355;|&#7793;|&#7791;|&#359;|&#429;|&#648;|&#11366;|&#42887;|[\u0074\u24E3\uFF54\u1E6B\u1E97\u0165\u1E6D\u021B\u0163\u1E71\u1E6F\u0167\u01AD\u0288\u2C66\uA787])/g
}, {
  base: 'th',
  letters: /(&#254;|[\u00FE])/g
}, {
  base: 'tz',
  letters: /(&#42793;|[\uA729])/g
}, {
  base: 'u',
  letters: /(&#117;|&#9444;|&#65365;|&#249;|&#250;|&#251;|&#361;|&#7801;|&#363;|&#7803;|&#365;|&#252;|&#476;|&#472;|&#470;|&#474;|&#7911;|&#367;|&#369;|&#468;|&#533;|&#535;|&#432;|&#7915;|&#7913;|&#7919;|&#7917;|&#7921;|&#7909;|&#7795;|&#371;|&#7799;|&#7797;|&#649;|[\u0075\u24E4\uFF55\u00F9\u00FA\u00FB\u0169\u1E79\u016B\u1E7B\u016D\u00FC\u01DC\u01D8\u01D6\u01DA\u1EE7\u016F\u0171\u01D4\u0215\u0217\u01B0\u1EEB\u1EE9\u1EEF\u1EED\u1EF1\u1EE5\u1E73\u0173\u1E77\u1E75\u0289])/g
}, {
  base: 'v',
  letters: /(&#118;|&#9445;|&#65366;|&#7805;|&#7807;|&#651;|&#42847;|&#652;|[\u0076\u24E5\uFF56\u1E7D\u1E7F\u028B\uA75F\u028C])/g
}, {
  base: 'vy',
  letters: /(&#42849;|[\uA761])/g
}, {
  base: 'w',
  letters: /(&#119;|&#9446;|&#65367;|&#7809;|&#7811;|&#373;|&#7815;|&#7813;|&#7832;|&#7817;|&#11379;|[\u0077\u24E6\uFF57\u1E81\u1E83\u0175\u1E87\u1E85\u1E98\u1E89\u2C73])/g
}, {
  base: 'x',
  letters: /(&#120;|&#9447;|&#65368;|&#7819;|&#7821;|[\u0078\u24E7\uFF58\u1E8B\u1E8D])/g
}, {
  base: 'y',
  letters: /(&#121;|&#9448;|&#65369;|&#7923;|&#253;|&#375;|&#7929;|&#563;|&#7823;|&#255;|&#7927;|&#7833;|&#7925;|&#436;|&#591;|&#7935;|[\u0079\u24E8\uFF59\u1EF3\u00FD\u0177\u1EF9\u0233\u1E8F\u00FF\u1EF7\u1E99\u1EF5\u01B4\u024F\u1EFF])/g
}, {
  base: 'z',
  letters: /(&#122;|&#9449;|&#65370;|&#378;|&#7825;|&#380;|&#382;|&#7827;|&#7829;|&#438;|&#549;|&#576;|&#11372;|&#42851;|[\u007A\u24E9\uFF5A\u017A\u1E91\u017C\u017E\u1E93\u1E95\u01B6\u0225\u0240\u2C6C\uA763])/g
}];

var removeAccents = function removeAccents(str) {
  var formattedStr = str;
  lettersDiacritics.forEach(function (letterDiacritics) {
    formattedStr = formattedStr.replace(letterDiacritics.letters, letterDiacritics.base);
  });
  return formattedStr;
};

var normalizeString = function normalizeString(str) {
  return removeAccents(str).toLowerCase();
};

var getSubstringIndex = function getSubstringIndex(str, substr, ignoreAccents) {
  if (!ignoreAccents) {
    return str.toLowerCase().indexOf(substr.toLowerCase());
  }

  return normalizeString(str).indexOf(normalizeString(substr));
};

var isNumber = function isNumber(val) {
  return typeof val === 'number';
};

var keys = function keys(obj) {
  return obj === Object(obj) ? Object.keys(obj) : [];
};

var omit = function omit(obj) {
  var _ref;

  for (var _len = arguments.length, rest = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {
    rest[_key - 1] = arguments[_key];
  }

  var keys = (_ref = []).concat.apply(_ref, rest);

  return Object.keys(obj).reduce(function (acc, k) {
    if (obj.hasOwnProperty(k) && !keys.includes(k) && obj[k] !== undefined) {
      acc[k] = obj[k];
    }

    return acc;
  }, {});
};

function createDefaultStyle(defaultStyle, getModifiers) {
  var enhance = function enhance(ComponentToWrap) {
    var DefaultStyleEnhancer = function DefaultStyleEnhancer(_ref) {
      var style = _ref.style,
          className = _ref.className,
          classNames = _ref.classNames,
          rest = (0,_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_12__["default"])(_ref, ["style", "className", "classNames"]);

      var modifiers = getModifiers ? getModifiers(rest) : undefined;
      var styles = (0,substyle__WEBPACK_IMPORTED_MODULE_15__["default"])(defaultStyle, {
        style: style,
        className: className,
        classNames: classNames
      }, modifiers);
      return react__WEBPACK_IMPORTED_MODULE_9__.createElement(ComponentToWrap, (0,_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_1__["default"])({}, rest, {
        style: styles
      }));
    };

    var displayName = ComponentToWrap.displayName || ComponentToWrap.name || 'Component';
    DefaultStyleEnhancer.displayName = "defaultStyle(".concat(displayName, ")");
    return DefaultStyleEnhancer;
  };

  return enhance;
}

var _generateComponentKey = function _generateComponentKey(usedKeys, id) {
  if (!usedKeys.hasOwnProperty(id)) {
    usedKeys[id] = 0;
  } else {
    usedKeys[id]++;
  }

  return id + '_' + usedKeys[id];
};

var Highlighter =
/*#__PURE__*/
function (_Component) {
  (0,_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_7__["default"])(Highlighter, _Component);

  function Highlighter() {
    var _this;

    (0,_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_2__["default"])(this, Highlighter);

    _this = (0,_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__["default"])(this, (0,_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(Highlighter).apply(this, arguments));

    (0,_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_8__["default"])((0,_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_6__["default"])(_this), "setCaretElement", function (el) {
      _this.caretElement = el;
    });

    _this.state = {
      left: undefined,
      top: undefined
    };
    return _this;
  }

  (0,_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_3__["default"])(Highlighter, [{
    key: "componentDidMount",
    value: function componentDidMount() {
      this.notifyCaretPosition();
    }
  }, {
    key: "componentDidUpdate",
    value: function componentDidUpdate() {
      this.notifyCaretPosition();
    }
  }, {
    key: "notifyCaretPosition",
    value: function notifyCaretPosition() {
      if (!this.caretElement) {
        return;
      }

      var _this$caretElement = this.caretElement,
          offsetLeft = _this$caretElement.offsetLeft,
          offsetTop = _this$caretElement.offsetTop;

      if (this.state.left === offsetLeft && this.state.top === offsetTop) {
        return;
      }

      var newPosition = {
        left: offsetLeft,
        top: offsetTop
      };
      this.setState(newPosition);
      this.props.onCaretPositionChange(newPosition);
    }
  }, {
    key: "render",
    value: function render() {
      var _this2 = this;

      var _this$props = this.props,
          selectionStart = _this$props.selectionStart,
          selectionEnd = _this$props.selectionEnd,
          value = _this$props.value,
          style = _this$props.style,
          children = _this$props.children,
          containerRef = _this$props.containerRef;
      var config = readConfigFromChildren(children); // If there's a caret (i.e. no range selection), map the caret position into the marked up value

      var caretPositionInMarkup;

      if (selectionStart === selectionEnd) {
        caretPositionInMarkup = mapPlainTextIndex(value, config, selectionStart, 'START');
      }

      var resultComponents = [];
      var componentKeys = {}; // start by appending directly to the resultComponents

      var components = resultComponents;
      var substringComponentKey = 0;

      var textIteratee = function textIteratee(substr, index, indexInPlainText) {
        // check whether the caret element has to be inserted inside the current plain substring
        if (isNumber(caretPositionInMarkup) && caretPositionInMarkup >= index && caretPositionInMarkup <= index + substr.length) {
          // if yes, split substr at the caret position and insert the caret component
          var splitIndex = caretPositionInMarkup - index;
          components.push(_this2.renderSubstring(substr.substring(0, splitIndex), substringComponentKey)); // add all following substrings and mention components as children of the caret component

          components = [_this2.renderSubstring(substr.substring(splitIndex), substringComponentKey)];
        } else {
          // otherwise just push the plain text substring
          components.push(_this2.renderSubstring(substr, substringComponentKey));
        }

        substringComponentKey++;
      };

      var mentionIteratee = function mentionIteratee(markup, index, indexInPlainText, id, display, mentionChildIndex, lastMentionEndIndex) {
        // generate a component key based on the id
        var key = _generateComponentKey(componentKeys, id);

        components.push(_this2.getMentionComponentForMatch(id, display, mentionChildIndex, key));
      };

      iterateMentionsMarkup(value, config, mentionIteratee, textIteratee); // append a span containing a space, to ensure the last text line has the correct height

      components.push(' ');

      if (components !== resultComponents) {
        // if a caret component is to be rendered, add all components that followed as its children
        resultComponents.push(this.renderHighlighterCaret(components));
      }

      return react__WEBPACK_IMPORTED_MODULE_9__.createElement("div", (0,_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_1__["default"])({}, style, {
        ref: containerRef
      }), resultComponents);
    }
  }, {
    key: "renderSubstring",
    value: function renderSubstring(string, key) {
      // set substring span to hidden, so that Emojis are not shown double in Mobile Safari
      return react__WEBPACK_IMPORTED_MODULE_9__.createElement("span", (0,_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_1__["default"])({}, this.props.style('substring'), {
        key: key
      }), string);
    } // Returns a clone of the Mention child applicable for the specified type to be rendered inside the highlighter

  }, {
    key: "getMentionComponentForMatch",
    value: function getMentionComponentForMatch(id, display, mentionChildIndex, key) {
      var props = {
        id: id,
        display: display,
        key: key
      };
      var child = react__WEBPACK_IMPORTED_MODULE_9__.Children.toArray(this.props.children)[mentionChildIndex];
      return react__WEBPACK_IMPORTED_MODULE_9__.cloneElement(child, props);
    } // Renders an component to be inserted in the highlighter at the current caret position

  }, {
    key: "renderHighlighterCaret",
    value: function renderHighlighterCaret(children) {
      return react__WEBPACK_IMPORTED_MODULE_9__.createElement("span", (0,_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_1__["default"])({}, this.props.style('caret'), {
        ref: this.setCaretElement,
        key: "caret"
      }), children);
    }
  }]);

  return Highlighter;
}(react__WEBPACK_IMPORTED_MODULE_9__.Component);

(0,_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_8__["default"])(Highlighter, "propTypes", {
  selectionStart: (prop_types__WEBPACK_IMPORTED_MODULE_13___default().number),
  selectionEnd: (prop_types__WEBPACK_IMPORTED_MODULE_13___default().number),
  value: (prop_types__WEBPACK_IMPORTED_MODULE_13___default().string.isRequired),
  onCaretPositionChange: (prop_types__WEBPACK_IMPORTED_MODULE_13___default().func.isRequired),
  containerRef: prop_types__WEBPACK_IMPORTED_MODULE_13___default().oneOfType([(prop_types__WEBPACK_IMPORTED_MODULE_13___default().func), prop_types__WEBPACK_IMPORTED_MODULE_13___default().shape({
    current: typeof Element === 'undefined' ? (prop_types__WEBPACK_IMPORTED_MODULE_13___default().any) : prop_types__WEBPACK_IMPORTED_MODULE_13___default().instanceOf(Element)
  })]),
  children: prop_types__WEBPACK_IMPORTED_MODULE_13___default().oneOfType([(prop_types__WEBPACK_IMPORTED_MODULE_13___default().element), prop_types__WEBPACK_IMPORTED_MODULE_13___default().arrayOf((prop_types__WEBPACK_IMPORTED_MODULE_13___default().element))]).isRequired
});

(0,_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_8__["default"])(Highlighter, "defaultProps", {
  value: ''
});

var styled = createDefaultStyle({
  position: 'relative',
  boxSizing: 'border-box',
  width: '100%',
  color: 'transparent',
  overflow: 'hidden',
  whiteSpace: 'pre-wrap',
  wordWrap: 'break-word',
  border: '1px solid transparent',
  textAlign: 'start',
  '&singleLine': {
    whiteSpace: 'pre',
    wordWrap: null
  },
  substring: {
    visibility: 'hidden'
  }
}, function (props) {
  return {
    '&singleLine': props.singleLine
  };
});
var Highlighter$1 = styled(Highlighter);

var Suggestion =
/*#__PURE__*/
function (_Component) {
  (0,_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_7__["default"])(Suggestion, _Component);

  function Suggestion() {
    (0,_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_2__["default"])(this, Suggestion);

    return (0,_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__["default"])(this, (0,_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(Suggestion).apply(this, arguments));
  }

  (0,_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_3__["default"])(Suggestion, [{
    key: "render",
    value: function render() {
      var rest = omit(this.props, ['style', 'classNames', 'className'], // substyle props
      keys(Suggestion.propTypes));
      return react__WEBPACK_IMPORTED_MODULE_9__.createElement("li", (0,_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_1__["default"])({
        id: this.props.id,
        role: "option",
        "aria-selected": this.props.focused
      }, rest, this.props.style), this.renderContent());
    }
  }, {
    key: "renderContent",
    value: function renderContent() {
      var _this$props = this.props,
          query = _this$props.query,
          renderSuggestion = _this$props.renderSuggestion,
          suggestion = _this$props.suggestion,
          index = _this$props.index,
          focused = _this$props.focused;
      var display = this.getDisplay();
      var highlightedDisplay = this.renderHighlightedDisplay(display, query);

      if (renderSuggestion) {
        return renderSuggestion(suggestion, query, highlightedDisplay, index, focused);
      }

      return highlightedDisplay;
    }
  }, {
    key: "getDisplay",
    value: function getDisplay() {
      var suggestion = this.props.suggestion;

      if (typeof suggestion === 'string') {
        return suggestion;
      }

      var id = suggestion.id,
          display = suggestion.display;

      if (id === undefined || !display) {
        return id;
      }

      return display;
    }
  }, {
    key: "renderHighlightedDisplay",
    value: function renderHighlightedDisplay(display) {
      var _this$props2 = this.props,
          ignoreAccents = _this$props2.ignoreAccents,
          query = _this$props2.query,
          style = _this$props2.style;
      var i = getSubstringIndex(display, query, ignoreAccents);

      if (i === -1) {
        return react__WEBPACK_IMPORTED_MODULE_9__.createElement("span", style('display'), display);
      }

      return react__WEBPACK_IMPORTED_MODULE_9__.createElement("span", style('display'), display.substring(0, i), react__WEBPACK_IMPORTED_MODULE_9__.createElement("b", style('highlight'), display.substring(i, i + query.length)), display.substring(i + query.length));
    }
  }]);

  return Suggestion;
}(react__WEBPACK_IMPORTED_MODULE_9__.Component);

(0,_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_8__["default"])(Suggestion, "propTypes", {
  id: (prop_types__WEBPACK_IMPORTED_MODULE_13___default().string.isRequired),
  query: (prop_types__WEBPACK_IMPORTED_MODULE_13___default().string.isRequired),
  index: (prop_types__WEBPACK_IMPORTED_MODULE_13___default().number.isRequired),
  ignoreAccents: (prop_types__WEBPACK_IMPORTED_MODULE_13___default().bool),
  suggestion: prop_types__WEBPACK_IMPORTED_MODULE_13___default().oneOfType([(prop_types__WEBPACK_IMPORTED_MODULE_13___default().string), prop_types__WEBPACK_IMPORTED_MODULE_13___default().shape({
    id: prop_types__WEBPACK_IMPORTED_MODULE_13___default().oneOfType([(prop_types__WEBPACK_IMPORTED_MODULE_13___default().string), (prop_types__WEBPACK_IMPORTED_MODULE_13___default().number)]).isRequired,
    display: (prop_types__WEBPACK_IMPORTED_MODULE_13___default().string)
  })]).isRequired,
  renderSuggestion: (prop_types__WEBPACK_IMPORTED_MODULE_13___default().func),
  focused: (prop_types__WEBPACK_IMPORTED_MODULE_13___default().bool)
});

var styled$1 = createDefaultStyle({
  cursor: 'pointer'
}, function (props) {
  return {
    '&focused': props.focused
  };
});
var Suggestion$1 = styled$1(Suggestion);

function LoadingIndicator() {
  var styles = (0,substyle__WEBPACK_IMPORTED_MODULE_15__["default"])();
  var spinnerStyles = styles('spinner');
  return react__WEBPACK_IMPORTED_MODULE_9__.createElement("div", styles, react__WEBPACK_IMPORTED_MODULE_9__.createElement("div", spinnerStyles, react__WEBPACK_IMPORTED_MODULE_9__.createElement("div", spinnerStyles(['element', 'element1'])), react__WEBPACK_IMPORTED_MODULE_9__.createElement("div", spinnerStyles(['element', 'element2'])), react__WEBPACK_IMPORTED_MODULE_9__.createElement("div", spinnerStyles(['element', 'element3'])), react__WEBPACK_IMPORTED_MODULE_9__.createElement("div", spinnerStyles(['element', 'element4'])), react__WEBPACK_IMPORTED_MODULE_9__.createElement("div", spinnerStyles(['element', 'element5']))));
}

var SuggestionsOverlay =
/*#__PURE__*/
function (_Component) {
  (0,_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_7__["default"])(SuggestionsOverlay, _Component);

  function SuggestionsOverlay() {
    var _getPrototypeOf2;

    var _this;

    (0,_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_2__["default"])(this, SuggestionsOverlay);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = (0,_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__["default"])(this, (_getPrototypeOf2 = (0,_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(SuggestionsOverlay)).call.apply(_getPrototypeOf2, [this].concat(args)));

    (0,_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_8__["default"])((0,_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_6__["default"])(_this), "handleMouseEnter", function (index, ev) {
      if (_this.props.onMouseEnter) {
        _this.props.onMouseEnter(index);
      }
    });

    (0,_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_8__["default"])((0,_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_6__["default"])(_this), "select", function (suggestion, queryInfo) {
      _this.props.onSelect(suggestion, queryInfo);
    });

    (0,_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_8__["default"])((0,_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_6__["default"])(_this), "setUlElement", function (el) {
      _this.ulElement = el;
    });

    return _this;
  }

  (0,_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_3__["default"])(SuggestionsOverlay, [{
    key: "componentDidUpdate",
    value: function componentDidUpdate() {
      if (!this.ulElement || this.ulElement.offsetHeight >= this.ulElement.scrollHeight || !this.props.scrollFocusedIntoView) {
        return;
      }

      var scrollTop = this.ulElement.scrollTop;

      var _this$ulElement$child = this.ulElement.children[this.props.focusIndex].getBoundingClientRect(),
          top = _this$ulElement$child.top,
          bottom = _this$ulElement$child.bottom;

      var _this$ulElement$getBo = this.ulElement.getBoundingClientRect(),
          topContainer = _this$ulElement$getBo.top;

      top = top - topContainer + scrollTop;
      bottom = bottom - topContainer + scrollTop;

      if (top < scrollTop) {
        this.ulElement.scrollTop = top;
      } else if (bottom > this.ulElement.offsetHeight) {
        this.ulElement.scrollTop = bottom - this.ulElement.offsetHeight;
      }
    }
  }, {
    key: "render",
    value: function render() {
      var _this$props = this.props,
          id = _this$props.id,
          a11ySuggestionsListLabel = _this$props.a11ySuggestionsListLabel,
          isOpened = _this$props.isOpened,
          style = _this$props.style,
          onMouseDown = _this$props.onMouseDown,
          containerRef = _this$props.containerRef,
          position = _this$props.position,
          left = _this$props.left,
          top = _this$props.top; // do not show suggestions until there is some data

      if (!isOpened) {
        return null;
      }

      return react__WEBPACK_IMPORTED_MODULE_9__.createElement("div", (0,_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_1__["default"])({}, (0,substyle__WEBPACK_IMPORTED_MODULE_16__["default"])({
        position: position || 'absolute',
        left: left,
        top: top
      }, style), {
        onMouseDown: onMouseDown,
        ref: containerRef
      }), react__WEBPACK_IMPORTED_MODULE_9__.createElement("ul", (0,_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_1__["default"])({
        ref: this.setUlElement,
        id: id,
        role: "listbox",
        "aria-label": a11ySuggestionsListLabel
      }, style('list')), this.renderSuggestions()), this.renderLoadingIndicator());
    }
  }, {
    key: "renderSuggestions",
    value: function renderSuggestions() {
      var _this2 = this;

      return Object.values(this.props.suggestions).reduce(function (accResults, _ref) {
        var results = _ref.results,
            queryInfo = _ref.queryInfo;
        return [].concat((0,_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__["default"])(accResults), (0,_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__["default"])(results.map(function (result, index) {
          return _this2.renderSuggestion(result, queryInfo, accResults.length + index);
        })));
      }, []);
    }
  }, {
    key: "renderSuggestion",
    value: function renderSuggestion(result, queryInfo, index) {
      var _this3 = this;

      var isFocused = index === this.props.focusIndex;
      var childIndex = queryInfo.childIndex,
          query = queryInfo.query;
      var renderSuggestion = react__WEBPACK_IMPORTED_MODULE_9__.Children.toArray(this.props.children)[childIndex].props.renderSuggestion;
      var ignoreAccents = this.props.ignoreAccents;
      return react__WEBPACK_IMPORTED_MODULE_9__.createElement(Suggestion$1, {
        style: this.props.style('item'),
        key: "".concat(childIndex, "-").concat(getID(result)),
        id: getSuggestionHtmlId(this.props.id, index),
        query: query,
        index: index,
        ignoreAccents: ignoreAccents,
        renderSuggestion: renderSuggestion,
        suggestion: result,
        focused: isFocused,
        onClick: function onClick() {
          return _this3.select(result, queryInfo);
        },
        onMouseEnter: function onMouseEnter() {
          return _this3.handleMouseEnter(index);
        }
      });
    }
  }, {
    key: "renderLoadingIndicator",
    value: function renderLoadingIndicator() {
      if (!this.props.isLoading) {
        return;
      }

      return react__WEBPACK_IMPORTED_MODULE_9__.createElement(LoadingIndicator, {
        style: this.props.style('loadingIndicator')
      });
    }
  }]);

  return SuggestionsOverlay;
}(react__WEBPACK_IMPORTED_MODULE_9__.Component);

(0,_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_8__["default"])(SuggestionsOverlay, "propTypes", {
  id: (prop_types__WEBPACK_IMPORTED_MODULE_13___default().string.isRequired),
  suggestions: (prop_types__WEBPACK_IMPORTED_MODULE_13___default().object.isRequired),
  a11ySuggestionsListLabel: (prop_types__WEBPACK_IMPORTED_MODULE_13___default().string),
  focusIndex: (prop_types__WEBPACK_IMPORTED_MODULE_13___default().number),
  position: (prop_types__WEBPACK_IMPORTED_MODULE_13___default().string),
  left: (prop_types__WEBPACK_IMPORTED_MODULE_13___default().number),
  top: (prop_types__WEBPACK_IMPORTED_MODULE_13___default().number),
  scrollFocusedIntoView: (prop_types__WEBPACK_IMPORTED_MODULE_13___default().bool),
  isLoading: (prop_types__WEBPACK_IMPORTED_MODULE_13___default().bool),
  isOpened: (prop_types__WEBPACK_IMPORTED_MODULE_13___default().bool.isRequired),
  onSelect: (prop_types__WEBPACK_IMPORTED_MODULE_13___default().func),
  ignoreAccents: (prop_types__WEBPACK_IMPORTED_MODULE_13___default().bool),
  containerRef: prop_types__WEBPACK_IMPORTED_MODULE_13___default().oneOfType([(prop_types__WEBPACK_IMPORTED_MODULE_13___default().func), prop_types__WEBPACK_IMPORTED_MODULE_13___default().shape({
    current: typeof Element === 'undefined' ? (prop_types__WEBPACK_IMPORTED_MODULE_13___default().any) : prop_types__WEBPACK_IMPORTED_MODULE_13___default().instanceOf(Element)
  })]),
  children: prop_types__WEBPACK_IMPORTED_MODULE_13___default().oneOfType([(prop_types__WEBPACK_IMPORTED_MODULE_13___default().element), prop_types__WEBPACK_IMPORTED_MODULE_13___default().arrayOf((prop_types__WEBPACK_IMPORTED_MODULE_13___default().element))]).isRequired
});

(0,_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_8__["default"])(SuggestionsOverlay, "defaultProps", {
  suggestions: {},
  onSelect: function onSelect() {
    return null;
  }
});

var getID = function getID(suggestion) {
  if (typeof suggestion === 'string') {
    return suggestion;
  }

  return suggestion.id;
};

var styled$2 = createDefaultStyle({
  zIndex: 1,
  backgroundColor: 'white',
  marginTop: 14,
  minWidth: 100,
  list: {
    margin: 0,
    padding: 0,
    listStyleType: 'none'
  }
});
var SuggestionsOverlay$1 = styled$2(SuggestionsOverlay);

function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }

function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { (0,_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_8__["default"])(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }
var makeTriggerRegex = function makeTriggerRegex(trigger) {
  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};

  if (trigger instanceof RegExp) {
    return trigger;
  } else {
    var allowSpaceInQuery = options.allowSpaceInQuery;
    var escapedTriggerChar = escapeRegex(trigger); // first capture group is the part to be replaced on completion
    // second capture group is for extracting the search query

    return new RegExp("(?:^|\\s)(".concat(escapedTriggerChar, "([^").concat(allowSpaceInQuery ? '' : '\\s').concat(escapedTriggerChar, "]*))$"));
  }
};

var getDataProvider = function getDataProvider(data, ignoreAccents) {
  if (data instanceof Array) {
    // if data is an array, create a function to query that
    return function (query, callback) {
      var results = [];

      for (var i = 0, l = data.length; i < l; ++i) {
        var display = data[i].display || data[i].id;

        if (getSubstringIndex(display, query, ignoreAccents) >= 0) {
          results.push(data[i]);
        }
      }

      return results;
    };
  } else {
    // expect data to be a query function
    return data;
  }
};

var KEY = {
  TAB: 9,
  RETURN: 13,
  ESC: 27,
  UP: 38,
  DOWN: 40
};
var isComposing = false;
var propTypes = {
  /**
   * If set to `true` a regular text input element will be rendered
   * instead of a textarea
   */
  singleLine: (prop_types__WEBPACK_IMPORTED_MODULE_13___default().bool),
  allowSpaceInQuery: (prop_types__WEBPACK_IMPORTED_MODULE_13___default().bool),
  allowSuggestionsAboveCursor: (prop_types__WEBPACK_IMPORTED_MODULE_13___default().bool),
  forceSuggestionsAboveCursor: (prop_types__WEBPACK_IMPORTED_MODULE_13___default().bool),
  ignoreAccents: (prop_types__WEBPACK_IMPORTED_MODULE_13___default().bool),
  a11ySuggestionsListLabel: (prop_types__WEBPACK_IMPORTED_MODULE_13___default().string),
  value: (prop_types__WEBPACK_IMPORTED_MODULE_13___default().string),
  onKeyDown: (prop_types__WEBPACK_IMPORTED_MODULE_13___default().func),
  onSelect: (prop_types__WEBPACK_IMPORTED_MODULE_13___default().func),
  onBlur: (prop_types__WEBPACK_IMPORTED_MODULE_13___default().func),
  onChange: (prop_types__WEBPACK_IMPORTED_MODULE_13___default().func),
  suggestionsPortalHost: typeof Element === 'undefined' ? (prop_types__WEBPACK_IMPORTED_MODULE_13___default().any) : prop_types__WEBPACK_IMPORTED_MODULE_13___default().PropTypes.instanceOf(Element),
  inputRef: prop_types__WEBPACK_IMPORTED_MODULE_13___default().oneOfType([(prop_types__WEBPACK_IMPORTED_MODULE_13___default().func), prop_types__WEBPACK_IMPORTED_MODULE_13___default().shape({
    current: typeof Element === 'undefined' ? (prop_types__WEBPACK_IMPORTED_MODULE_13___default().any) : prop_types__WEBPACK_IMPORTED_MODULE_13___default().instanceOf(Element)
  })]),
  children: prop_types__WEBPACK_IMPORTED_MODULE_13___default().oneOfType([(prop_types__WEBPACK_IMPORTED_MODULE_13___default().element), prop_types__WEBPACK_IMPORTED_MODULE_13___default().arrayOf((prop_types__WEBPACK_IMPORTED_MODULE_13___default().element))]).isRequired
};

var MentionsInput =
/*#__PURE__*/
function (_React$Component) {
  (0,_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_7__["default"])(MentionsInput, _React$Component);

  function MentionsInput(_props) {
    var _this;

    (0,_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_2__["default"])(this, MentionsInput);

    _this = (0,_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__["default"])(this, (0,_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(MentionsInput).call(this, _props));

    (0,_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_8__["default"])((0,_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_6__["default"])(_this), "setContainerElement", function (el) {
      _this.containerElement = el;
    });

    (0,_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_8__["default"])((0,_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_6__["default"])(_this), "getInputProps", function () {
      var _this$props = _this.props,
          readOnly = _this$props.readOnly,
          disabled = _this$props.disabled,
          style = _this$props.style; // pass all props that neither we, nor substyle, consume through to the input control

      var props = omit(_this.props, ['style', 'classNames', 'className'], // substyle props
      keys(propTypes));
      return _objectSpread({}, props, {}, style('input'), {
        value: _this.getPlainText()
      }, !readOnly && !disabled && {
        onChange: _this.handleChange,
        onSelect: _this.handleSelect,
        onKeyDown: _this.handleKeyDown,
        onBlur: _this.handleBlur,
        onCompositionStart: _this.handleCompositionStart,
        onCompositionEnd: _this.handleCompositionEnd,
        onScroll: _this.updateHighlighterScroll
      }, {}, _this.isOpened() && {
        role: 'combobox',
        'aria-controls': _this.uuidSuggestionsOverlay,
        'aria-expanded': true,
        'aria-autocomplete': 'list',
        'aria-haspopup': 'listbox',
        'aria-activedescendant': getSuggestionHtmlId(_this.uuidSuggestionsOverlay, _this.state.focusIndex)
      });
    });

    (0,_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_8__["default"])((0,_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_6__["default"])(_this), "renderControl", function () {
      var _this$props2 = _this.props,
          singleLine = _this$props2.singleLine,
          style = _this$props2.style;

      var inputProps = _this.getInputProps();

      return react__WEBPACK_IMPORTED_MODULE_9__.createElement("div", style('control'), _this.renderHighlighter(), singleLine ? _this.renderInput(inputProps) : _this.renderTextarea(inputProps));
    });

    (0,_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_8__["default"])((0,_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_6__["default"])(_this), "renderInput", function (props) {
      return react__WEBPACK_IMPORTED_MODULE_9__.createElement("input", (0,_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_1__["default"])({
        type: "text",
        ref: _this.setInputRef
      }, props));
    });

    (0,_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_8__["default"])((0,_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_6__["default"])(_this), "renderTextarea", function (props) {
      return react__WEBPACK_IMPORTED_MODULE_9__.createElement("textarea", (0,_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_1__["default"])({
        ref: _this.setInputRef
      }, props));
    });

    (0,_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_8__["default"])((0,_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_6__["default"])(_this), "setInputRef", function (el) {
      _this.inputElement = el;
      var inputRef = _this.props.inputRef;

      if (typeof inputRef === 'function') {
        inputRef(el);
      } else if (inputRef) {
        inputRef.current = el;
      }
    });

    (0,_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_8__["default"])((0,_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_6__["default"])(_this), "setSuggestionsElement", function (el) {
      _this.suggestionsElement = el;
    });

    (0,_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_8__["default"])((0,_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_6__["default"])(_this), "renderSuggestionsOverlay", function () {
      if (!isNumber(_this.state.selectionStart)) {
        // do not show suggestions when the input does not have the focus
        return null;
      }

      var _this$state$suggestio = _this.state.suggestionsPosition,
          position = _this$state$suggestio.position,
          left = _this$state$suggestio.left,
          top = _this$state$suggestio.top;
      var suggestionsNode = react__WEBPACK_IMPORTED_MODULE_9__.createElement(SuggestionsOverlay$1, {
        id: _this.uuidSuggestionsOverlay,
        style: _this.props.style('suggestions'),
        position: position,
        left: left,
        top: top,
        focusIndex: _this.state.focusIndex,
        scrollFocusedIntoView: _this.state.scrollFocusedIntoView,
        containerRef: _this.setSuggestionsElement,
        suggestions: _this.state.suggestions,
        onSelect: _this.addMention,
        onMouseDown: _this.handleSuggestionsMouseDown,
        onMouseEnter: _this.handleSuggestionsMouseEnter,
        isLoading: _this.isLoading(),
        isOpened: _this.isOpened(),
        ignoreAccents: _this.props.ignoreAccents,
        a11ySuggestionsListLabel: _this.props.a11ySuggestionsListLabel
      }, _this.props.children);

      if (_this.props.suggestionsPortalHost) {
        return react_dom__WEBPACK_IMPORTED_MODULE_14__.createPortal(suggestionsNode, _this.props.suggestionsPortalHost);
      } else {
        return suggestionsNode;
      }
    });

    (0,_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_8__["default"])((0,_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_6__["default"])(_this), "renderHighlighter", function () {
      var _this$state = _this.state,
          selectionStart = _this$state.selectionStart,
          selectionEnd = _this$state.selectionEnd;
      var _this$props3 = _this.props,
          singleLine = _this$props3.singleLine,
          children = _this$props3.children,
          value = _this$props3.value,
          style = _this$props3.style;
      return react__WEBPACK_IMPORTED_MODULE_9__.createElement(Highlighter$1, {
        containerRef: _this.setHighlighterElement,
        style: style('highlighter'),
        value: value,
        singleLine: singleLine,
        selectionStart: selectionStart,
        selectionEnd: selectionEnd,
        onCaretPositionChange: _this.handleCaretPositionChange
      }, children);
    });

    (0,_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_8__["default"])((0,_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_6__["default"])(_this), "setHighlighterElement", function (el) {
      _this.highlighterElement = el;
    });

    (0,_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_8__["default"])((0,_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_6__["default"])(_this), "handleCaretPositionChange", function (position) {
      _this.setState({
        caretPosition: position
      });
    });

    (0,_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_8__["default"])((0,_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_6__["default"])(_this), "getPlainText", function () {
      return getPlainText(_this.props.value || '', readConfigFromChildren(_this.props.children));
    });

    (0,_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_8__["default"])((0,_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_6__["default"])(_this), "executeOnChange", function (event) {
      for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {
        args[_key - 1] = arguments[_key];
      }

      if (_this.props.onChange) {
        var _this$props4;

        return (_this$props4 = _this.props).onChange.apply(_this$props4, [event].concat(args));
      }

      if (_this.props.valueLink) {
        var _this$props$valueLink;

        return (_this$props$valueLink = _this.props.valueLink).requestChange.apply(_this$props$valueLink, [event.target.value].concat(args));
      }
    });

    (0,_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_8__["default"])((0,_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_6__["default"])(_this), "handleChange", function (ev) {
      isComposing = false; // if we are inside iframe, we need to find activeElement within its contentDocument

      var currentDocument = document.activeElement && document.activeElement.contentDocument || document;

      if (currentDocument.activeElement !== ev.target) {
        // fix an IE bug (blur from empty input element with placeholder attribute trigger "input" event)
        return;
      }

      var value = _this.props.value || '';
      var config = readConfigFromChildren(_this.props.children);
      var newPlainTextValue = ev.target.value; // Derive the new value to set by applying the local change in the textarea's plain text

      var newValue = applyChangeToValue(value, newPlainTextValue, {
        selectionStartBefore: _this.state.selectionStart,
        selectionEndBefore: _this.state.selectionEnd,
        selectionEndAfter: ev.target.selectionEnd
      }, config); // In case a mention is deleted, also adjust the new plain text value

      newPlainTextValue = getPlainText(newValue, config); // Save current selection after change to be able to restore caret position after rerendering

      var selectionStart = ev.target.selectionStart;
      var selectionEnd = ev.target.selectionEnd;
      var setSelectionAfterMentionChange = false; // Adjust selection range in case a mention will be deleted by the characters outside of the
      // selection range that are automatically deleted

      var startOfMention = findStartOfMentionInPlainText(value, config, selectionStart);

      if (startOfMention !== undefined && _this.state.selectionEnd > startOfMention) {
        // only if a deletion has taken place
        selectionStart = startOfMention;
        selectionEnd = selectionStart;
        setSelectionAfterMentionChange = true;
      }

      _this.setState({
        selectionStart: selectionStart,
        selectionEnd: selectionEnd,
        setSelectionAfterMentionChange: setSelectionAfterMentionChange
      });

      var mentions = getMentions(newValue, config); // Propagate change
      // let handleChange = this.getOnChange(this.props) || emptyFunction;

      var eventMock = {
        target: {
          value: newValue
        }
      }; // this.props.onChange.call(this, eventMock, newValue, newPlainTextValue, mentions);

      _this.executeOnChange(eventMock, newValue, newPlainTextValue, mentions);
    });

    (0,_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_8__["default"])((0,_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_6__["default"])(_this), "handleSelect", function (ev) {
      // keep track of selection range / caret position
      _this.setState({
        selectionStart: ev.target.selectionStart,
        selectionEnd: ev.target.selectionEnd
      }); // do nothing while a IME composition session is active


      if (isComposing) return; // refresh suggestions queries

      var el = _this.inputElement;

      if (ev.target.selectionStart === ev.target.selectionEnd) {
        _this.updateMentionsQueries(el.value, ev.target.selectionStart);
      } else {
        _this.clearSuggestions();
      } // sync highlighters scroll position


      _this.updateHighlighterScroll();

      _this.props.onSelect(ev);
    });

    (0,_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_8__["default"])((0,_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_6__["default"])(_this), "handleKeyDown", function (ev) {
      // do not intercept key events if the suggestions overlay is not shown
      var suggestionsCount = countSuggestions(_this.state.suggestions);

      if (suggestionsCount === 0 || !_this.suggestionsElement) {
        _this.props.onKeyDown(ev);

        return;
      }

      if (Object.values(KEY).indexOf(ev.keyCode) >= 0) {
        ev.preventDefault();
        ev.stopPropagation();
      }

      switch (ev.keyCode) {
        case KEY.ESC:
          {
            _this.clearSuggestions();

            return;
          }

        case KEY.DOWN:
          {
            _this.shiftFocus(+1);

            return;
          }

        case KEY.UP:
          {
            _this.shiftFocus(-1);

            return;
          }

        case KEY.RETURN:
          {
            _this.selectFocused();

            return;
          }

        case KEY.TAB:
          {
            _this.selectFocused();

            return;
          }

        default:
          {
            return;
          }
      }
    });

    (0,_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_8__["default"])((0,_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_6__["default"])(_this), "shiftFocus", function (delta) {
      var suggestionsCount = countSuggestions(_this.state.suggestions);

      _this.setState({
        focusIndex: (suggestionsCount + _this.state.focusIndex + delta) % suggestionsCount,
        scrollFocusedIntoView: true
      });
    });

    (0,_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_8__["default"])((0,_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_6__["default"])(_this), "selectFocused", function () {
      var _this$state2 = _this.state,
          suggestions = _this$state2.suggestions,
          focusIndex = _this$state2.focusIndex;
      var _Object$values$reduce = Object.values(suggestions).reduce(function (acc, _ref) {
        var results = _ref.results,
            queryInfo = _ref.queryInfo;
        return [].concat((0,_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__["default"])(acc), (0,_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__["default"])(results.map(function (result) {
          return {
            result: result,
            queryInfo: queryInfo
          };
        })));
      }, [])[focusIndex],
          result = _Object$values$reduce.result,
          queryInfo = _Object$values$reduce.queryInfo;

      _this.addMention(result, queryInfo);

      _this.setState({
        focusIndex: 0
      });
    });

    (0,_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_8__["default"])((0,_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_6__["default"])(_this), "handleBlur", function (ev) {
      var clickedSuggestion = _this._suggestionsMouseDown;
      _this._suggestionsMouseDown = false; // only reset selection if the mousedown happened on an element
      // other than the suggestions overlay

      if (!clickedSuggestion) {
        _this.setState({
          selectionStart: null,
          selectionEnd: null
        });
      }

      window.setTimeout(function () {
        _this.updateHighlighterScroll();
      }, 1);

      _this.props.onBlur(ev, clickedSuggestion);
    });

    (0,_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_8__["default"])((0,_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_6__["default"])(_this), "handleSuggestionsMouseDown", function (ev) {
      _this._suggestionsMouseDown = true;
    });

    (0,_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_8__["default"])((0,_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_6__["default"])(_this), "handleSuggestionsMouseEnter", function (focusIndex) {
      _this.setState({
        focusIndex: focusIndex,
        scrollFocusedIntoView: false
      });
    });

    (0,_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_8__["default"])((0,_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_6__["default"])(_this), "updateSuggestionsPosition", function () {
      var caretPosition = _this.state.caretPosition;
      var _this$props5 = _this.props,
          suggestionsPortalHost = _this$props5.suggestionsPortalHost,
          allowSuggestionsAboveCursor = _this$props5.allowSuggestionsAboveCursor,
          forceSuggestionsAboveCursor = _this$props5.forceSuggestionsAboveCursor;

      if (!caretPosition || !_this.suggestionsElement) {
        return;
      }

      var suggestions = _this.suggestionsElement;
      var highlighter = _this.highlighterElement; // first get viewport-relative position (highlighter is offsetParent of caret):

      var caretOffsetParentRect = highlighter.getBoundingClientRect();
      var caretHeight = getComputedStyleLengthProp(highlighter, 'font-size');
      var viewportRelative = {
        left: caretOffsetParentRect.left + caretPosition.left,
        top: caretOffsetParentRect.top + caretPosition.top + caretHeight
      };
      var viewportHeight = Math.max(document.documentElement.clientHeight, window.innerHeight || 0);

      if (!suggestions) {
        return;
      }

      var position = {}; // if suggestions menu is in a portal, update position to be releative to its portal node

      if (suggestionsPortalHost) {
        position.position = 'fixed';
        var left = viewportRelative.left;
        var top = viewportRelative.top; // absolute/fixed positioned elements are positioned according to their entire box including margins; so we remove margins here:

        left -= getComputedStyleLengthProp(suggestions, 'margin-left');
        top -= getComputedStyleLengthProp(suggestions, 'margin-top'); // take into account highlighter/textinput scrolling:

        left -= highlighter.scrollLeft;
        top -= highlighter.scrollTop; // guard for mentions suggestions list clipped by right edge of window

        var viewportWidth = Math.max(document.documentElement.clientWidth, window.innerWidth || 0);

        if (left + suggestions.offsetWidth > viewportWidth) {
          position.left = Math.max(0, viewportWidth - suggestions.offsetWidth);
        } else {
          position.left = left;
        } // guard for mentions suggestions list clipped by bottom edge of window if allowSuggestionsAboveCursor set to true.
        // Move the list up above the caret if it's getting cut off by the bottom of the window, provided that the list height
        // is small enough to NOT cover up the caret


        if (allowSuggestionsAboveCursor && top + suggestions.offsetHeight > viewportHeight && suggestions.offsetHeight < top - caretHeight || forceSuggestionsAboveCursor) {
          position.top = Math.max(0, top - suggestions.offsetHeight - caretHeight);
        } else {
          position.top = top;
        }
      } else {
        var _left = caretPosition.left - highlighter.scrollLeft;

        var _top = caretPosition.top - highlighter.scrollTop; // guard for mentions suggestions list clipped by right edge of window


        if (_left + suggestions.offsetWidth > _this.containerElement.offsetWidth) {
          position.right = 0;
        } else {
          position.left = _left;
        } // guard for mentions suggestions list clipped by bottom edge of window if allowSuggestionsAboveCursor set to true.
        // move the list up above the caret if it's getting cut off by the bottom of the window, provided that the list height
        // is small enough to NOT cover up the caret


        if (allowSuggestionsAboveCursor && viewportRelative.top - highlighter.scrollTop + suggestions.offsetHeight > viewportHeight && suggestions.offsetHeight < caretOffsetParentRect.top - caretHeight - highlighter.scrollTop) {
          position.top = _top - suggestions.offsetHeight - caretHeight;
        } else {
          position.top = _top;
        }
      }

      if (position.left === _this.state.suggestionsPosition.left && position.top === _this.state.suggestionsPosition.top && position.position === _this.state.suggestionsPosition.position) {
        return;
      }

      _this.setState({
        suggestionsPosition: position
      });
    });

    (0,_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_8__["default"])((0,_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_6__["default"])(_this), "updateHighlighterScroll", function () {
      var input = _this.inputElement;
      var highlighter = _this.highlighterElement;

      if (!input || !highlighter) {
        // since the invocation of this function is deferred,
        // the whole component may have been unmounted in the meanwhile
        return;
      }

      highlighter.scrollLeft = input.scrollLeft;
      highlighter.scrollTop = input.scrollTop;
      highlighter.height = input.height;
    });

    (0,_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_8__["default"])((0,_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_6__["default"])(_this), "handleCompositionStart", function () {
      isComposing = true;
    });

    (0,_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_8__["default"])((0,_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_6__["default"])(_this), "handleCompositionEnd", function () {
      isComposing = false;
    });

    (0,_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_8__["default"])((0,_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_6__["default"])(_this), "setSelection", function (selectionStart, selectionEnd) {
      if (selectionStart === null || selectionEnd === null) return;
      var el = _this.inputElement;

      if (el.setSelectionRange) {
        el.setSelectionRange(selectionStart, selectionEnd);
      } else if (el.createTextRange) {
        var range = el.createTextRange();
        range.collapse(true);
        range.moveEnd('character', selectionEnd);
        range.moveStart('character', selectionStart);
        range.select();
      }
    });

    (0,_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_8__["default"])((0,_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_6__["default"])(_this), "updateMentionsQueries", function (plainTextValue, caretPosition) {
      // Invalidate previous queries. Async results for previous queries will be neglected.
      _this._queryId++;
      _this.suggestions = {};

      _this.setState({
        suggestions: {}
      });

      var value = _this.props.value || '';
      var children = _this.props.children;
      var config = readConfigFromChildren(children);
      var positionInValue = mapPlainTextIndex(value, config, caretPosition, 'NULL'); // If caret is inside of mention, do not query

      if (positionInValue === null) {
        return;
      } // Extract substring in between the end of the previous mention and the caret


      var substringStartIndex = getEndOfLastMention(value.substring(0, positionInValue), config);
      var substring = plainTextValue.substring(substringStartIndex, caretPosition); // Check if suggestions have to be shown:
      // Match the trigger patterns of all Mention children on the extracted substring

      react__WEBPACK_IMPORTED_MODULE_9__.Children.forEach(children, function (child, childIndex) {
        if (!child) {
          return;
        }

        var regex = makeTriggerRegex(child.props.trigger, _this.props);
        var match = substring.match(regex);

        if (match) {
          var querySequenceStart = substringStartIndex + substring.indexOf(match[1], match.index);

          _this.queryData(match[2], childIndex, querySequenceStart, querySequenceStart + match[1].length, plainTextValue);
        }
      });
    });

    (0,_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_8__["default"])((0,_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_6__["default"])(_this), "clearSuggestions", function () {
      // Invalidate previous queries. Async results for previous queries will be neglected.
      _this._queryId++;
      _this.suggestions = {};

      _this.setState({
        suggestions: {},
        focusIndex: 0
      });
    });

    (0,_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_8__["default"])((0,_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_6__["default"])(_this), "queryData", function (query, childIndex, querySequenceStart, querySequenceEnd, plainTextValue) {
      var _this$props6 = _this.props,
          children = _this$props6.children,
          ignoreAccents = _this$props6.ignoreAccents;
      var mentionChild = react__WEBPACK_IMPORTED_MODULE_9__.Children.toArray(children)[childIndex];
      var provideData = getDataProvider(mentionChild.props.data, ignoreAccents);
      var syncResult = provideData(query, _this.updateSuggestions.bind(null, _this._queryId, childIndex, query, querySequenceStart, querySequenceEnd, plainTextValue));

      if (syncResult instanceof Array) {
        _this.updateSuggestions(_this._queryId, childIndex, query, querySequenceStart, querySequenceEnd, plainTextValue, syncResult);
      }
    });

    (0,_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_8__["default"])((0,_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_6__["default"])(_this), "updateSuggestions", function (queryId, childIndex, query, querySequenceStart, querySequenceEnd, plainTextValue, results) {
      // neglect async results from previous queries
      if (queryId !== _this._queryId) return; // save in property so that multiple sync state updates from different mentions sources
      // won't overwrite each other

      _this.suggestions = _objectSpread({}, _this.suggestions, (0,_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_8__["default"])({}, childIndex, {
        queryInfo: {
          childIndex: childIndex,
          query: query,
          querySequenceStart: querySequenceStart,
          querySequenceEnd: querySequenceEnd,
          plainTextValue: plainTextValue
        },
        results: results
      }));
      var focusIndex = _this.state.focusIndex;
      var suggestionsCount = countSuggestions(_this.suggestions);

      _this.setState({
        suggestions: _this.suggestions,
        focusIndex: focusIndex >= suggestionsCount ? Math.max(suggestionsCount - 1, 0) : focusIndex
      });
    });

    (0,_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_8__["default"])((0,_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_6__["default"])(_this), "addMention", function (_ref2, _ref3) {
      var id = _ref2.id,
          display = _ref2.display;
      var childIndex = _ref3.childIndex,
          querySequenceStart = _ref3.querySequenceStart,
          querySequenceEnd = _ref3.querySequenceEnd,
          plainTextValue = _ref3.plainTextValue;
      // Insert mention in the marked up value at the correct position
      var value = _this.props.value || '';
      var config = readConfigFromChildren(_this.props.children);
      var mentionsChild = react__WEBPACK_IMPORTED_MODULE_9__.Children.toArray(_this.props.children)[childIndex];
      var _mentionsChild$props = mentionsChild.props,
          markup = _mentionsChild$props.markup,
          displayTransform = _mentionsChild$props.displayTransform,
          appendSpaceOnAdd = _mentionsChild$props.appendSpaceOnAdd,
          onAdd = _mentionsChild$props.onAdd;
      var start = mapPlainTextIndex(value, config, querySequenceStart, 'START');
      var end = start + querySequenceEnd - querySequenceStart;
      var insert = makeMentionsMarkup(markup, id, display);

      if (appendSpaceOnAdd) {
        insert += ' ';
      }

      var newValue = spliceString(value, start, end, insert); // Refocus input and set caret position to end of mention

      _this.inputElement.focus();

      var displayValue = displayTransform(id, display);

      if (appendSpaceOnAdd) {
        displayValue += ' ';
      }

      var newCaretPosition = querySequenceStart + displayValue.length;

      _this.setState({
        selectionStart: newCaretPosition,
        selectionEnd: newCaretPosition,
        setSelectionAfterMentionChange: true
      }); // Propagate change


      var eventMock = {
        target: {
          value: newValue
        }
      };
      var mentions = getMentions(newValue, config);
      var newPlainTextValue = spliceString(plainTextValue, querySequenceStart, querySequenceEnd, displayValue);

      _this.executeOnChange(eventMock, newValue, newPlainTextValue, mentions);

      if (onAdd) {
        onAdd(id, display, start, end);
      } // Make sure the suggestions overlay is closed


      _this.clearSuggestions();
    });

    (0,_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_8__["default"])((0,_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_6__["default"])(_this), "isLoading", function () {
      var isLoading = false;
      react__WEBPACK_IMPORTED_MODULE_9__.Children.forEach(_this.props.children, function (child) {
        isLoading = isLoading || child && child.props.isLoading;
      });
      return isLoading;
    });

    (0,_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_8__["default"])((0,_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_6__["default"])(_this), "isOpened", function () {
      return isNumber(_this.state.selectionStart) && (countSuggestions(_this.state.suggestions) !== 0 || _this.isLoading());
    });

    (0,_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_8__["default"])((0,_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_6__["default"])(_this), "_queryId", 0);

    _this.suggestions = {};
    _this.uuidSuggestionsOverlay = Math.random().toString(16).substring(2);
    _this.handleCopy = _this.handleCopy.bind((0,_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_6__["default"])(_this));
    _this.handleCut = _this.handleCut.bind((0,_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_6__["default"])(_this));
    _this.handlePaste = _this.handlePaste.bind((0,_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_6__["default"])(_this));
    _this.state = {
      focusIndex: 0,
      selectionStart: null,
      selectionEnd: null,
      suggestions: {},
      caretPosition: null,
      suggestionsPosition: {}
    };
    return _this;
  }

  (0,_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_3__["default"])(MentionsInput, [{
    key: "componentDidMount",
    value: function componentDidMount() {
      document.addEventListener('copy', this.handleCopy);
      document.addEventListener('cut', this.handleCut);
      document.addEventListener('paste', this.handlePaste);
      this.updateSuggestionsPosition();
    }
  }, {
    key: "componentDidUpdate",
    value: function componentDidUpdate(prevProps, prevState) {
      // Update position of suggestions unless this componentDidUpdate was
      // triggered by an update to suggestionsPosition.
      if (prevState.suggestionsPosition === this.state.suggestionsPosition) {
        this.updateSuggestionsPosition();
      } // maintain selection in case a mention is added/removed causing
      // the cursor to jump to the end


      if (this.state.setSelectionAfterMentionChange) {
        this.setState({
          setSelectionAfterMentionChange: false
        });
        this.setSelection(this.state.selectionStart, this.state.selectionEnd);
      }
    }
  }, {
    key: "componentWillUnmount",
    value: function componentWillUnmount() {
      document.removeEventListener('copy', this.handleCopy);
      document.removeEventListener('cut', this.handleCut);
      document.removeEventListener('paste', this.handlePaste);
    }
  }, {
    key: "render",
    value: function render() {
      return react__WEBPACK_IMPORTED_MODULE_9__.createElement("div", (0,_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_1__["default"])({
        ref: this.setContainerElement
      }, this.props.style), this.renderControl(), this.renderSuggestionsOverlay());
    }
  }, {
    key: "handlePaste",
    value: function handlePaste(event) {
      if (event.target !== this.inputElement) {
        return;
      }

      if (!this.supportsClipboardActions(event)) {
        return;
      }

      event.preventDefault();
      var _this$state3 = this.state,
          selectionStart = _this$state3.selectionStart,
          selectionEnd = _this$state3.selectionEnd;
      var _this$props7 = this.props,
          value = _this$props7.value,
          children = _this$props7.children;
      var config = readConfigFromChildren(children);
      var markupStartIndex = mapPlainTextIndex(value, config, selectionStart, 'START');
      var markupEndIndex = mapPlainTextIndex(value, config, selectionEnd, 'END');
      var pastedMentions = event.clipboardData.getData('text/react-mentions');
      var pastedData = event.clipboardData.getData('text/plain');
      var newValue = spliceString(value, markupStartIndex, markupEndIndex, pastedMentions || pastedData).replace(/\r/g, '');
      var newPlainTextValue = getPlainText(newValue, config);
      var eventMock = {
        target: _objectSpread({}, event.target, {
          value: newValue
        })
      };
      this.executeOnChange(eventMock, newValue, newPlainTextValue, getMentions(newValue, config));
    }
  }, {
    key: "saveSelectionToClipboard",
    value: function saveSelectionToClipboard(event) {
      var _this$state4 = this.state,
          selectionStart = _this$state4.selectionStart,
          selectionEnd = _this$state4.selectionEnd;
      var _this$props8 = this.props,
          children = _this$props8.children,
          value = _this$props8.value;
      var config = readConfigFromChildren(children);
      var markupStartIndex = mapPlainTextIndex(value, config, selectionStart, 'START');
      var markupEndIndex = mapPlainTextIndex(value, config, selectionEnd, 'END');
      event.clipboardData.setData('text/plain', event.target.value.slice(selectionStart, selectionEnd));
      event.clipboardData.setData('text/react-mentions', value.slice(markupStartIndex, markupEndIndex));
    }
  }, {
    key: "supportsClipboardActions",
    value: function supportsClipboardActions(event) {
      return !!event.clipboardData;
    }
  }, {
    key: "handleCopy",
    value: function handleCopy(event) {
      if (event.target !== this.inputElement) {
        return;
      }

      if (!this.supportsClipboardActions(event)) {
        return;
      }

      event.preventDefault();
      this.saveSelectionToClipboard(event);
    }
  }, {
    key: "handleCut",
    value: function handleCut(event) {
      if (event.target !== this.inputElement) {
        return;
      }

      if (!this.supportsClipboardActions(event)) {
        return;
      }

      event.preventDefault();
      this.saveSelectionToClipboard(event);
      var _this$state5 = this.state,
          selectionStart = _this$state5.selectionStart,
          selectionEnd = _this$state5.selectionEnd;
      var _this$props9 = this.props,
          children = _this$props9.children,
          value = _this$props9.value;
      var config = readConfigFromChildren(children);
      var markupStartIndex = mapPlainTextIndex(value, config, selectionStart, 'START');
      var markupEndIndex = mapPlainTextIndex(value, config, selectionEnd, 'END');
      var newValue = [value.slice(0, markupStartIndex), value.slice(markupEndIndex)].join('');
      var newPlainTextValue = getPlainText(newValue, config);
      var eventMock = {
        target: _objectSpread({}, event.target, {
          value: newPlainTextValue
        })
      };
      this.executeOnChange(eventMock, newValue, newPlainTextValue, getMentions(value, config));
    } // Handle input element's change event

  }]);

  return MentionsInput;
}(react__WEBPACK_IMPORTED_MODULE_9__.Component);
/**
 * Returns the computed length property value for the provided element.
 * Note: According to spec and testing, can count on length values coming back in pixels. See https://developer.mozilla.org/en-US/docs/Web/CSS/used_value#Difference_from_computed_value
 */


(0,_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_8__["default"])(MentionsInput, "propTypes", propTypes);

(0,_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_8__["default"])(MentionsInput, "defaultProps", {
  ignoreAccents: false,
  singleLine: false,
  allowSuggestionsAboveCursor: false,
  onKeyDown: function onKeyDown() {
    return null;
  },
  onSelect: function onSelect() {
    return null;
  },
  onBlur: function onBlur() {
    return null;
  }
});

var getComputedStyleLengthProp = function getComputedStyleLengthProp(forElement, propertyName) {
  var length = parseFloat(window.getComputedStyle(forElement, null).getPropertyValue(propertyName));
  return isFinite(length) ? length : 0;
};

var isMobileSafari = typeof navigator !== 'undefined' && /iPhone|iPad|iPod/i.test(navigator.userAgent);
var styled$3 = createDefaultStyle({
  position: 'relative',
  overflowY: 'visible',
  input: {
    display: 'block',
    width: '100%',
    position: 'absolute',
    margin: 0,
    top: 0,
    left: 0,
    boxSizing: 'border-box',
    backgroundColor: 'transparent',
    fontFamily: 'inherit',
    fontSize: 'inherit',
    letterSpacing: 'inherit'
  },
  '&multiLine': {
    input: _objectSpread({
      height: '100%',
      bottom: 0,
      overflow: 'hidden',
      resize: 'none'
    }, isMobileSafari ? {
      marginTop: 1,
      marginLeft: -3
    } : null)
  }
}, function (_ref4) {
  var singleLine = _ref4.singleLine;
  return {
    '&singleLine': singleLine,
    '&multiLine': !singleLine
  };
});
var MentionsInput$1 = styled$3(MentionsInput);

var defaultStyle = {
  fontWeight: 'inherit'
};

var Mention = function Mention(_ref) {
  var display = _ref.display,
      style = _ref.style,
      className = _ref.className,
      classNames = _ref.classNames;
  var styles = (0,substyle__WEBPACK_IMPORTED_MODULE_15__["default"])(defaultStyle, {
    style: style,
    className: className,
    classNames: classNames
  });
  return react__WEBPACK_IMPORTED_MODULE_9__.createElement("strong", styles, display);
};

Mention.propTypes = {
  /**
   * Called when a new mention is added in the input
   *
   * Example:
   *
   * ```js
   * function(id, display) {
   *   console.log("user " + display + " was mentioned!");
   * }
   * ```
   */
  onAdd: (prop_types__WEBPACK_IMPORTED_MODULE_13___default().func),
  onRemove: (prop_types__WEBPACK_IMPORTED_MODULE_13___default().func),
  renderSuggestion: (prop_types__WEBPACK_IMPORTED_MODULE_13___default().func),
  trigger: prop_types__WEBPACK_IMPORTED_MODULE_13___default().oneOfType([(prop_types__WEBPACK_IMPORTED_MODULE_13___default().string), prop_types__WEBPACK_IMPORTED_MODULE_13___default().instanceOf(RegExp)]),
  markup: (prop_types__WEBPACK_IMPORTED_MODULE_13___default().string),
  displayTransform: (prop_types__WEBPACK_IMPORTED_MODULE_13___default().func),

  /**
   * If set to `true` spaces will not interrupt matching suggestions
   */
  allowSpaceInQuery: (prop_types__WEBPACK_IMPORTED_MODULE_13___default().bool),
  isLoading: (prop_types__WEBPACK_IMPORTED_MODULE_13___default().bool)
};
Mention.defaultProps = {
  trigger: '@',
  markup: '@[__display__](__id__)',
  displayTransform: function displayTransform(id, display) {
    return display || id;
  },
  onAdd: function onAdd() {
    return null;
  },
  onRemove: function onRemove() {
    return null;
  },
  renderSuggestion: null,
  isLoading: false,
  appendSpaceOnAdd: false
};




/***/ }),

/***/ "./node_modules/react-mentions/node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js":
/*!***********************************************************************************************!*\
  !*** ./node_modules/react-mentions/node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js ***!
  \***********************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ _arrayWithHoles)
/* harmony export */ });
function _arrayWithHoles(arr) {
  if (Array.isArray(arr)) return arr;
}

/***/ }),

/***/ "./node_modules/react-mentions/node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js":
/*!**************************************************************************************************!*\
  !*** ./node_modules/react-mentions/node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js ***!
  \**************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ _arrayWithoutHoles)
/* harmony export */ });
function _arrayWithoutHoles(arr) {
  if (Array.isArray(arr)) {
    for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) {
      arr2[i] = arr[i];
    }

    return arr2;
  }
}

/***/ }),

/***/ "./node_modules/react-mentions/node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js":
/*!******************************************************************************************************!*\
  !*** ./node_modules/react-mentions/node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js ***!
  \******************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ _assertThisInitialized)
/* harmony export */ });
function _assertThisInitialized(self) {
  if (self === void 0) {
    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
  }

  return self;
}

/***/ }),

/***/ "./node_modules/react-mentions/node_modules/@babel/runtime/helpers/esm/classCallCheck.js":
/*!***********************************************************************************************!*\
  !*** ./node_modules/react-mentions/node_modules/@babel/runtime/helpers/esm/classCallCheck.js ***!
  \***********************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ _classCallCheck)
/* harmony export */ });
function _classCallCheck(instance, Constructor) {
  if (!(instance instanceof Constructor)) {
    throw new TypeError("Cannot call a class as a function");
  }
}

/***/ }),

/***/ "./node_modules/react-mentions/node_modules/@babel/runtime/helpers/esm/createClass.js":
/*!********************************************************************************************!*\
  !*** ./node_modules/react-mentions/node_modules/@babel/runtime/helpers/esm/createClass.js ***!
  \********************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ _createClass)
/* harmony export */ });
function _defineProperties(target, props) {
  for (var i = 0; i < props.length; i++) {
    var descriptor = props[i];
    descriptor.enumerable = descriptor.enumerable || false;
    descriptor.configurable = true;
    if ("value" in descriptor) descriptor.writable = true;
    Object.defineProperty(target, descriptor.key, descriptor);
  }
}

function _createClass(Constructor, protoProps, staticProps) {
  if (protoProps) _defineProperties(Constructor.prototype, protoProps);
  if (staticProps) _defineProperties(Constructor, staticProps);
  return Constructor;
}

/***/ }),

/***/ "./node_modules/react-mentions/node_modules/@babel/runtime/helpers/esm/defineProperty.js":
/*!***********************************************************************************************!*\
  !*** ./node_modules/react-mentions/node_modules/@babel/runtime/helpers/esm/defineProperty.js ***!
  \***********************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ _defineProperty)
/* harmony export */ });
function _defineProperty(obj, key, value) {
  if (key in obj) {
    Object.defineProperty(obj, key, {
      value: value,
      enumerable: true,
      configurable: true,
      writable: true
    });
  } else {
    obj[key] = value;
  }

  return obj;
}

/***/ }),

/***/ "./node_modules/react-mentions/node_modules/@babel/runtime/helpers/esm/extends.js":
/*!****************************************************************************************!*\
  !*** ./node_modules/react-mentions/node_modules/@babel/runtime/helpers/esm/extends.js ***!
  \****************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ _extends)
/* harmony export */ });
function _extends() {
  _extends = Object.assign || function (target) {
    for (var i = 1; i < arguments.length; i++) {
      var source = arguments[i];

      for (var key in source) {
        if (Object.prototype.hasOwnProperty.call(source, key)) {
          target[key] = source[key];
        }
      }
    }

    return target;
  };

  return _extends.apply(this, arguments);
}

/***/ }),

/***/ "./node_modules/react-mentions/node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js":
/*!***********************************************************************************************!*\
  !*** ./node_modules/react-mentions/node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js ***!
  \***********************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ _getPrototypeOf)
/* harmony export */ });
function _getPrototypeOf(o) {
  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {
    return o.__proto__ || Object.getPrototypeOf(o);
  };
  return _getPrototypeOf(o);
}

/***/ }),

/***/ "./node_modules/react-mentions/node_modules/@babel/runtime/helpers/esm/inherits.js":
/*!*****************************************************************************************!*\
  !*** ./node_modules/react-mentions/node_modules/@babel/runtime/helpers/esm/inherits.js ***!
  \*****************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ _inherits)
/* harmony export */ });
/* harmony import */ var _setPrototypeOf__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./setPrototypeOf */ "./node_modules/react-mentions/node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js");

function _inherits(subClass, superClass) {
  if (typeof superClass !== "function" && superClass !== null) {
    throw new TypeError("Super expression must either be null or a function");
  }

  subClass.prototype = Object.create(superClass && superClass.prototype, {
    constructor: {
      value: subClass,
      writable: true,
      configurable: true
    }
  });
  if (superClass) (0,_setPrototypeOf__WEBPACK_IMPORTED_MODULE_0__["default"])(subClass, superClass);
}

/***/ }),

/***/ "./node_modules/react-mentions/node_modules/@babel/runtime/helpers/esm/iterableToArray.js":
/*!************************************************************************************************!*\
  !*** ./node_modules/react-mentions/node_modules/@babel/runtime/helpers/esm/iterableToArray.js ***!
  \************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ _iterableToArray)
/* harmony export */ });
function _iterableToArray(iter) {
  if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === "[object Arguments]") return Array.from(iter);
}

/***/ }),

/***/ "./node_modules/react-mentions/node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js":
/*!*****************************************************************************************************!*\
  !*** ./node_modules/react-mentions/node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js ***!
  \*****************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ _iterableToArrayLimit)
/* harmony export */ });
function _iterableToArrayLimit(arr, i) {
  var _arr = [];
  var _n = true;
  var _d = false;
  var _e = undefined;

  try {
    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {
      _arr.push(_s.value);

      if (i && _arr.length === i) break;
    }
  } catch (err) {
    _d = true;
    _e = err;
  } finally {
    try {
      if (!_n && _i["return"] != null) _i["return"]();
    } finally {
      if (_d) throw _e;
    }
  }

  return _arr;
}

/***/ }),

/***/ "./node_modules/react-mentions/node_modules/@babel/runtime/helpers/esm/nonIterableRest.js":
/*!************************************************************************************************!*\
  !*** ./node_modules/react-mentions/node_modules/@babel/runtime/helpers/esm/nonIterableRest.js ***!
  \************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ _nonIterableRest)
/* harmony export */ });
function _nonIterableRest() {
  throw new TypeError("Invalid attempt to destructure non-iterable instance");
}

/***/ }),

/***/ "./node_modules/react-mentions/node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js":
/*!**************************************************************************************************!*\
  !*** ./node_modules/react-mentions/node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js ***!
  \**************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ _nonIterableSpread)
/* harmony export */ });
function _nonIterableSpread() {
  throw new TypeError("Invalid attempt to spread non-iterable instance");
}

/***/ }),

/***/ "./node_modules/react-mentions/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js":
/*!********************************************************************************************************!*\
  !*** ./node_modules/react-mentions/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js ***!
  \********************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ _objectWithoutProperties)
/* harmony export */ });
/* harmony import */ var _objectWithoutPropertiesLoose__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./objectWithoutPropertiesLoose */ "./node_modules/react-mentions/node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js");

function _objectWithoutProperties(source, excluded) {
  if (source == null) return {};
  var target = (0,_objectWithoutPropertiesLoose__WEBPACK_IMPORTED_MODULE_0__["default"])(source, excluded);
  var key, i;

  if (Object.getOwnPropertySymbols) {
    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);

    for (i = 0; i < sourceSymbolKeys.length; i++) {
      key = sourceSymbolKeys[i];
      if (excluded.indexOf(key) >= 0) continue;
      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;
      target[key] = source[key];
    }
  }

  return target;
}

/***/ }),

/***/ "./node_modules/react-mentions/node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js":
/*!*************************************************************************************************************!*\
  !*** ./node_modules/react-mentions/node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js ***!
  \*************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ _objectWithoutPropertiesLoose)
/* harmony export */ });
function _objectWithoutPropertiesLoose(source, excluded) {
  if (source == null) return {};
  var target = {};
  var sourceKeys = Object.keys(source);
  var key, i;

  for (i = 0; i < sourceKeys.length; i++) {
    key = sourceKeys[i];
    if (excluded.indexOf(key) >= 0) continue;
    target[key] = source[key];
  }

  return target;
}

/***/ }),

/***/ "./node_modules/react-mentions/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js":
/*!**********************************************************************************************************!*\
  !*** ./node_modules/react-mentions/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js ***!
  \**********************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ _possibleConstructorReturn)
/* harmony export */ });
/* harmony import */ var _helpers_esm_typeof__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../helpers/esm/typeof */ "./node_modules/react-mentions/node_modules/@babel/runtime/helpers/esm/typeof.js");
/* harmony import */ var _assertThisInitialized__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./assertThisInitialized */ "./node_modules/react-mentions/node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js");


function _possibleConstructorReturn(self, call) {
  if (call && ((0,_helpers_esm_typeof__WEBPACK_IMPORTED_MODULE_0__["default"])(call) === "object" || typeof call === "function")) {
    return call;
  }

  return (0,_assertThisInitialized__WEBPACK_IMPORTED_MODULE_1__["default"])(self);
}

/***/ }),

/***/ "./node_modules/react-mentions/node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js":
/*!***********************************************************************************************!*\
  !*** ./node_modules/react-mentions/node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js ***!
  \***********************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ _setPrototypeOf)
/* harmony export */ });
function _setPrototypeOf(o, p) {
  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {
    o.__proto__ = p;
    return o;
  };

  return _setPrototypeOf(o, p);
}

/***/ }),

/***/ "./node_modules/react-mentions/node_modules/@babel/runtime/helpers/esm/slicedToArray.js":
/*!**********************************************************************************************!*\
  !*** ./node_modules/react-mentions/node_modules/@babel/runtime/helpers/esm/slicedToArray.js ***!
  \**********************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ _slicedToArray)
/* harmony export */ });
/* harmony import */ var _arrayWithHoles__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./arrayWithHoles */ "./node_modules/react-mentions/node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js");
/* harmony import */ var _iterableToArrayLimit__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./iterableToArrayLimit */ "./node_modules/react-mentions/node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js");
/* harmony import */ var _nonIterableRest__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./nonIterableRest */ "./node_modules/react-mentions/node_modules/@babel/runtime/helpers/esm/nonIterableRest.js");



function _slicedToArray(arr, i) {
  return (0,_arrayWithHoles__WEBPACK_IMPORTED_MODULE_0__["default"])(arr) || (0,_iterableToArrayLimit__WEBPACK_IMPORTED_MODULE_1__["default"])(arr, i) || (0,_nonIterableRest__WEBPACK_IMPORTED_MODULE_2__["default"])();
}

/***/ }),

/***/ "./node_modules/react-mentions/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js":
/*!**************************************************************************************************!*\
  !*** ./node_modules/react-mentions/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js ***!
  \**************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ _toConsumableArray)
/* harmony export */ });
/* harmony import */ var _arrayWithoutHoles__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./arrayWithoutHoles */ "./node_modules/react-mentions/node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js");
/* harmony import */ var _iterableToArray__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./iterableToArray */ "./node_modules/react-mentions/node_modules/@babel/runtime/helpers/esm/iterableToArray.js");
/* harmony import */ var _nonIterableSpread__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./nonIterableSpread */ "./node_modules/react-mentions/node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js");



function _toConsumableArray(arr) {
  return (0,_arrayWithoutHoles__WEBPACK_IMPORTED_MODULE_0__["default"])(arr) || (0,_iterableToArray__WEBPACK_IMPORTED_MODULE_1__["default"])(arr) || (0,_nonIterableSpread__WEBPACK_IMPORTED_MODULE_2__["default"])();
}

/***/ }),

/***/ "./node_modules/react-mentions/node_modules/@babel/runtime/helpers/esm/typeof.js":
/*!***************************************************************************************!*\
  !*** ./node_modules/react-mentions/node_modules/@babel/runtime/helpers/esm/typeof.js ***!
  \***************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ _typeof)
/* harmony export */ });
function _typeof2(obj) { if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof2 = function _typeof2(obj) { return typeof obj; }; } else { _typeof2 = function _typeof2(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof2(obj); }

function _typeof(obj) {
  if (typeof Symbol === "function" && _typeof2(Symbol.iterator) === "symbol") {
    _typeof = function _typeof(obj) {
      return _typeof2(obj);
    };
  } else {
    _typeof = function _typeof(obj) {
      return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : _typeof2(obj);
    };
  }

  return _typeof(obj);
}

/***/ }),

/***/ "./node_modules/regexify-string/index.js":
/*!***********************************************!*\
  !*** ./node_modules/regexify-string/index.js ***!
  \***********************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
function regexifyString(props) {
    var pattern = props.pattern, decorator = props.decorator, input = props.input;
    var output = [];
    var matchIndex = 0;
    var processedInput = input;
    var result = pattern.exec(processedInput);
    while (result !== null) {
        var matchStartAt = result.index;
        var match = result[0];
        var contentBeforeMatch = processedInput.substring(0, matchStartAt);
        var decoratedMatch = decorator(match, matchIndex);
        output.push(contentBeforeMatch);
        output.push(decoratedMatch);
        processedInput = processedInput.substring(matchStartAt + match.length, processedInput.length + 1);
        pattern.lastIndex = 0;
        result = pattern.exec(processedInput);
        ++matchIndex;
    }
    if (processedInput) {
        output.push(processedInput);
    }
    return output;
}
exports["default"] = regexifyString;


/***/ }),

/***/ "./node_modules/substyle/es6/PropsDecoratorProvider.js":
/*!*************************************************************!*\
  !*** ./node_modules/substyle/es6/PropsDecoratorProvider.js ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "PropsDecoratorContext": () => (/* binding */ PropsDecoratorContext),
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var _defaultPropsDecorator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./defaultPropsDecorator */ "./node_modules/substyle/es6/defaultPropsDecorator.js");


var PropsDecoratorContext = /*#__PURE__*/(0,react__WEBPACK_IMPORTED_MODULE_0__.createContext)(_defaultPropsDecorator__WEBPACK_IMPORTED_MODULE_1__["default"]);
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (PropsDecoratorContext.Provider);

/***/ }),

/***/ "./node_modules/substyle/es6/coerceSelection.js":
/*!******************************************************!*\
  !*** ./node_modules/substyle/es6/coerceSelection.js ***!
  \******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utils */ "./node_modules/substyle/es6/utils.js");


var coerceSelection = function coerceSelection(select) {
  if (!select) {
    return [];
  } else if (typeof select === 'string') {
    return [select];
  } else if (!Array.isArray(select)) {
    var objSelect = select; // workaround for https://github.com/facebook/flow/issues/5781

    return (0,_utils__WEBPACK_IMPORTED_MODULE_0__.keys)(select).reduce(function (acc, key) {
      return acc.concat(objSelect[key] ? [key] : []);
    }, []);
  }

  return select;
};

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (coerceSelection);

/***/ }),

/***/ "./node_modules/substyle/es6/createSubstyle.js":
/*!*****************************************************!*\
  !*** ./node_modules/substyle/es6/createSubstyle.js ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/esm/defineProperty.js");
/* harmony import */ var _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/toConsumableArray */ "./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js");
/* harmony import */ var invariant__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! invariant */ "./node_modules/invariant/browser.js");
/* harmony import */ var invariant__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(invariant__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _coerceSelection__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./coerceSelection */ "./node_modules/substyle/es6/coerceSelection.js");
/* harmony import */ var _defaultPropsDecorator__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./defaultPropsDecorator */ "./node_modules/substyle/es6/defaultPropsDecorator.js");
/* harmony import */ var _filterKeys__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./filterKeys */ "./node_modules/substyle/es6/filterKeys.js");
/* harmony import */ var _memoize__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./memoize */ "./node_modules/substyle/es6/memoize.js");
/* harmony import */ var _pickStyles__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./pickStyles */ "./node_modules/substyle/es6/pickStyles.js");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./utils */ "./node_modules/substyle/es6/utils.js");



function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }

function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__["default"])(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }









var guessBaseClassName = function guessBaseClassName(classNames) {
  // all class names must start with the same prefix: the component's base class name
  // which will finally go to the container element
  var firstKey = classNames && (0,_utils__WEBPACK_IMPORTED_MODULE_3__.keys)(classNames)[0];
  return firstKey && firstKey.split('__')[0].split('--')[0];
};

var deriveClassNames = function deriveClassNames(className, elementKeys, modifierKeys) {
  // do not derive class names, if the user did not specify any class name
  if (!className) {
    return undefined;
  } // derive class names based using the passed modifier/element keys


  var firstClassName = className.split(' ')[0];
  var derivedClassNames = [].concat((0,_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_1__["default"])(elementKeys.length === 0 ? modifierKeys.map(function (key) {
    return "".concat(firstClassName, "--").concat(key.substring(1));
  }) : []), (0,_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_1__["default"])(elementKeys.map(function (key) {
    return "".concat(firstClassName, "__").concat(key);
  }))); // also use the provided `className` if there is no sub-element selection

  return elementKeys.length === 0 ? [className].concat((0,_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_1__["default"])(derivedClassNames)) : derivedClassNames;
};

function createSubstyle(_ref) {
  var style = _ref.style,
      className = _ref.className,
      classNames = _ref.classNames;
  var propsDecorator = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : _defaultPropsDecorator__WEBPACK_IMPORTED_MODULE_4__["default"];
  var baseClassName = className || guessBaseClassName(classNames) || (style === null || style === void 0 ? void 0 : style.className);
  var substyle = typeof style === 'function' ? style : (0,_memoize__WEBPACK_IMPORTED_MODULE_5__["default"])(function (select, defaultStyle) {
    var selectedKeys = (0,_coerceSelection__WEBPACK_IMPORTED_MODULE_6__["default"])(select);
    invariant__WEBPACK_IMPORTED_MODULE_2___default()(Array.isArray(selectedKeys), 'First parameter must be a string, an array of strings, ' + 'a plain object with boolean values, or a falsy value.');
    invariant__WEBPACK_IMPORTED_MODULE_2___default()(!defaultStyle || (0,_utils__WEBPACK_IMPORTED_MODULE_3__.isPlainObject)(defaultStyle), 'Optional second parameter must be a plain object.');
    var modifierKeys = selectedKeys.filter(_filterKeys__WEBPACK_IMPORTED_MODULE_7__.isModifier);
    var elementKeys = selectedKeys.filter(_filterKeys__WEBPACK_IMPORTED_MODULE_7__.isElement);
    var collectElementStyles = elementKeys.length > 0 ? function (fromStyle) {
      return (0,_utils__WEBPACK_IMPORTED_MODULE_3__.values)((0,_pickStyles__WEBPACK_IMPORTED_MODULE_8__.pickNestedStyles)(fromStyle, elementKeys));
    } : function (fromStyle) {
      return [fromStyle];
    };

    var collectSelectedStyles = function collectSelectedStyles() {
      var fromStyle = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
      return collectElementStyles((0,_pickStyles__WEBPACK_IMPORTED_MODULE_8__.hoistModifierStylesRecursive)(fromStyle, modifierKeys));
    };

    var derivedClassNames = deriveClassNames(baseClassName, elementKeys, modifierKeys);
    return createSubstyle(_objectSpread(_objectSpread(_objectSpread({}, (style || defaultStyle) && {
      style: _utils__WEBPACK_IMPORTED_MODULE_3__.merge.apply(void 0, [{}].concat((0,_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_1__["default"])(collectSelectedStyles(defaultStyle)), (0,_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_1__["default"])(collectSelectedStyles(style))))
    }), derivedClassNames && {
      className: derivedClassNames.join(' ')
    }), classNames && {
      classNames: classNames
    }), propsDecorator);
  });

  var styleProps = _objectSpread({}, typeof style === 'function' ? style : {
    style: style
  });

  var classNameSplit = (0,_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_1__["default"])(new Set([].concat((0,_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_1__["default"])(styleProps.className ? styleProps.className.split(' ') : []), (0,_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_1__["default"])(baseClassName ? baseClassName.split(' ') : []))));

  var mappedClassNames = classNames ? (0,_utils__WEBPACK_IMPORTED_MODULE_3__.compact)(classNameSplit.map(function (singleClassName) {
    return classNames[singleClassName];
  })) : classNameSplit;
  var propsForSpread = propsDecorator(_objectSpread(_objectSpread({}, styleProps), mappedClassNames.length > 0 ? {
    className: mappedClassNames.join(' ')
  } : {})); // assign `style`, `className`, and/or any props added by the decorator to the return function object

  Object.assign(substyle, propsForSpread);
  return substyle;
}

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (createSubstyle);

/***/ }),

/***/ "./node_modules/substyle/es6/defaultPropsDecorator.js":
/*!************************************************************!*\
  !*** ./node_modules/substyle/es6/defaultPropsDecorator.js ***!
  \************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/esm/defineProperty.js");
/* harmony import */ var _pickStyles__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./pickStyles */ "./node_modules/substyle/es6/pickStyles.js");


function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }

function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__["default"])(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }


// many css-in-js libs process keyframes objects as the value for `animationName`
var defaultObjectPropsWhitelist = ['animationName'];

var defaultPropsDecorator = function defaultPropsDecorator(_ref) {
  var style = _ref.style,
      className = _ref.className;
  return _objectSpread(_objectSpread({}, style ? {
    style: (0,_pickStyles__WEBPACK_IMPORTED_MODULE_1__.pickDirectStyles)(style, defaultObjectPropsWhitelist)
  } : {}), className ? {
    className: className
  } : {});
};

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (defaultPropsDecorator);

/***/ }),

/***/ "./node_modules/substyle/es6/filterKeys.js":
/*!*************************************************!*\
  !*** ./node_modules/substyle/es6/filterKeys.js ***!
  \*************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "isModifier": () => (/* binding */ isModifier),
/* harmony export */   "isElement": () => (/* binding */ isElement)
/* harmony export */ });
var isModifier = function isModifier(key) {
  return key[0] === '&';
};
var isElement = function isElement(key) {
  return !isModifier(key);
};

/***/ }),

/***/ "./node_modules/substyle/es6/index.js":
/*!********************************************!*\
  !*** ./node_modules/substyle/es6/index.js ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "createSubstyle": () => (/* reexport safe */ _createSubstyle__WEBPACK_IMPORTED_MODULE_0__["default"]),
/* harmony export */   "PropsDecoratorProvider": () => (/* reexport safe */ _PropsDecoratorProvider__WEBPACK_IMPORTED_MODULE_1__["default"]),
/* harmony export */   "PropsDecoratorContext": () => (/* reexport safe */ _PropsDecoratorProvider__WEBPACK_IMPORTED_MODULE_1__.PropsDecoratorContext),
/* harmony export */   "defaultPropsDecorator": () => (/* reexport safe */ _defaultPropsDecorator__WEBPACK_IMPORTED_MODULE_2__["default"]),
/* harmony export */   "inline": () => (/* reexport safe */ _inline__WEBPACK_IMPORTED_MODULE_3__["default"]),
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _PropsDecoratorProvider__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./PropsDecoratorProvider */ "./node_modules/substyle/es6/PropsDecoratorProvider.js");
/* harmony import */ var _createSubstyle__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./createSubstyle */ "./node_modules/substyle/es6/createSubstyle.js");
/* harmony import */ var _defaultPropsDecorator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./defaultPropsDecorator */ "./node_modules/substyle/es6/defaultPropsDecorator.js");
/* harmony import */ var _inline__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./inline */ "./node_modules/substyle/es6/inline.js");
/* harmony import */ var _useStyles__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./useStyles */ "./node_modules/substyle/es6/useStyles.js");






/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_useStyles__WEBPACK_IMPORTED_MODULE_4__["default"]);

/***/ }),

/***/ "./node_modules/substyle/es6/inline.js":
/*!*********************************************!*\
  !*** ./node_modules/substyle/es6/inline.js ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/esm/defineProperty.js");


function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }

function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__["default"])(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }

var inline = function inline() {
  for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
    args[_key] = arguments[_key];
  }

  return args.reduce(function (result, arg) {
    return _objectSpread(_objectSpread(_objectSpread({}, result), typeof arg === 'function' ? arg : {}), {}, {
      style: _objectSpread(_objectSpread({}, result.style), typeof arg === 'function' ? arg.style : arg)
    });
  }, {});
};

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (inline);

/***/ }),

/***/ "./node_modules/substyle/es6/memoize.js":
/*!**********************************************!*\
  !*** ./node_modules/substyle/es6/memoize.js ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _coerceSelection__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./coerceSelection */ "./node_modules/substyle/es6/coerceSelection.js");

var EMPTY = {};

var memoize = function memoize(substyle) {
  return function (select, defaultStyle) {
    var cacheKey = defaultStyle || EMPTY;
    substyle.memoize = substyle.memoize || new WeakMap();
    var mapEntry;

    if (!substyle.memoize.has(cacheKey)) {
      mapEntry = {};
      substyle.memoize.set(cacheKey, mapEntry);
    } else {
      mapEntry = substyle.memoize.get(cacheKey);
    }

    var selectHash = (0,_coerceSelection__WEBPACK_IMPORTED_MODULE_0__["default"])(select).join(' ');
    return selectHash in mapEntry ? mapEntry[selectHash] : mapEntry[selectHash] = substyle(select || [], defaultStyle);
  };
};

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (memoize);

/***/ }),

/***/ "./node_modules/substyle/es6/pickStyles.js":
/*!*************************************************!*\
  !*** ./node_modules/substyle/es6/pickStyles.js ***!
  \*************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "pickDirectStyles": () => (/* binding */ pickDirectStyles),
/* harmony export */   "pickNestedStyles": () => (/* binding */ pickNestedStyles),
/* harmony export */   "hoistModifierStylesRecursive": () => (/* binding */ hoistModifierStylesRecursive)
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/toConsumableArray */ "./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./utils */ "./node_modules/substyle/es6/utils.js");
/* harmony import */ var _filterKeys__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./filterKeys */ "./node_modules/substyle/es6/filterKeys.js");




var camelize = function camelize(key) {
  return key.replace(/-(\w)/g, function (m, c) {
    return c.toUpperCase();
  });
};

var pickDirectStyles = function pickDirectStyles(style) {
  var objectPropertiesWhitelist = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];
  var styleKeys = (0,_utils__WEBPACK_IMPORTED_MODULE_1__.keys)(style);
  var result = {};

  for (var i = 0, l = styleKeys.length; i < l; i += 1) {
    var key = styleKeys[i];
    var isDirect = Object.prototype.toString.call(style[key]) !== '[object Object]' || // style defs
    key[0] === ':' || // pseudo selectors
    key[0] === '@' || // @media / @keyframes / @supports / @font-face
    objectPropertiesWhitelist.indexOf(key) >= 0; // whitelisted object-type properties

    if (isDirect) {
      result[key] = style[key];
    }
  }

  return result;
};
var pickNestedStyles = function pickNestedStyles(style, keysToPick) {
  var camelizedKeysToPick = keysToPick.map(camelize);
  var styleKeys = (0,_utils__WEBPACK_IMPORTED_MODULE_1__.keys)(style);
  var result = {};

  for (var i = 0, l = styleKeys.length; i < l; i += 1) {
    var key = styleKeys[i];

    if (keysToPick.indexOf(key) >= 0 || camelizedKeysToPick.indexOf(camelize(key)) >= 0) {
      result[key] = style[key];
    }
  }

  return result;
}; // breadth-first hoisting of selected modifier style subtrees
// does not traverse into element, :pseudo-selector or @directive subtrees

var hoistModifierStylesRecursive = function hoistModifierStylesRecursive(style, modifierKeysToPick) {
  // hoist styles for selected modifiers on current level
  var result = _utils__WEBPACK_IMPORTED_MODULE_1__.merge.apply(void 0, [{}, (0,_utils__WEBPACK_IMPORTED_MODULE_1__.omit)(style, modifierKeysToPick)].concat((0,_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__["default"])((0,_utils__WEBPACK_IMPORTED_MODULE_1__.values)(pickNestedStyles(style, modifierKeysToPick))))); // traverse nested styled for ALL modifiers

  var modifierKeys = (0,_utils__WEBPACK_IMPORTED_MODULE_1__.keys)(result).filter(_filterKeys__WEBPACK_IMPORTED_MODULE_2__.isModifier);

  for (var i = 0, l = modifierKeys.length; i < l; i += 1) {
    var key = modifierKeys[i];
    var subresult = hoistModifierStylesRecursive(result[key], modifierKeysToPick);

    if (modifierKeysToPick.indexOf(key) >= 0) {
      // selected modifier: hoist subresult
      delete result[key];
      result = (0,_utils__WEBPACK_IMPORTED_MODULE_1__.merge)({}, result, subresult);
    } else {
      // non-selected modifier: replace with subresult
      result[key] = subresult;
    }
  }

  return result;
};

/***/ }),

/***/ "./node_modules/substyle/es6/useStyles.js":
/*!************************************************!*\
  !*** ./node_modules/substyle/es6/useStyles.js ***!
  \************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var _PropsDecoratorProvider__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./PropsDecoratorProvider */ "./node_modules/substyle/es6/PropsDecoratorProvider.js");
/* harmony import */ var _createSubstyle__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./createSubstyle */ "./node_modules/substyle/es6/createSubstyle.js");




var useStyles = function useStyles(defaultStyle, _ref, modifiers) {
  var style = _ref.style,
      className = _ref.className,
      classNames = _ref.classNames;
  var propsDecorator = (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(_PropsDecoratorProvider__WEBPACK_IMPORTED_MODULE_1__.PropsDecoratorContext);
  var substyle = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(function () {
    return (0,_createSubstyle__WEBPACK_IMPORTED_MODULE_2__["default"])({
      style: style,
      className: className,
      classNames: classNames
    }, propsDecorator);
  }, [style, className, classNames, propsDecorator]);
  return substyle(modifiers, defaultStyle);
};

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (useStyles);

/***/ }),

/***/ "./node_modules/substyle/es6/utils.js":
/*!********************************************!*\
  !*** ./node_modules/substyle/es6/utils.js ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "keys": () => (/* binding */ keys),
/* harmony export */   "values": () => (/* binding */ values),
/* harmony export */   "merge": () => (/* binding */ merge),
/* harmony export */   "identity": () => (/* binding */ identity),
/* harmony export */   "omit": () => (/* binding */ omit),
/* harmony export */   "isPlainObject": () => (/* binding */ isPlainObject),
/* harmony export */   "compact": () => (/* binding */ compact)
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/esm/defineProperty.js");

var keys = function keys(obj) {
  return obj === Object(obj) ? Object.keys(obj) : [];
};
var values = function values(obj) {
  return obj === Object(obj) ? Object.values(obj) : [];
};

function mergeDeep(target, source) {
  var output = Object.assign({}, target);

  if (isPlainObject(target) && isPlainObject(source)) {
    keys(source).forEach(function (key) {
      if (isPlainObject(source[key])) {
        if (!(key in target)) Object.assign(output, (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__["default"])({}, key, source[key]));else output[key] = mergeDeep(target[key], source[key]);
      } else {
        Object.assign(output, (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__["default"])({}, key, source[key]));
      }
    });
  }

  return output;
}

var merge = function merge(target) {
  for (var _len = arguments.length, sources = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {
    sources[_key - 1] = arguments[_key];
  }

  return sources.reduce(function (t, s) {
    return mergeDeep(t, s);
  }, target);
};
var identity = function identity(value) {
  return value;
};
var omit = function omit(obj, keys) {
  var other = Object.assign({}, obj);

  if (keys) {
    for (var i = 0; i < keys.length; i++) {
      delete other[keys[i]];
    }
  }

  return other;
};
var isPlainObject = function isPlainObject(obj) {
  return obj === Object(obj) && !(obj instanceof Date) && !Array.isArray(obj);
};
var compact = function compact(arr) {
  return (arr || []).filter(Boolean);
};

/***/ }),

/***/ "./node_modules/to-camel-case/index.js":
/*!*********************************************!*\
  !*** ./node_modules/to-camel-case/index.js ***!
  \*********************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {


var space = __webpack_require__(/*! to-space-case */ "./node_modules/to-space-case/index.js")

/**
 * Export.
 */

module.exports = toCamelCase

/**
 * Convert a `string` to camel case.
 *
 * @param {String} string
 * @return {String}
 */

function toCamelCase(string) {
  return space(string).replace(/\s(\w)/g, function (matches, letter) {
    return letter.toUpperCase()
  })
}


/***/ }),

/***/ "./node_modules/to-no-case/index.js":
/*!******************************************!*\
  !*** ./node_modules/to-no-case/index.js ***!
  \******************************************/
/***/ ((module) => {


/**
 * Export.
 */

module.exports = toNoCase

/**
 * Test whether a string is camel-case.
 */

var hasSpace = /\s/
var hasSeparator = /(_|-|\.|:)/
var hasCamel = /([a-z][A-Z]|[A-Z][a-z])/

/**
 * Remove any starting case from a `string`, like camel or snake, but keep
 * spaces and punctuation that may be important otherwise.
 *
 * @param {String} string
 * @return {String}
 */

function toNoCase(string) {
  if (hasSpace.test(string)) return string.toLowerCase()
  if (hasSeparator.test(string)) return (unseparate(string) || string).toLowerCase()
  if (hasCamel.test(string)) return uncamelize(string).toLowerCase()
  return string.toLowerCase()
}

/**
 * Separator splitter.
 */

var separatorSplitter = /[\W_]+(.|$)/g

/**
 * Un-separate a `string`.
 *
 * @param {String} string
 * @return {String}
 */

function unseparate(string) {
  return string.replace(separatorSplitter, function (m, next) {
    return next ? ' ' + next : ''
  })
}

/**
 * Camelcase splitter.
 */

var camelSplitter = /(.)([A-Z]+)/g

/**
 * Un-camelcase a `string`.
 *
 * @param {String} string
 * @return {String}
 */

function uncamelize(string) {
  return string.replace(camelSplitter, function (m, previous, uppers) {
    return previous + ' ' + uppers.toLowerCase().split('').join(' ')
  })
}


/***/ }),

/***/ "./node_modules/to-space-case/index.js":
/*!*********************************************!*\
  !*** ./node_modules/to-space-case/index.js ***!
  \*********************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {


var clean = __webpack_require__(/*! to-no-case */ "./node_modules/to-no-case/index.js")

/**
 * Export.
 */

module.exports = toSpaceCase

/**
 * Convert a `string` to space case.
 *
 * @param {String} string
 * @return {String}
 */

function toSpaceCase(string) {
  return clean(string).replace(/[\W_]+(.|$)/g, function (matches, match) {
    return match ? ' ' + match : ''
  }).trim()
}


/***/ }),

/***/ "./node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js":
/*!*********************************************************************!*\
  !*** ./node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ _arrayLikeToArray)
/* harmony export */ });
function _arrayLikeToArray(arr, len) {
  if (len == null || len > arr.length) len = arr.length;

  for (var i = 0, arr2 = new Array(len); i < len; i++) {
    arr2[i] = arr[i];
  }

  return arr2;
}

/***/ }),

/***/ "./node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js":
/*!**********************************************************************!*\
  !*** ./node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ _arrayWithoutHoles)
/* harmony export */ });
/* harmony import */ var _arrayLikeToArray_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./arrayLikeToArray.js */ "./node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js");

function _arrayWithoutHoles(arr) {
  if (Array.isArray(arr)) return (0,_arrayLikeToArray_js__WEBPACK_IMPORTED_MODULE_0__["default"])(arr);
}

/***/ }),

/***/ "./node_modules/@babel/runtime/helpers/esm/defineProperty.js":
/*!*******************************************************************!*\
  !*** ./node_modules/@babel/runtime/helpers/esm/defineProperty.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ _defineProperty)
/* harmony export */ });
function _defineProperty(obj, key, value) {
  if (key in obj) {
    Object.defineProperty(obj, key, {
      value: value,
      enumerable: true,
      configurable: true,
      writable: true
    });
  } else {
    obj[key] = value;
  }

  return obj;
}

/***/ }),

/***/ "./node_modules/@babel/runtime/helpers/esm/iterableToArray.js":
/*!********************************************************************!*\
  !*** ./node_modules/@babel/runtime/helpers/esm/iterableToArray.js ***!
  \********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ _iterableToArray)
/* harmony export */ });
function _iterableToArray(iter) {
  if (typeof Symbol !== "undefined" && iter[Symbol.iterator] != null || iter["@@iterator"] != null) return Array.from(iter);
}

/***/ }),

/***/ "./node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js":
/*!**********************************************************************!*\
  !*** ./node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ _nonIterableSpread)
/* harmony export */ });
function _nonIterableSpread() {
  throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
}

/***/ }),

/***/ "./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js":
/*!**********************************************************************!*\
  !*** ./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ _toConsumableArray)
/* harmony export */ });
/* harmony import */ var _arrayWithoutHoles_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./arrayWithoutHoles.js */ "./node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js");
/* harmony import */ var _iterableToArray_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./iterableToArray.js */ "./node_modules/@babel/runtime/helpers/esm/iterableToArray.js");
/* harmony import */ var _unsupportedIterableToArray_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./unsupportedIterableToArray.js */ "./node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js");
/* harmony import */ var _nonIterableSpread_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./nonIterableSpread.js */ "./node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js");




function _toConsumableArray(arr) {
  return (0,_arrayWithoutHoles_js__WEBPACK_IMPORTED_MODULE_0__["default"])(arr) || (0,_iterableToArray_js__WEBPACK_IMPORTED_MODULE_1__["default"])(arr) || (0,_unsupportedIterableToArray_js__WEBPACK_IMPORTED_MODULE_2__["default"])(arr) || (0,_nonIterableSpread_js__WEBPACK_IMPORTED_MODULE_3__["default"])();
}

/***/ }),

/***/ "./node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js":
/*!*******************************************************************************!*\
  !*** ./node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js ***!
  \*******************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ _unsupportedIterableToArray)
/* harmony export */ });
/* harmony import */ var _arrayLikeToArray_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./arrayLikeToArray.js */ "./node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js");

function _unsupportedIterableToArray(o, minLen) {
  if (!o) return;
  if (typeof o === "string") return (0,_arrayLikeToArray_js__WEBPACK_IMPORTED_MODULE_0__["default"])(o, minLen);
  var n = Object.prototype.toString.call(o).slice(8, -1);
  if (n === "Object" && o.constructor) n = o.constructor.name;
  if (n === "Map" || n === "Set") return Array.from(o);
  if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return (0,_arrayLikeToArray_js__WEBPACK_IMPORTED_MODULE_0__["default"])(o, minLen);
}

/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidmVuZG9ycy1ub2RlX21vZHVsZXNfYXV0b3NpemVfZGlzdF9hdXRvc2l6ZV9lc21fanMtbm9kZV9tb2R1bGVzX2RheWpzX2RheWpzX21pbl9qcy1ub2RlX21vZHVsLWNmNGRmMC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7Ozs7Ozs7Ozs7Ozs7OztBQ3hDQSxxREFBcUQsZ0JBQWdCLHVCQUF1QixpQkFBaUIsdUJBQXVCLG1CQUFtQix5Q0FBeUMsb0JBQW9CLG1CQUFtQixxQ0FBcUMsZ0JBQWdCLG9CQUFvQixXQUFXLEdBQUcsSUFBSSxrQkFBa0IsU0FBUyxjQUFjLG9DQUFvQywrQkFBK0IsY0FBYyxlQUFlLGVBQWUsY0FBYyxlQUFlLGNBQWMsV0FBVyx1RkFBdUYsU0FBUyxzQkFBc0IsU0FBUyxzQkFBc0IsU0FBUyxvQkFBb0Isa0VBQWtFLG1CQUFtQixzREFBc0Qsd0NBQXdDLHVCQUF1QixlQUFlLGtQQUFrUCxnQkFBZ0IsY0FBYyxTQUFTLDhIQUE4SCxFQUFFLHlTQUF5UyxtQkFBbUIsd1NBQXdTLGNBQWMsb0JBQW9CLHdEQUF3RCxhQUFhLHVCQUF1QixrQkFBa0IsYUFBYSxpREFBaUQsaUNBQWlDLG1EQUFtRCxpQkFBaUIsU0FBUyxtRUFBbUUsNkZBQTZGLDZCQUE2Qiw2Q0FBNkMsYUFBYSxJQUFJLDZKQUE2SiwwVEFBMFQsSUFBSSw0QkFBNEIsSUFBSSxtQkFBbUIsYUFBYSxJQUFJLElBQUksc0JBQXNCLDJEQUEyRCxzQkFBc0IsMkRBQTJELEVBQUUsUUFBUSxpRUFBZSxDQUFDLEVBQUM7Ozs7Ozs7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QTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsNEJBQTRCLHlCQUF5QjtBQUNyRDtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsdUNBQXVDO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsNkRBQTZELFlBQVk7QUFDekUsMkRBQTJELFlBQVk7QUFDdkU7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxtRUFBbUUsWUFBWTtBQUMvRSxpRUFBaUUsWUFBWTtBQUM3RSxhQUFhO0FBQ2I7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0EsS0FBSztBQUNMO0FBQ0E7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TztBQUNoRixDQUFDO0FBQ0Q7QUFDQSxrQkFBa0IsUUFBUSxTQUFTLE9BQU8sT0FBTyxPQUFPLE9BQU8sT0FBTyxRQUFRLE9BQU8sT0FBTyxTQUFTO0FBQ3JHLENBQUM7QUFDRDtBQUNBLGtCQUFrQixRQUFRLFNBQVMsUUFBUSxPQUFPLFFBQVEsUUFBUSxRQUFRLFFBQVEsT0FBTyxPQUFPLE9BQU8sT0FBTyxTQUFTLE9BQU87QUFDOUgsQ0FBQztBQUNEO0FBQ0EsbUJBQW1CLE9BQU87QUFDMUIsQ0FBQztBQUNEO0FBQ0EsbUJBQW1CLE9BQU87QUFDMUIsQ0FBQztBQUNEO0FBQ0Esa0JBQWtCLFFBQVEsU0FBUyxPQUFPLE9BQU8sT0FBTyxRQUFRLFFBQVEsUUFBUSxRQUFRLFFBQVEsT0FBTyxRQUFRLFFBQVEsT0FBTyxPQUFPLE9BQU8sUUFBUSxPQUFPLE9BQU8sT0FBTyxRQUFRLFFBQVEsT0FBTyxRQUFRLE9BQU8sUUFBUSxRQUFRLE9BQU8sT0FBTztBQUM3TyxDQUFDO0FBQ0Q7QUFDQSxrQkFBa0IsUUFBUSxTQUFTLFFBQVEsT0FBTyxTQUFTO0FBQzNELENBQUM7QUFDRDtBQUNBLGtCQUFrQixRQUFRLFNBQVMsT0FBTyxPQUFPLFFBQVEsT0FBTyxPQUFPLE9BQU8sT0FBTyxPQUFPLE9BQU8sU0FBUyxTQUFTLFNBQVM7QUFDOUgsQ0FBQztBQUNEO0FBQ0Esa0JBQWtCLFFBQVEsU0FBUyxPQUFPLFFBQVEsUUFBUSxPQUFPLFFBQVEsUUFBUSxRQUFRLE9BQU8sU0FBUyxTQUFTLFNBQVM7QUFDM0gsQ0FBQztBQUNEO0FBQ0Esa0JBQWtCLFFBQVEsU0FBUyxPQUFPLE9BQU8sT0FBTyxPQUFPLE9BQU8sT0FBTyxPQUFPLE9BQU8sUUFBUSxRQUFRLE9BQU8sT0FBTyxPQUFPLFFBQVEsT0FBTyxRQUFRLE9BQU87QUFDOUosQ0FBQztBQUNEO0FBQ0Esa0JBQWtCLFFBQVEsU0FBUyxPQUFPLE9BQU87QUFDakQsQ0FBQztBQUNEO0FBQ0Esa0JBQWtCLFFBQVEsU0FBUyxRQUFRLE9BQU8sUUFBUSxPQUFPLFFBQVEs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QUFPLE9BQU8sT0FBTztBQUNyUCxDQUFDO0FBQ0Q7QUFDQSxtQkFBbUIsUUFBUSxTQUFTLFFBQVEsT0FBTyxTQUFTO0FBQzVELENBQUM7QUFDRDtBQUNBLG1CQUFtQixRQUFRLFNBQVMsT0FBTyxPQUFPLFFBQVEsT0FBTyxPQUFPLE9BQU8sT0FBTyxPQUFPLE9BQU8sU0FBUyxRQUFRLFNBQVM7QUFDOUgsQ0FBQztBQUNEO0FBQ0EsbUJBQW1CLFFBQVEsU0FBUyxPQUFPLFFBQVEsUUFBUSxPQUFPLFFBQVEsUUFBUSxRQUFRLFFBQVEsT0FBTyxTQUFTLFNBQVMsT0FBTztBQUNsSSxDQUFDO0FBQ0Q7QUFDQSxtQkFBbUI7QUFDbkIsQ0FBQztBQUNEO0FBQ0EsbUJBQW1CLFFBQVEsU0FBUyxPQUFPLE9BQU8sT0FBTyxPQUFPLE9BQU8sT0FBTyxPQUFPLFFBQVEsUUFBUSxPQUFPLE9BQU8sT0FBTyxRQUFRLE9BQU8sUUFBUSxPQUFPLE9BQU87QUFDL0osQ0FBQztBQUNEO0FBQ0EsbUJBQW1CO0FBQ25CLENBQUM7QUFDRDtBQUNBLG1CQUFtQixRQUFRLFNBQVMsT0FBTyxPQUFPLE9BQU87QUFDekQsQ0FBQztBQUNEO0FBQ0EsbUJBQW1CLFFBQVEsU0FBUyxRQUFRLE9BQU8sUUFBUSxPQUFPLFFBQVEsT0FBTyxTQUFTLFNBQVMsU0FBUyxTQUFTLFNBQVM7QUFDOUgsQ0FBQztBQUNEO0FBQ0EsbUJBQW1CLFFBQVEsU0FBUyxPQUFPLE9BQU8sT0FBTyxRQUFRLFFBQVEsT0FBTyxRQUFRLFFBQVEsT0FBTyxPQUFPLE9BQU8sU0FBUyxTQUFTLFNBQVMsU0FBUztBQUN6SixDQUFDO0FBQ0Q7QUFDQSxtQkFBbUI7QUFDbkIsQ0FBQztBQUNEO0FBQ0EsbUJBQW1CLFFBQVEsU0FBUyxRQUFRLFFBQVEsUUFBUSxPQUFPLE9BQU87QUFDMUUsQ0FBQztBQUNEO0FBQ0EsbUJBQW1CLFFBQVEsU0FBUyxPQUFPLE9BQU8sT0FBTyxRQUFRLE9BQU8sUUFBUSxPQUFPLFFBQVEsUUFBUSxPQUFPLE9BQU8sT0FBTyxTQUFTLFNBQVMs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Q1o7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkIsWUFBWTtBQUNaOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDs7Ozs7Ozs7Ozs7O0FDakVBLFlBQVksbUJBQU8sQ0FBQyxzREFBWTs7QUFFaEM7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQixZQUFZO0FBQ1o7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIOzs7Ozs7Ozs7Ozs7Ozs7O0FDcEJlO0FBQ2Y7O0FBRUEseUNBQXlDLFNBQVM7QUFDbEQ7QUFDQTs7QUFFQTtBQUNBOzs7Ozs7Ozs7Ozs7Ozs7O0FDUnFEO0FBQ3RDO0FBQ2YsaUNBQWlDLGdFQUFnQjtBQUNqRDs7Ozs7Ozs7Ozs7Ozs7O0FDSGU7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsSUFBSTtBQUNKO0FBQ0E7O0FBRUE7QUFDQTs7Ozs7Ozs7Ozs7Ozs7O0FDYmU7QUFDZjtBQUNBOzs7Ozs7Ozs7Ozs7Ozs7QUNGZTtBQUNmO0FBQ0E7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNGdUQ7QUFDSjtBQUNzQjtBQUNsQjtBQUN4QztBQUNmLFNBQVMsaUVBQWlCLFNBQVMsK0RBQWUsU0FBUywwRUFBMEIsU0FBUyxpRUFBaUI7QUFDL0c7Ozs7Ozs7Ozs7Ozs7Ozs7QUNOcUQ7QUFDdEM7QUFDZjtBQUNBLG9DQUFvQyxnRUFBZ0I7QUFDcEQ7QUFDQTtBQUNBO0FBQ0Esc0ZBQXNGLGdFQUFnQjtBQUN0RyIsInNvdXJjZXMiOlsid2VicGFjazovL3NsYWNrLWNsb25lLy4vbm9kZV9tb2R1bGVzL2FkZC1weC10by1zdHlsZS9pbmRleC5qcyIsIndlYnBhY2s6Ly9zbGFjay1jbG9uZS8uL25vZGVfbW9kdWxlcy9hdXRvc2l6ZS9kaXN0L2F1dG9zaXplLmVzbS5qcyIsIndlYnBhY2s6Ly9zbGFjay1jbG9uZS8uL25vZGVfbW9kdWxlcy9kYXlqcy9kYXlqcy5taW4uanMiLCJ3ZWJwYWNrOi8vc2xhY2stY2xvbmUvLi9ub2RlX21vZHVsZXMvZG9tLWNzcy9pbmRleC5qcyIsIndlYnBhY2s6Ly9zbGFjay1jbG9uZS8uL25vZGVfbW9kdWxlcy9pbnZhcmlhbnQvYnJvd3Nlci5qcyIsIndlYnBhY2s6Ly9zbGFjay1jbG9uZS8uL25vZGVfbW9kdWxlcy9wZXJmb3JtYW5jZS1ub3cvbGliL3BlcmZvcm1hbmNlLW5vdy5qcyIsIndlYnBhY2s6Ly9zbGFjay1jbG9uZS8uL25vZGVfbW9kdWxlcy9wcmVmaXgtc3R5bGUvaW5kZXguanMiLCJ3ZWJwYWNrOi8vc2xhY2stY2xvbmUvLi9ub2RlX21vZHVsZXMvcmFmL2luZGV4LmpzIiwid2VicGFjazovL3NsYWNrLWNsb25lLy4vbm9kZV9tb2R1bGVzL3JlYWN0LWN1c3RvbS1zY3JvbGxiYXJzL2xpYi9TY3JvbGxiYXJzL2RlZmF1bHRSZW5kZXJFbGVtZW50cy5qcyIsIndlYnBhY2s6Ly9zbGFjay1jbG9uZS8uL25vZGVfbW9kdWxlcy9yZWFjdC1jdXN0b20tc2Nyb2xsYmFycy9saWIvU2Nyb2xsYmFycy9pbmRleC5qcyIsIndlYnBhY2s6Ly9zbGFjay1jbG9uZS8uL25vZGVfbW9kdWxlcy9yZWFjdC1jdXN0b20tc2Nyb2xsYmFycy9saWIvU2Nyb2xsYmFycy9zdHlsZXMuanMiLCJ3ZWJwYWNrOi8vc2xhY2stY2xvbmUvLi9ub2RlX21vZHVsZXMvcmVhY3QtY3VzdG9tLXNjcm9sbGJhcnMvbGliL2luZGV4LmpzIiwid2VicGFjazovL3NsYWNrLWNsb25lLy4vbm9kZV9tb2R1bGVzL3JlYWN0LWN1c3RvbS1zY3JvbGxiYXJzL2xpYi91dGlscy9nZXRJbm5lckhlaWdodC5qcyIsIndlYnBhY2s6Ly9zbGFjay1jbG9uZS8uL25vZGVfbW9kdWxlcy9yZWFjdC1jdXN0b20tc2Nyb2xsYmFycy9saWIvdXRpbHMvZ2V0SW5uZXJXaWR0aC5qcyIsIndlYnBhY2s6Ly9zbGFjay1jbG9uZS8uL25vZGVfbW9kdWxlcy9yZWFjdC1jdXN0b20tc2Nyb2xsYmFycy9saWIvdXRpbHMvZ2V0U2Nyb2xsYmFyV2lkdGguanMiLCJ3ZWJwYWNrOi8vc2xhY2stY2xvbmUvLi9ub2RlX21vZHVsZXMvcmVhY3QtY3VzdG9tLXNjcm9sbGJhcnMvbGliL3V0aWxzL2lzU3RyaW5nLmpzIiwid2VicGFjazovL3NsYWNrLWNsb25lLy4vbm9kZV9tb2R1bGVzL3JlYWN0LWN1c3RvbS1zY3JvbGxiYXJzL2xpYi91dGlscy9yZXR1cm5GYWxzZS5qcyIsIndlYnBhY2s6Ly9zbGFjay1jbG9uZS8uL25vZGVfbW9kdWxlcy9yZWFjdC1tZW50aW9ucy9kaXN0L3JlYWN0LW1lbnRpb25zLmVzbS5qcyIsIndlYnBhY2s6Ly9zbGFjay1jbG9uZS8uL25vZGVfbW9kdWxlcy9yZWFjdC1tZW50aW9ucy9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXJyYXlXaXRoSG9sZXMuanMiLCJ3ZWJwYWNrOi8vc2xhY2stY2xvbmUvLi9ub2RlX21vZHVsZXMvcmVhY3QtbWVudGlvbnMvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FycmF5V2l0aG91dEhvbGVzLmpzIiwid2VicGFjazovL3NsYWNrLWNsb25lLy4vbm9kZV9tb2R1bGVzL3JlYWN0LW1lbnRpb25zL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQuanMiLCJ3ZWJwYWNrOi8vc2xhY2stY2xvbmUvLi9ub2RlX21vZHVsZXMvcmVhY3QtbWVudGlvbnMvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NsYXNzQ2FsbENoZWNrLmpzIiwid2VicGFjazovL3NsYWNrLWNsb25lLy4vbm9kZV9tb2R1bGVzL3JlYWN0LW1lbnRpb25zL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jcmVhdGVDbGFzcy5qcyIsIndlYnBhY2s6Ly9zbGFjay1jbG9uZS8uL25vZGVfbW9kdWxlcy9yZWFjdC1tZW50aW9ucy9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vZGVmaW5lUHJvcGVydHkuanMiLCJ3ZWJwYWNrOi8vc2xhY2stY2xvbmUvLi9ub2RlX21vZHVsZXMvcmVhY3QtbWVudGlvbnMvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2V4dGVuZHMuanMiLCJ3ZWJwYWNrOi8vc2xhY2stY2xvbmUvLi9ub2RlX21vZHVsZXMvcmVhY3QtbWVudGlvbnMvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2dldFByb3RvdHlwZU9mLmpzIiwid2VicGFjazovL3NsYWNrLWNsb25lLy4vbm9kZV9tb2R1bGVzL3JlYWN0LW1lbnRpb25zL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9pbmhlcml0cy5qcyIsIndlYnBhY2s6Ly9zbGFjay1jbG9uZS8uL25vZGVfbW9kdWxlcy9yZWFjdC1tZW50aW9ucy9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vaXRlcmFibGVUb0FycmF5LmpzIiwid2VicGFjazovL3NsYWNrLWNsb25lLy4vbm9kZV9tb2R1bGVzL3JlYWN0LW1lbnRpb25zL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9pdGVyYWJsZVRvQXJyYXlMaW1pdC5qcyIsIndlYnBhY2s6Ly9zbGFjay1jbG9uZS8uL25vZGVfbW9kdWxlcy9yZWFjdC1tZW50aW9ucy9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vbm9uSXRlcmFibGVSZXN0LmpzIiwid2VicGFjazovL3NsYWNrLWNsb25lLy4vbm9kZV9tb2R1bGVzL3JlYWN0LW1lbnRpb25zL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9ub25JdGVyYWJsZVNwcmVhZC5qcyIsIndlYnBhY2s6Ly9zbGFjay1jbG9uZS8uL25vZGVfbW9kdWxlcy9yZWFjdC1tZW50aW9ucy9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0V2l0aG91dFByb3BlcnRpZXMuanMiLCJ3ZWJwYWNrOi8vc2xhY2stY2xvbmUvLi9ub2RlX21vZHVsZXMvcmVhY3QtbWVudGlvbnMvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2UuanMiLCJ3ZWJwYWNrOi8vc2xhY2stY2xvbmUvLi9ub2RlX21vZHVsZXMvcmVhY3QtbWVudGlvbnMvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4uanMiLCJ3ZWJwYWNrOi8vc2xhY2stY2xvbmUvLi9ub2RlX21vZHVsZXMvcmVhY3QtbWVudGlvbnMvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3NldFByb3RvdHlwZU9mLmpzIiwid2VicGFjazovL3NsYWNrLWNsb25lLy4vbm9kZV9tb2R1bGVzL3JlYWN0LW1lbnRpb25zL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9zbGljZWRUb0FycmF5LmpzIiwid2VicGFjazovL3NsYWNrLWNsb25lLy4vbm9kZV9tb2R1bGVzL3JlYWN0LW1lbnRpb25zL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS90b0NvbnN1bWFibGVBcnJheS5qcyIsIndlYnBhY2s6Ly9zbGFjay1jbG9uZS8uL25vZGVfbW9kdWxlcy9yZWFjdC1tZW50aW9ucy9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vdHlwZW9mLmpzIiwid2VicGFjazovL3NsYWNrLWNsb25lLy4vbm9kZV9tb2R1bGVzL3JlZ2V4aWZ5LXN0cmluZy9pbmRleC5qcyIsIndlYnBhY2s6Ly9zbGFjay1jbG9uZS8uL25vZGVfbW9kdWxlcy9zdWJzdHlsZS9lczYvUHJvcHNEZWNvcmF0b3JQcm92aWRlci5qcyIsIndlYnBhY2s6Ly9zbGFjay1jbG9uZS8uL25vZGVfbW9kdWxlcy9zdWJzdHlsZS9lczYvY29lcmNlU2VsZWN0aW9uLmpzIiwid2VicGFjazovL3NsYWNrLWNsb25lLy4vbm9kZV9tb2R1bGVzL3N1YnN0eWxlL2VzNi9jcmVhdGVTdWJzdHlsZS5qcyIsIndlYnBhY2s6Ly9zbGFjay1jbG9uZS8uL25vZGVfbW9kdWxlcy9zdWJzdHlsZS9lczYvZGVmYXVsdFByb3BzRGVjb3JhdG9yLmpzIiwid2VicGFjazovL3NsYWNrLWNsb25lLy4vbm9kZV9tb2R1bGVzL3N1YnN0eWxlL2VzNi9maWx0ZXJLZXlzLmpzIiwid2VicGFjazovL3NsYWNrLWNsb25lLy4vbm9kZV9tb2R1bGVzL3N1YnN0eWxlL2VzNi9pbmRleC5qcyIsIndlYnBhY2s6Ly9zbGFjay1jbG9uZS8uL25vZGVfbW9kdWxlcy9zdWJzdHlsZS9lczYvaW5saW5lLmpzIiwid2VicGFjazovL3NsYWNrLWNsb25lLy4vbm9kZV9tb2R1bGVzL3N1YnN0eWxlL2VzNi9tZW1vaXplLmpzIiwid2VicGFjazovL3NsYWNrLWNsb25lLy4vbm9kZV9tb2R1bGVzL3N1YnN0eWxlL2VzNi9waWNrU3R5bGVzLmpzIiwid2VicGFjazovL3NsYWNrLWNsb25lLy4vbm9kZV9tb2R1bGVzL3N1YnN0eWxlL2VzNi91c2VTdHlsZXMuanMiLCJ3ZWJwYWNrOi8vc2xhY2stY2xvbmUvLi9ub2RlX21vZHVsZXMvc3Vic3R5bGUvZXM2L3V0aWxzLmpzIiwid2VicGFjazovL3NsYWNrLWNsb25lLy4vbm9kZV9tb2R1bGVzL3RvLWNhbWVsLWNhc2UvaW5kZXguanMiLCJ3ZWJwYWNrOi8vc2xhY2stY2xvbmUvLi9ub2RlX21vZHVsZXMvdG8tbm8tY2FzZS9pbmRleC5qcyIsIndlYnBhY2s6Ly9zbGFjay1jbG9uZS8uL25vZGVfbW9kdWxlcy90by1zcGFjZS1jYXNlL2luZGV4LmpzIiwid2VicGFjazovL3NsYWNrLWNsb25lLy4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FycmF5TGlrZVRvQXJyYXkuanMiLCJ3ZWJwYWNrOi8vc2xhY2stY2xvbmUvLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXJyYXlXaXRob3V0SG9sZXMuanMiLCJ3ZWJwYWNrOi8vc2xhY2stY2xvbmUvLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vZGVmaW5lUHJvcGVydHkuanMiLCJ3ZWJwYWNrOi8vc2xhY2stY2xvbmUvLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vaXRlcmFibGVUb0FycmF5LmpzIiwid2VicGFjazovL3NsYWNrLWNsb25lLy4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL25vbkl0ZXJhYmxlU3ByZWFkLmpzIiwid2VicGFjazovL3NsYWNrLWNsb25lLy4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3RvQ29uc3VtYWJsZUFycmF5LmpzIiwid2VicGFjazovL3NsYWNrLWNsb25lLy4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qIFRoZSBmb2xsb3dpbmcgbGlzdCBpcyBkZWZpbmVkIGluIFJlYWN0J3MgY29yZSAqL1xudmFyIElTX1VOSVRMRVNTID0ge1xuICBhbmltYXRpb25JdGVyYXRpb25Db3VudDogdHJ1ZSxcbiAgYm94RmxleDogdHJ1ZSxcbiAgYm94RmxleEdyb3VwOiB0cnVlLFxuICBib3hPcmRpbmFsR3JvdXA6IHRydWUsXG4gIGNvbHVtbkNvdW50OiB0cnVlLFxuICBmbGV4OiB0cnVlLFxuICBmbGV4R3JvdzogdHJ1ZSxcbiAgZmxleFBvc2l0aXZlOiB0cnVlLFxuICBmbGV4U2hyaW5rOiB0cnVlLFxuICBmbGV4TmVnYXRpdmU6IHRydWUsXG4gIGZsZXhPcmRlcjogdHJ1ZSxcbiAgZ3JpZFJvdzogdHJ1ZSxcbiAgZ3JpZENvbHVtbjogdHJ1ZSxcbiAgZm9udFdlaWdodDogdHJ1ZSxcbiAgbGluZUNsYW1wOiB0cnVlLFxuICBsaW5lSGVpZ2h0OiB0cnVlLFxuICBvcGFjaXR5OiB0cnVlLFxuICBvcmRlcjogdHJ1ZSxcbiAgb3JwaGFuczogdHJ1ZSxcbiAgdGFiU2l6ZTogdHJ1ZSxcbiAgd2lkb3dzOiB0cnVlLFxuICB6SW5kZXg6IHRydWUsXG4gIHpvb206IHRydWUsXG5cbiAgLy8gU1ZHLXJlbGF0ZWQgcHJvcGVydGllc1xuICBmaWxsT3BhY2l0eTogdHJ1ZSxcbiAgc3RvcE9wYWNpdHk6IHRydWUsXG4gIHN0cm9rZURhc2hvZmZzZXQ6IHRydWUsXG4gIHN0cm9rZU9wYWNpdHk6IHRydWUsXG4gIHN0cm9rZVdpZHRoOiB0cnVlXG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKG5hbWUsIHZhbHVlKSB7XG4gIGlmKHR5cGVvZiB2YWx1ZSA9PT0gJ251bWJlcicgJiYgIUlTX1VOSVRMRVNTWyBuYW1lIF0pIHtcbiAgICByZXR1cm4gdmFsdWUgKyAncHgnO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiB2YWx1ZTtcbiAgfVxufTsiLCJ2YXIgZSx0LG49XCJmdW5jdGlvblwiPT10eXBlb2YgTWFwP25ldyBNYXA6KGU9W10sdD1bXSx7aGFzOmZ1bmN0aW9uKHQpe3JldHVybiBlLmluZGV4T2YodCk+LTF9LGdldDpmdW5jdGlvbihuKXtyZXR1cm4gdFtlLmluZGV4T2YobildfSxzZXQ6ZnVuY3Rpb24obixvKXstMT09PWUuaW5kZXhPZihuKSYmKGUucHVzaChuKSx0LnB1c2gobykpfSxkZWxldGU6ZnVuY3Rpb24obil7dmFyIG89ZS5pbmRleE9mKG4pO28+LTEmJihlLnNwbGljZShvLDEpLHQuc3BsaWNlKG8sMSkpfX0pLG89ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBFdmVudChlLHtidWJibGVzOiEwfSl9O3RyeXtuZXcgRXZlbnQoXCJ0ZXN0XCIpfWNhdGNoKGUpe289ZnVuY3Rpb24oZSl7dmFyIHQ9ZG9jdW1lbnQuY3JlYXRlRXZlbnQoXCJFdmVudFwiKTtyZXR1cm4gdC5pbml0RXZlbnQoZSwhMCwhMSksdH19ZnVuY3Rpb24gcihlKXt2YXIgdD1uLmdldChlKTt0JiZ0LmRlc3Ryb3koKX1mdW5jdGlvbiBpKGUpe3ZhciB0PW4uZ2V0KGUpO3QmJnQudXBkYXRlKCl9dmFyIGw9bnVsbDtcInVuZGVmaW5lZFwiPT10eXBlb2Ygd2luZG93fHxcImZ1bmN0aW9uXCIhPXR5cGVvZiB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZT8oKGw9ZnVuY3Rpb24oZSl7cmV0dXJuIGV9KS5kZXN0cm95PWZ1bmN0aW9uKGUpe3JldHVybiBlfSxsLnVwZGF0ZT1mdW5jdGlvbihlKXtyZXR1cm4gZX0pOigobD1mdW5jdGlvbihlLHQpe3JldHVybiBlJiZBcnJheS5wcm90b3R5cGUuZm9yRWFjaC5jYWxsKGUubGVuZ3RoP2U6W2VdLGZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbihlKXtpZihlJiZlLm5vZGVOYW1lJiZcIlRFWFRBUkVBXCI9PT1lLm5vZGVOYW1lJiYhbi5oYXMoZSkpe3ZhciB0LHI9bnVsbCxpPW51bGwsbD1udWxsLGQ9ZnVuY3Rpb24oKXtlLmNsaWVudFdpZHRoIT09aSYmYygpfSxhPWZ1bmN0aW9uKHQpe3dpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwicmVzaXplXCIsZCwhMSksZS5yZW1vdmVFdmVudExpc3RlbmVyKFwiaW5wdXRcIixjLCExKSxlLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJrZXl1cFwiLGMsITEpLGUucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImF1dG9zaXplOmRlc3Ryb3lcIixhLCExKSxlLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJhdXRvc2l6ZTp1cGRhdGVcIixjLCExKSxPYmplY3Qua2V5cyh0KS5mb3JFYWNoKGZ1bmN0aW9uKG4pe2Uuc3R5bGVbbl09dFtuXX0pLG4uZGVsZXRlKGUpfS5iaW5kKGUse2hlaWdodDplLnN0eWxlLmhlaWdodCxyZXNpemU6ZS5zdHlsZS5yZXNpemUsb3ZlcmZsb3dZOmUuc3R5bGUub3ZlcmZsb3dZLG92ZXJmbG93WDplLnN0eWxlLm92ZXJmbG93WCx3b3JkV3JhcDplLnN0eWxlLndvcmRXcmFwfSk7ZS5hZGRFdmVudExpc3RlbmVyKFwiYXV0b3NpemU6ZGVzdHJveVwiLGEsITEpLFwib25wcm9wZXJ0eWNoYW5nZVwiaW4gZSYmXCJvbmlucHV0XCJpbiBlJiZlLmFkZEV2ZW50TGlzdGVuZXIoXCJrZXl1cFwiLGMsITEpLHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwicmVzaXplXCIsZCwhMSksZS5hZGRFdmVudExpc3RlbmVyKFwiaW5wdXRcIixjLCExKSxlLmFkZEV2ZW50TGlzdGVuZXIoXCJhdXRvc2l6ZTp1cGRhdGVcIixjLCExKSxlLnN0eWxlLm92ZXJmbG93WD1cImhpZGRlblwiLGUuc3R5bGUud29yZFdyYXA9XCJicmVhay13b3JkXCIsbi5zZXQoZSx7ZGVzdHJveTphLHVwZGF0ZTpjfSksXCJ2ZXJ0aWNhbFwiPT09KHQ9d2luZG93LmdldENvbXB1dGVkU3R5bGUoZSxudWxsKSkucmVzaXplP2Uuc3R5bGUucmVzaXplPVwibm9uZVwiOlwiYm90aFwiPT09dC5yZXNpemUmJihlLnN0eWxlLnJlc2l6ZT1cImhvcml6b250YWxcIikscj1cImNvbnRlbnQtYm94XCI9PT10LmJveFNpemluZz8tKHBhcnNlRmxvYXQodC5wYWRkaW5nVG9wKStwYXJzZUZsb2F0KHQucGFkZGluZ0JvdHRvbSkpOnBhcnNlRmxvYXQodC5ib3JkZXJUb3BXaWR0aCkrcGFyc2VGbG9hdCh0LmJvcmRlckJvdHRvbVdpZHRoKSxpc05hTihyKSYmKHI9MCksYygpfWZ1bmN0aW9uIHUodCl7dmFyIG49ZS5zdHlsZS53aWR0aDtlLnN0eWxlLndpZHRoPVwiMHB4XCIsZS5zdHlsZS53aWR0aD1uLGUuc3R5bGUub3ZlcmZsb3dZPXR9ZnVuY3Rpb24gcygpe2lmKDAhPT1lLnNjcm9sbEhlaWdodCl7dmFyIHQ9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PVtdO2UmJmUucGFyZW50Tm9kZSYmZS5wYXJlbnROb2RlIGluc3RhbmNlb2YgRWxlbWVudDspZS5wYXJlbnROb2RlLnNjcm9sbFRvcCYmdC5wdXNoKHtub2RlOmUucGFyZW50Tm9kZSxzY3JvbGxUb3A6ZS5wYXJlbnROb2RlLnNjcm9sbFRvcH0pLGU9ZS5wYXJlbnROb2RlO3JldHVybiB0fShlKSxuPWRvY3VtZW50LmRvY3VtZW50RWxlbWVudCYmZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcDtlLnN0eWxlLmhlaWdodD1cIlwiLGUuc3R5bGUuaGVpZ2h0PWUuc2Nyb2xsSGVpZ2h0K3IrXCJweFwiLGk9ZS5jbGllbnRXaWR0aCx0LmZvckVhY2goZnVuY3Rpb24oZSl7ZS5ub2RlLnNjcm9sbFRvcD1lLnNjcm9sbFRvcH0pLG4mJihkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wPW4pfX1mdW5jdGlvbiBjKCl7cygpO3ZhciB0PU1hdGgucm91bmQocGFyc2VGbG9hdChlLnN0eWxlLmhlaWdodCkpLG49d2luZG93LmdldENvbXB1dGVkU3R5bGUoZSxudWxsKSxyPVwiY29udGVudC1ib3hcIj09PW4uYm94U2l6aW5nP01hdGgucm91bmQocGFyc2VGbG9hdChuLmhlaWdodCkpOmUub2Zmc2V0SGVpZ2h0O2lmKHI8dD9cImhpZGRlblwiPT09bi5vdmVyZmxvd1kmJih1KFwic2Nyb2xsXCIpLHMoKSxyPVwiY29udGVudC1ib3hcIj09PW4uYm94U2l6aW5nP01hdGgucm91bmQocGFyc2VGbG9hdCh3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShlLG51bGwpLmhlaWdodCkpOmUub2Zmc2V0SGVpZ2h0KTpcImhpZGRlblwiIT09bi5vdmVyZmxvd1kmJih1KFwiaGlkZGVuXCIpLHMoKSxyPVwiY29udGVudC1ib3hcIj09PW4uYm94U2l6aW5nP01hdGgucm91bmQocGFyc2VGbG9hdCh3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShlLG51bGwpLmhlaWdodCkpOmUub2Zmc2V0SGVpZ2h0KSxsIT09cil7bD1yO3ZhciBpPW8oXCJhdXRvc2l6ZTpyZXNpemVkXCIpO3RyeXtlLmRpc3BhdGNoRXZlbnQoaSl9Y2F0Y2goZSl7fX19fShlKX0pLGV9KS5kZXN0cm95PWZ1bmN0aW9uKGUpe3JldHVybiBlJiZBcnJheS5wcm90b3R5cGUuZm9yRWFjaC5jYWxsKGUubGVuZ3RoP2U6W2VdLHIpLGV9LGwudXBkYXRlPWZ1bmN0aW9uKGUpe3JldHVybiBlJiZBcnJheS5wcm90b3R5cGUuZm9yRWFjaC5jYWxsKGUubGVuZ3RoP2U6W2VdLGkpLGV9KTt2YXIgZD1sO2V4cG9ydCBkZWZhdWx0IGQ7XG4iLCIhZnVuY3Rpb24odCxlKXtcIm9iamVjdFwiPT10eXBlb2YgZXhwb3J0cyYmXCJ1bmRlZmluZWRcIiE9dHlwZW9mIG1vZHVsZT9tb2R1bGUuZXhwb3J0cz1lKCk6XCJmdW5jdGlvblwiPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kP2RlZmluZShlKToodD1cInVuZGVmaW5lZFwiIT10eXBlb2YgZ2xvYmFsVGhpcz9nbG9iYWxUaGlzOnR8fHNlbGYpLmRheWpzPWUoKX0odGhpcywoZnVuY3Rpb24oKXtcInVzZSBzdHJpY3RcIjt2YXIgdD0xZTMsZT02ZTQsbj0zNmU1LHI9XCJtaWxsaXNlY29uZFwiLGk9XCJzZWNvbmRcIixzPVwibWludXRlXCIsdT1cImhvdXJcIixhPVwiZGF5XCIsbz1cIndlZWtcIixmPVwibW9udGhcIixoPVwicXVhcnRlclwiLGM9XCJ5ZWFyXCIsZD1cImRhdGVcIiwkPVwiSW52YWxpZCBEYXRlXCIsbD0vXihcXGR7NH0pWy0vXT8oXFxkezEsMn0pP1stL10/KFxcZHswLDJ9KVtUdFxcc10qKFxcZHsxLDJ9KT86PyhcXGR7MSwyfSk/Oj8oXFxkezEsMn0pP1suOl0/KFxcZCspPyQvLHk9L1xcWyhbXlxcXV0rKV18WXsxLDR9fE17MSw0fXxEezEsMn18ZHsxLDR9fEh7MSwyfXxoezEsMn18YXxBfG17MSwyfXxzezEsMn18WnsxLDJ9fFNTUy9nLE09e25hbWU6XCJlblwiLHdlZWtkYXlzOlwiU3VuZGF5X01vbmRheV9UdWVzZGF5X1dlZG5lc2RheV9UaHVyc2RheV9GcmlkYXlfU2F0dXJkYXlcIi5zcGxpdChcIl9cIiksbW9udGhzOlwiSmFudWFyeV9GZWJydWFyeV9NYXJjaF9BcHJpbF9NYXlfSnVuZV9KdWx5X0F1Z3VzdF9TZXB0ZW1iZXJfT2N0b2Jlcl9Ob3ZlbWJlcl9EZWNlbWJlclwiLnNwbGl0KFwiX1wiKX0sbT1mdW5jdGlvbih0LGUsbil7dmFyIHI9U3RyaW5nKHQpO3JldHVybiFyfHxyLmxlbmd0aD49ZT90OlwiXCIrQXJyYXkoZSsxLXIubGVuZ3RoKS5qb2luKG4pK3R9LGc9e3M6bSx6OmZ1bmN0aW9uKHQpe3ZhciBlPS10LnV0Y09mZnNldCgpLG49TWF0aC5hYnMoZSkscj1NYXRoLmZsb29yKG4vNjApLGk9biU2MDtyZXR1cm4oZTw9MD9cIitcIjpcIi1cIikrbShyLDIsXCIwXCIpK1wiOlwiK20oaSwyLFwiMFwiKX0sbTpmdW5jdGlvbiB0KGUsbil7aWYoZS5kYXRlKCk8bi5kYXRlKCkpcmV0dXJuLXQobixlKTt2YXIgcj0xMioobi55ZWFyKCktZS55ZWFyKCkpKyhuLm1vbnRoKCktZS5tb250aCgpKSxpPWUuY2xvbmUoKS5hZGQocixmKSxzPW4taTwwLHU9ZS5jbG9uZSgpLmFkZChyKyhzPy0xOjEpLGYpO3JldHVybisoLShyKyhuLWkpLyhzP2ktdTp1LWkpKXx8MCl9LGE6ZnVuY3Rpb24odCl7cmV0dXJuIHQ8MD9NYXRoLmNlaWwodCl8fDA6TWF0aC5mbG9vcih0KX0scDpmdW5jdGlvbih0KXtyZXR1cm57TTpmLHk6Yyx3Om8sZDphLEQ6ZCxoOnUsbTpzLHM6aSxtczpyLFE6aH1bdF18fFN0cmluZyh0fHxcIlwiKS50b0xvd2VyQ2FzZSgpLnJlcGxhY2UoL3MkLyxcIlwiKX0sdTpmdW5jdGlvbih0KXtyZXR1cm4gdm9pZCAwPT09dH19LEQ9XCJlblwiLHY9e307dltEXT1NO3ZhciBwPWZ1bmN0aW9uKHQpe3JldHVybiB0IGluc3RhbmNlb2YgX30sUz1mdW5jdGlvbih0LGUsbil7dmFyIHI7aWYoIXQpcmV0dXJuIEQ7aWYoXCJzdHJpbmdcIj09dHlwZW9mIHQpdlt0XSYmKHI9dCksZSYmKHZbdF09ZSxyPXQpO2Vsc2V7dmFyIGk9dC5uYW1lO3ZbaV09dCxyPWl9cmV0dXJuIW4mJnImJihEPXIpLHJ8fCFuJiZEfSx3PWZ1bmN0aW9uKHQsZSl7aWYocCh0KSlyZXR1cm4gdC5jbG9uZSgpO3ZhciBuPVwib2JqZWN0XCI9PXR5cGVvZiBlP2U6e307cmV0dXJuIG4uZGF0ZT10LG4uYXJncz1hcmd1bWVudHMsbmV3IF8obil9LE89ZztPLmw9UyxPLmk9cCxPLnc9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdyh0LHtsb2NhbGU6ZS4kTCx1dGM6ZS4kdSx4OmUuJHgsJG9mZnNldDplLiRvZmZzZXR9KX07dmFyIF89ZnVuY3Rpb24oKXtmdW5jdGlvbiBNKHQpe3RoaXMuJEw9Uyh0LmxvY2FsZSxudWxsLCEwKSx0aGlzLnBhcnNlKHQpfXZhciBtPU0ucHJvdG90eXBlO3JldHVybiBtLnBhcnNlPWZ1bmN0aW9uKHQpe3RoaXMuJGQ9ZnVuY3Rpb24odCl7dmFyIGU9dC5kYXRlLG49dC51dGM7aWYobnVsbD09PWUpcmV0dXJuIG5ldyBEYXRlKE5hTik7aWYoTy51KGUpKXJldHVybiBuZXcgRGF0ZTtpZihlIGluc3RhbmNlb2YgRGF0ZSlyZXR1cm4gbmV3IERhdGUoZSk7aWYoXCJzdHJpbmdcIj09dHlwZW9mIGUmJiEvWiQvaS50ZXN0KGUpKXt2YXIgcj1lLm1hdGNoKGwpO2lmKHIpe3ZhciBpPXJbMl0tMXx8MCxzPShyWzddfHxcIjBcIikuc3Vic3RyaW5nKDAsMyk7cmV0dXJuIG4/bmV3IERhdGUoRGF0ZS5VVEMoclsxXSxpLHJbM118fDEscls0XXx8MCxyWzVdfHwwLHJbNl18fDAscykpOm5ldyBEYXRlKHJbMV0saSxyWzNdfHwxLHJbNF18fDAscls1XXx8MCxyWzZdfHwwLHMpfX1yZXR1cm4gbmV3IERhdGUoZSl9KHQpLHRoaXMuJHg9dC54fHx7fSx0aGlzLmluaXQoKX0sbS5pbml0PWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy4kZDt0aGlzLiR5PXQuZ2V0RnVsbFllYXIoKSx0aGlzLiRNPXQuZ2V0TW9udGgoKSx0aGlzLiREPXQuZ2V0RGF0ZSgpLHRoaXMuJFc9dC5nZXREYXkoKSx0aGlzLiRIPXQuZ2V0SG91cnMoKSx0aGlzLiRtPXQuZ2V0TWludXRlcygpLHRoaXMuJHM9dC5nZXRTZWNvbmRzKCksdGhpcy4kbXM9dC5nZXRNaWxsaXNlY29uZHMoKX0sbS4kdXRpbHM9ZnVuY3Rpb24oKXtyZXR1cm4gT30sbS5pc1ZhbGlkPWZ1bmN0aW9uKCl7cmV0dXJuISh0aGlzLiRkLnRvU3RyaW5nKCk9PT0kKX0sbS5pc1NhbWU9ZnVuY3Rpb24odCxlKXt2YXIgbj13KHQpO3JldHVybiB0aGlzLnN0YXJ0T2YoZSk8PW4mJm48PXRoaXMuZW5kT2YoZSl9LG0uaXNBZnRlcj1mdW5jdGlvbih0LGUpe3JldHVybiB3KHQpPHRoaXMuc3RhcnRPZihlKX0sbS5pc0JlZm9yZT1mdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLmVuZE9mKGUpPHcodCl9LG0uJGc9ZnVuY3Rpb24odCxlLG4pe3JldHVybiBPLnUodCk/dGhpc1tlXTp0aGlzLnNldChuLHQpfSxtLnVuaXg9ZnVuY3Rpb24oKXtyZXR1cm4gTWF0aC5mbG9vcih0aGlzLnZhbHVlT2YoKS8xZTMpfSxtLnZhbHVlT2Y9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy4kZC5nZXRUaW1lKCl9LG0uc3RhcnRPZj1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMscj0hIU8udShlKXx8ZSxoPU8ucCh0KSwkPWZ1bmN0aW9uKHQsZSl7dmFyIGk9Ty53KG4uJHU/RGF0ZS5VVEMobi4keSxlLHQpOm5ldyBEYXRlKG4uJHksZSx0KSxuKTtyZXR1cm4gcj9pOmkuZW5kT2YoYSl9LGw9ZnVuY3Rpb24odCxlKXtyZXR1cm4gTy53KG4udG9EYXRlKClbdF0uYXBwbHkobi50b0RhdGUoXCJzXCIpLChyP1swLDAsMCwwXTpbMjMsNTksNTksOTk5XSkuc2xpY2UoZSkpLG4pfSx5PXRoaXMuJFcsTT10aGlzLiRNLG09dGhpcy4kRCxnPVwic2V0XCIrKHRoaXMuJHU/XCJVVENcIjpcIlwiKTtzd2l0Y2goaCl7Y2FzZSBjOnJldHVybiByPyQoMSwwKTokKDMxLDExKTtjYXNlIGY6cmV0dXJuIHI/JCgxLE0pOiQoMCxNKzEpO2Nhc2Ugbzp2YXIgRD10aGlzLiRsb2NhbGUoKS53ZWVrU3RhcnR8fDAsdj0oeTxEP3krNzp5KS1EO3JldHVybiAkKHI/bS12Om0rKDYtdiksTSk7Y2FzZSBhOmNhc2UgZDpyZXR1cm4gbChnK1wiSG91cnNcIiwwKTtjYXNlIHU6cmV0dXJuIGwoZytcIk1pbnV0ZXNcIiwxKTtjYXNlIHM6cmV0dXJuIGwoZytcIlNlY29uZHNcIiwyKTtjYXNlIGk6cmV0dXJuIGwoZytcIk1pbGxpc2Vjb25kc1wiLDMpO2RlZmF1bHQ6cmV0dXJuIHRoaXMuY2xvbmUoKX19LG0uZW5kT2Y9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuc3RhcnRPZih0LCExKX0sbS4kc2V0PWZ1bmN0aW9uKHQsZSl7dmFyIG4sbz1PLnAodCksaD1cInNldFwiKyh0aGlzLiR1P1wiVVRDXCI6XCJcIiksJD0obj17fSxuW2FdPWgrXCJEYXRlXCIsbltkXT1oK1wiRGF0ZVwiLG5bZl09aCtcIk1vbnRoXCIsbltjXT1oK1wiRnVsbFllYXJcIixuW3VdPWgrXCJIb3Vyc1wiLG5bc109aCtcIk1pbnV0ZXNcIixuW2ldPWgrXCJTZWNvbmRzXCIsbltyXT1oK1wiTWlsbGlzZWNvbmRzXCIsbilbb10sbD1vPT09YT90aGlzLiREKyhlLXRoaXMuJFcpOmU7aWYobz09PWZ8fG89PT1jKXt2YXIgeT10aGlzLmNsb25lKCkuc2V0KGQsMSk7eS4kZFskXShsKSx5LmluaXQoKSx0aGlzLiRkPXkuc2V0KGQsTWF0aC5taW4odGhpcy4kRCx5LmRheXNJbk1vbnRoKCkpKS4kZH1lbHNlICQmJnRoaXMuJGRbJF0obCk7cmV0dXJuIHRoaXMuaW5pdCgpLHRoaXN9LG0uc2V0PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuY2xvbmUoKS4kc2V0KHQsZSl9LG0uZ2V0PWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzW08ucCh0KV0oKX0sbS5hZGQ9ZnVuY3Rpb24ocixoKXt2YXIgZCwkPXRoaXM7cj1OdW1iZXIocik7dmFyIGw9Ty5wKGgpLHk9ZnVuY3Rpb24odCl7dmFyIGU9dygkKTtyZXR1cm4gTy53KGUuZGF0ZShlLmRhdGUoKStNYXRoLnJvdW5kKHQqcikpLCQpfTtpZihsPT09ZilyZXR1cm4gdGhpcy5zZXQoZix0aGlzLiRNK3IpO2lmKGw9PT1jKXJldHVybiB0aGlzLnNldChjLHRoaXMuJHkrcik7aWYobD09PWEpcmV0dXJuIHkoMSk7aWYobD09PW8pcmV0dXJuIHkoNyk7dmFyIE09KGQ9e30sZFtzXT1lLGRbdV09bixkW2ldPXQsZClbbF18fDEsbT10aGlzLiRkLmdldFRpbWUoKStyKk07cmV0dXJuIE8udyhtLHRoaXMpfSxtLnN1YnRyYWN0PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuYWRkKC0xKnQsZSl9LG0uZm9ybWF0PWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMsbj10aGlzLiRsb2NhbGUoKTtpZighdGhpcy5pc1ZhbGlkKCkpcmV0dXJuIG4uaW52YWxpZERhdGV8fCQ7dmFyIHI9dHx8XCJZWVlZLU1NLUREVEhIOm1tOnNzWlwiLGk9Ty56KHRoaXMpLHM9dGhpcy4kSCx1PXRoaXMuJG0sYT10aGlzLiRNLG89bi53ZWVrZGF5cyxmPW4ubW9udGhzLGg9ZnVuY3Rpb24odCxuLGkscyl7cmV0dXJuIHQmJih0W25dfHx0KGUscikpfHxpW25dLnN1YnN0cigwLHMpfSxjPWZ1bmN0aW9uKHQpe3JldHVybiBPLnMocyUxMnx8MTIsdCxcIjBcIil9LGQ9bi5tZXJpZGllbXx8ZnVuY3Rpb24odCxlLG4pe3ZhciByPXQ8MTI/XCJBTVwiOlwiUE1cIjtyZXR1cm4gbj9yLnRvTG93ZXJDYXNlKCk6cn0sbD17WVk6U3RyaW5nKHRoaXMuJHkpLnNsaWNlKC0yKSxZWVlZOnRoaXMuJHksTTphKzEsTU06Ty5zKGErMSwyLFwiMFwiKSxNTU06aChuLm1vbnRoc1Nob3J0LGEsZiwzKSxNTU1NOmgoZixhKSxEOnRoaXMuJEQsREQ6Ty5zKHRoaXMuJEQsMixcIjBcIiksZDpTdHJpbmcodGhpcy4kVyksZGQ6aChuLndlZWtkYXlzTWluLHRoaXMuJFcsbywyKSxkZGQ6aChuLndlZWtkYXlzU2hvcnQsdGhpcy4kVyxvLDMpLGRkZGQ6b1t0aGlzLiRXXSxIOlN0cmluZyhzKSxISDpPLnMocywyLFwiMFwiKSxoOmMoMSksaGg6YygyKSxhOmQocyx1LCEwKSxBOmQocyx1LCExKSxtOlN0cmluZyh1KSxtbTpPLnModSwyLFwiMFwiKSxzOlN0cmluZyh0aGlzLiRzKSxzczpPLnModGhpcy4kcywyLFwiMFwiKSxTU1M6Ty5zKHRoaXMuJG1zLDMsXCIwXCIpLFo6aX07cmV0dXJuIHIucmVwbGFjZSh5LChmdW5jdGlvbih0LGUpe3JldHVybiBlfHxsW3RdfHxpLnJlcGxhY2UoXCI6XCIsXCJcIil9KSl9LG0udXRjT2Zmc2V0PWZ1bmN0aW9uKCl7cmV0dXJuIDE1Ki1NYXRoLnJvdW5kKHRoaXMuJGQuZ2V0VGltZXpvbmVPZmZzZXQoKS8xNSl9LG0uZGlmZj1mdW5jdGlvbihyLGQsJCl7dmFyIGwseT1PLnAoZCksTT13KHIpLG09KE0udXRjT2Zmc2V0KCktdGhpcy51dGNPZmZzZXQoKSkqZSxnPXRoaXMtTSxEPU8ubSh0aGlzLE0pO3JldHVybiBEPShsPXt9LGxbY109RC8xMixsW2ZdPUQsbFtoXT1ELzMsbFtvXT0oZy1tKS82MDQ4ZTUsbFthXT0oZy1tKS84NjRlNSxsW3VdPWcvbixsW3NdPWcvZSxsW2ldPWcvdCxsKVt5XXx8ZywkP0Q6Ty5hKEQpfSxtLmRheXNJbk1vbnRoPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZW5kT2YoZikuJER9LG0uJGxvY2FsZT1mdW5jdGlvbigpe3JldHVybiB2W3RoaXMuJExdfSxtLmxvY2FsZT1mdW5jdGlvbih0LGUpe2lmKCF0KXJldHVybiB0aGlzLiRMO3ZhciBuPXRoaXMuY2xvbmUoKSxyPVModCxlLCEwKTtyZXR1cm4gciYmKG4uJEw9ciksbn0sbS5jbG9uZT1mdW5jdGlvbigpe3JldHVybiBPLncodGhpcy4kZCx0aGlzKX0sbS50b0RhdGU9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IERhdGUodGhpcy52YWx1ZU9mKCkpfSxtLnRvSlNPTj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmlzVmFsaWQoKT90aGlzLnRvSVNPU3RyaW5nKCk6bnVsbH0sbS50b0lTT1N0cmluZz1mdW5jdGlvbigpe3JldHVybiB0aGlzLiRkLnRvSVNPU3RyaW5nKCl9LG0udG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy4kZC50b1VUQ1N0cmluZygpfSxNfSgpLGI9Xy5wcm90b3R5cGU7cmV0dXJuIHcucHJvdG90eXBlPWIsW1tcIiRtc1wiLHJdLFtcIiRzXCIsaV0sW1wiJG1cIixzXSxbXCIkSFwiLHVdLFtcIiRXXCIsYV0sW1wiJE1cIixmXSxbXCIkeVwiLGNdLFtcIiREXCIsZF1dLmZvckVhY2goKGZ1bmN0aW9uKHQpe2JbdFsxXV09ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuJGcoZSx0WzBdLHRbMV0pfX0pKSx3LmV4dGVuZD1mdW5jdGlvbih0LGUpe3JldHVybiB0LiRpfHwodChlLF8sdyksdC4kaT0hMCksd30sdy5sb2NhbGU9Uyx3LmlzRGF5anM9cCx3LnVuaXg9ZnVuY3Rpb24odCl7cmV0dXJuIHcoMWUzKnQpfSx3LmVuPXZbRF0sdy5Mcz12LHcucD17fSx3fSkpOyIsInZhciBwcmVmaXggPSByZXF1aXJlKCdwcmVmaXgtc3R5bGUnKVxudmFyIHRvQ2FtZWxDYXNlID0gcmVxdWlyZSgndG8tY2FtZWwtY2FzZScpXG52YXIgY2FjaGUgPSB7ICdmbG9hdCc6ICdjc3NGbG9hdCcgfVxudmFyIGFkZFB4VG9TdHlsZSA9IHJlcXVpcmUoJ2FkZC1weC10by1zdHlsZScpXG5cbmZ1bmN0aW9uIHN0eWxlIChlbGVtZW50LCBwcm9wZXJ0eSwgdmFsdWUpIHtcbiAgdmFyIGNhbWVsID0gY2FjaGVbcHJvcGVydHldXG4gIGlmICh0eXBlb2YgY2FtZWwgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgY2FtZWwgPSBkZXRlY3QocHJvcGVydHkpXG4gIH1cblxuICAvLyBtYXkgYmUgZmFsc2UgaWYgQ1NTIHByb3AgaXMgdW5zdXBwb3J0ZWRcbiAgaWYgKGNhbWVsKSB7XG4gICAgaWYgKHZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHJldHVybiBlbGVtZW50LnN0eWxlW2NhbWVsXVxuICAgIH1cblxuICAgIGVsZW1lbnQuc3R5bGVbY2FtZWxdID0gYWRkUHhUb1N0eWxlKGNhbWVsLCB2YWx1ZSlcbiAgfVxufVxuXG5mdW5jdGlvbiBlYWNoIChlbGVtZW50LCBwcm9wZXJ0aWVzKSB7XG4gIGZvciAodmFyIGsgaW4gcHJvcGVydGllcykge1xuICAgIGlmIChwcm9wZXJ0aWVzLmhhc093blByb3BlcnR5KGspKSB7XG4gICAgICBzdHlsZShlbGVtZW50LCBrLCBwcm9wZXJ0aWVzW2tdKVxuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBkZXRlY3QgKGNzc1Byb3ApIHtcbiAgdmFyIGNhbWVsID0gdG9DYW1lbENhc2UoY3NzUHJvcClcbiAgdmFyIHJlc3VsdCA9IHByZWZpeChjYW1lbClcbiAgY2FjaGVbY2FtZWxdID0gY2FjaGVbY3NzUHJvcF0gPSBjYWNoZVtyZXN1bHRdID0gcmVzdWx0XG4gIHJldHVybiByZXN1bHRcbn1cblxuZnVuY3Rpb24gc2V0ICgpIHtcbiAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDIpIHtcbiAgICBpZiAodHlwZW9mIGFyZ3VtZW50c1sxXSA9PT0gJ3N0cmluZycpIHtcbiAgICAgIGFyZ3VtZW50c1swXS5zdHlsZS5jc3NUZXh0ID0gYXJndW1lbnRzWzFdXG4gICAgfSBlbHNlIHtcbiAgICAgIGVhY2goYXJndW1lbnRzWzBdLCBhcmd1bWVudHNbMV0pXG4gICAgfVxuICB9IGVsc2Uge1xuICAgIHN0eWxlKGFyZ3VtZW50c1swXSwgYXJndW1lbnRzWzFdLCBhcmd1bWVudHNbMl0pXG4gIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBzZXRcbm1vZHVsZS5leHBvcnRzLnNldCA9IHNldFxuXG5tb2R1bGUuZXhwb3J0cy5nZXQgPSBmdW5jdGlvbiAoZWxlbWVudCwgcHJvcGVydGllcykge1xuICBpZiAoQXJyYXkuaXNBcnJheShwcm9wZXJ0aWVzKSkge1xuICAgIHJldHVybiBwcm9wZXJ0aWVzLnJlZHVjZShmdW5jdGlvbiAob2JqLCBwcm9wKSB7XG4gICAgICBvYmpbcHJvcF0gPSBzdHlsZShlbGVtZW50LCBwcm9wIHx8ICcnKVxuICAgICAgcmV0dXJuIG9ialxuICAgIH0sIHt9KVxuICB9IGVsc2Uge1xuICAgIHJldHVybiBzdHlsZShlbGVtZW50LCBwcm9wZXJ0aWVzIHx8ICcnKVxuICB9XG59XG4iLCIvKipcbiAqIENvcHlyaWdodCAoYykgMjAxMy1wcmVzZW50LCBGYWNlYm9vaywgSW5jLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICovXG5cbid1c2Ugc3RyaWN0JztcblxuLyoqXG4gKiBVc2UgaW52YXJpYW50KCkgdG8gYXNzZXJ0IHN0YXRlIHdoaWNoIHlvdXIgcHJvZ3JhbSBhc3N1bWVzIHRvIGJlIHRydWUuXG4gKlxuICogUHJvdmlkZSBzcHJpbnRmLXN0eWxlIGZvcm1hdCAob25seSAlcyBpcyBzdXBwb3J0ZWQpIGFuZCBhcmd1bWVudHNcbiAqIHRvIHByb3ZpZGUgaW5mb3JtYXRpb24gYWJvdXQgd2hhdCBicm9rZSBhbmQgd2hhdCB5b3Ugd2VyZVxuICogZXhwZWN0aW5nLlxuICpcbiAqIFRoZSBpbnZhcmlhbnQgbWVzc2FnZSB3aWxsIGJlIHN0cmlwcGVkIGluIHByb2R1Y3Rpb24sIGJ1dCB0aGUgaW52YXJpYW50XG4gKiB3aWxsIHJlbWFpbiB0byBlbnN1cmUgbG9naWMgZG9lcyBub3QgZGlmZmVyIGluIHByb2R1Y3Rpb24uXG4gKi9cblxudmFyIGludmFyaWFudCA9IGZ1bmN0aW9uKGNvbmRpdGlvbiwgZm9ybWF0LCBhLCBiLCBjLCBkLCBlLCBmKSB7XG4gIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgaWYgKGZvcm1hdCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ2ludmFyaWFudCByZXF1aXJlcyBhbiBlcnJvciBtZXNzYWdlIGFyZ3VtZW50Jyk7XG4gICAgfVxuICB9XG5cbiAgaWYgKCFjb25kaXRpb24pIHtcbiAgICB2YXIgZXJyb3I7XG4gICAgaWYgKGZvcm1hdCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBlcnJvciA9IG5ldyBFcnJvcihcbiAgICAgICAgJ01pbmlmaWVkIGV4Y2VwdGlvbiBvY2N1cnJlZDsgdXNlIHRoZSBub24tbWluaWZpZWQgZGV2IGVudmlyb25tZW50ICcgK1xuICAgICAgICAnZm9yIHRoZSBmdWxsIGVycm9yIG1lc3NhZ2UgYW5kIGFkZGl0aW9uYWwgaGVscGZ1bCB3YXJuaW5ncy4nXG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgYXJncyA9IFthLCBiLCBjLCBkLCBlLCBmXTtcbiAgICAgIHZhciBhcmdJbmRleCA9IDA7XG4gICAgICBlcnJvciA9IG5ldyBFcnJvcihcbiAgICAgICAgZm9ybWF0LnJlcGxhY2UoLyVzL2csIGZ1bmN0aW9uKCkgeyByZXR1cm4gYXJnc1thcmdJbmRleCsrXTsgfSlcbiAgICAgICk7XG4gICAgICBlcnJvci5uYW1lID0gJ0ludmFyaWFudCBWaW9sYXRpb24nO1xuICAgIH1cblxuICAgIGVycm9yLmZyYW1lc1RvUG9wID0gMTsgLy8gd2UgZG9uJ3QgY2FyZSBhYm91dCBpbnZhcmlhbnQncyBvd24gZnJhbWVcbiAgICB0aHJvdyBlcnJvcjtcbiAgfVxufTtcblxubW9kdWxlLmV4cG9ydHMgPSBpbnZhcmlhbnQ7XG4iLCIvLyBHZW5lcmF0ZWQgYnkgQ29mZmVlU2NyaXB0IDEuMTIuMlxuKGZ1bmN0aW9uKCkge1xuICB2YXIgZ2V0TmFub1NlY29uZHMsIGhydGltZSwgbG9hZFRpbWUsIG1vZHVsZUxvYWRUaW1lLCBub2RlTG9hZFRpbWUsIHVwVGltZTtcblxuICBpZiAoKHR5cGVvZiBwZXJmb3JtYW5jZSAhPT0gXCJ1bmRlZmluZWRcIiAmJiBwZXJmb3JtYW5jZSAhPT0gbnVsbCkgJiYgcGVyZm9ybWFuY2Uubm93KSB7XG4gICAgbW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBwZXJmb3JtYW5jZS5ub3coKTtcbiAgICB9O1xuICB9IGVsc2UgaWYgKCh0eXBlb2YgcHJvY2VzcyAhPT0gXCJ1bmRlZmluZWRcIiAmJiBwcm9jZXNzICE9PSBudWxsKSAmJiBwcm9jZXNzLmhydGltZSkge1xuICAgIG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gKGdldE5hbm9TZWNvbmRzKCkgLSBub2RlTG9hZFRpbWUpIC8gMWU2O1xuICAgIH07XG4gICAgaHJ0aW1lID0gcHJvY2Vzcy5ocnRpbWU7XG4gICAgZ2V0TmFub1NlY29uZHMgPSBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBocjtcbiAgICAgIGhyID0gaHJ0aW1lKCk7XG4gICAgICByZXR1cm4gaHJbMF0gKiAxZTkgKyBoclsxXTtcbiAgICB9O1xuICAgIG1vZHVsZUxvYWRUaW1lID0gZ2V0TmFub1NlY29uZHMoKTtcbiAgICB1cFRpbWUgPSBwcm9jZXNzLnVwdGltZSgpICogMWU5O1xuICAgIG5vZGVMb2FkVGltZSA9IG1vZHVsZUxvYWRUaW1lIC0gdXBUaW1lO1xuICB9IGVsc2UgaWYgKERhdGUubm93KSB7XG4gICAgbW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBEYXRlLm5vdygpIC0gbG9hZFRpbWU7XG4gICAgfTtcbiAgICBsb2FkVGltZSA9IERhdGUubm93KCk7XG4gIH0gZWxzZSB7XG4gICAgbW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBuZXcgRGF0ZSgpLmdldFRpbWUoKSAtIGxvYWRUaW1lO1xuICAgIH07XG4gICAgbG9hZFRpbWUgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcbiAgfVxuXG59KS5jYWxsKHRoaXMpO1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1wZXJmb3JtYW5jZS1ub3cuanMubWFwXG4iLCJ2YXIgZGl2ID0gbnVsbFxudmFyIHByZWZpeGVzID0gWyAnV2Via2l0JywgJ01veicsICdPJywgJ21zJyBdXG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gcHJlZml4U3R5bGUgKHByb3ApIHtcbiAgLy8gcmUtdXNlIGEgZHVtbXkgZGl2XG4gIGlmICghZGl2KSB7XG4gICAgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JylcbiAgfVxuXG4gIHZhciBzdHlsZSA9IGRpdi5zdHlsZVxuXG4gIC8vIHByb3AgZXhpc3RzIHdpdGhvdXQgcHJlZml4XG4gIGlmIChwcm9wIGluIHN0eWxlKSB7XG4gICAgcmV0dXJuIHByb3BcbiAgfVxuXG4gIC8vIGJvcmRlclJhZGl1cyAtPiBCb3JkZXJSYWRpdXNcbiAgdmFyIHRpdGxlQ2FzZSA9IHByb3AuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyBwcm9wLnNsaWNlKDEpXG5cbiAgLy8gZmluZCB0aGUgdmVuZG9yLXByZWZpeGVkIHByb3BcbiAgZm9yICh2YXIgaSA9IHByZWZpeGVzLmxlbmd0aDsgaSA+PSAwOyBpLS0pIHtcbiAgICB2YXIgbmFtZSA9IHByZWZpeGVzW2ldICsgdGl0bGVDYXNlXG4gICAgLy8gZS5nLiBXZWJraXRCb3JkZXJSYWRpdXMgb3Igd2Via2l0Qm9yZGVyUmFkaXVzXG4gICAgaWYgKG5hbWUgaW4gc3R5bGUpIHtcbiAgICAgIHJldHVybiBuYW1lXG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGZhbHNlXG59XG4iLCJ2YXIgbm93ID0gcmVxdWlyZSgncGVyZm9ybWFuY2Utbm93JylcbiAgLCByb290ID0gdHlwZW9mIHdpbmRvdyA9PT0gJ3VuZGVmaW5lZCcgPyBnbG9iYWwgOiB3aW5kb3dcbiAgLCB2ZW5kb3JzID0gWydtb3onLCAnd2Via2l0J11cbiAgLCBzdWZmaXggPSAnQW5pbWF0aW9uRnJhbWUnXG4gICwgcmFmID0gcm9vdFsncmVxdWVzdCcgKyBzdWZmaXhdXG4gICwgY2FmID0gcm9vdFsnY2FuY2VsJyArIHN1ZmZpeF0gfHwgcm9vdFsnY2FuY2VsUmVxdWVzdCcgKyBzdWZmaXhdXG5cbmZvcih2YXIgaSA9IDA7ICFyYWYgJiYgaSA8IHZlbmRvcnMubGVuZ3RoOyBpKyspIHtcbiAgcmFmID0gcm9vdFt2ZW5kb3JzW2ldICsgJ1JlcXVlc3QnICsgc3VmZml4XVxuICBjYWYgPSByb290W3ZlbmRvcnNbaV0gKyAnQ2FuY2VsJyArIHN1ZmZpeF1cbiAgICAgIHx8IHJvb3RbdmVuZG9yc1tpXSArICdDYW5jZWxSZXF1ZXN0JyArIHN1ZmZpeF1cbn1cblxuLy8gU29tZSB2ZXJzaW9ucyBvZiBGRiBoYXZlIHJBRiBidXQgbm90IGNBRlxuaWYoIXJhZiB8fCAhY2FmKSB7XG4gIHZhciBsYXN0ID0gMFxuICAgICwgaWQgPSAwXG4gICAgLCBxdWV1ZSA9IFtdXG4gICAgLCBmcmFtZUR1cmF0aW9uID0gMTAwMCAvIDYwXG5cbiAgcmFmID0gZnVuY3Rpb24oY2FsbGJhY2spIHtcbiAgICBpZihxdWV1ZS5sZW5ndGggPT09IDApIHtcbiAgICAgIHZhciBfbm93ID0gbm93KClcbiAgICAgICAgLCBuZXh0ID0gTWF0aC5tYXgoMCwgZnJhbWVEdXJhdGlvbiAtIChfbm93IC0gbGFzdCkpXG4gICAgICBsYXN0ID0gbmV4dCArIF9ub3dcbiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBjcCA9IHF1ZXVlLnNsaWNlKDApXG4gICAgICAgIC8vIENsZWFyIHF1ZXVlIGhlcmUgdG8gcHJldmVudFxuICAgICAgICAvLyBjYWxsYmFja3MgZnJvbSBhcHBlbmRpbmcgbGlzdGVuZXJzXG4gICAgICAgIC8vIHRvIHRoZSBjdXJyZW50IGZyYW1lJ3MgcXVldWVcbiAgICAgICAgcXVldWUubGVuZ3RoID0gMFxuICAgICAgICBmb3IodmFyIGkgPSAwOyBpIDwgY3AubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBpZighY3BbaV0uY2FuY2VsbGVkKSB7XG4gICAgICAgICAgICB0cnl7XG4gICAgICAgICAgICAgIGNwW2ldLmNhbGxiYWNrKGxhc3QpXG4gICAgICAgICAgICB9IGNhdGNoKGUpIHtcbiAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHsgdGhyb3cgZSB9LCAwKVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSwgTWF0aC5yb3VuZChuZXh0KSlcbiAgICB9XG4gICAgcXVldWUucHVzaCh7XG4gICAgICBoYW5kbGU6ICsraWQsXG4gICAgICBjYWxsYmFjazogY2FsbGJhY2ssXG4gICAgICBjYW5jZWxsZWQ6IGZhbHNlXG4gICAgfSlcbiAgICByZXR1cm4gaWRcbiAgfVxuXG4gIGNhZiA9IGZ1bmN0aW9uKGhhbmRsZSkge1xuICAgIGZvcih2YXIgaSA9IDA7IGkgPCBxdWV1ZS5sZW5ndGg7IGkrKykge1xuICAgICAgaWYocXVldWVbaV0uaGFuZGxlID09PSBoYW5kbGUpIHtcbiAgICAgICAgcXVldWVbaV0uY2FuY2VsbGVkID0gdHJ1ZVxuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGZuKSB7XG4gIC8vIFdyYXAgaW4gYSBuZXcgZnVuY3Rpb24gdG8gcHJldmVudFxuICAvLyBgY2FuY2VsYCBwb3RlbnRpYWxseSBiZWluZyBhc3NpZ25lZFxuICAvLyB0byB0aGUgbmF0aXZlIHJBRiBmdW5jdGlvblxuICByZXR1cm4gcmFmLmNhbGwocm9vdCwgZm4pXG59XG5tb2R1bGUuZXhwb3J0cy5jYW5jZWwgPSBmdW5jdGlvbigpIHtcbiAgY2FmLmFwcGx5KHJvb3QsIGFyZ3VtZW50cylcbn1cbm1vZHVsZS5leHBvcnRzLnBvbHlmaWxsID0gZnVuY3Rpb24ob2JqZWN0KSB7XG4gIGlmICghb2JqZWN0KSB7XG4gICAgb2JqZWN0ID0gcm9vdDtcbiAgfVxuICBvYmplY3QucmVxdWVzdEFuaW1hdGlvbkZyYW1lID0gcmFmXG4gIG9iamVjdC5jYW5jZWxBbmltYXRpb25GcmFtZSA9IGNhZlxufVxuIiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07XG5cbmV4cG9ydHMucmVuZGVyVmlld0RlZmF1bHQgPSByZW5kZXJWaWV3RGVmYXVsdDtcbmV4cG9ydHMucmVuZGVyVHJhY2tIb3Jpem9udGFsRGVmYXVsdCA9IHJlbmRlclRyYWNrSG9yaXpvbnRhbERlZmF1bHQ7XG5leHBvcnRzLnJlbmRlclRyYWNrVmVydGljYWxEZWZhdWx0ID0gcmVuZGVyVHJhY2tWZXJ0aWNhbERlZmF1bHQ7XG5leHBvcnRzLnJlbmRlclRodW1iSG9yaXpvbnRhbERlZmF1bHQgPSByZW5kZXJUaHVtYkhvcml6b250YWxEZWZhdWx0O1xuZXhwb3J0cy5yZW5kZXJUaHVtYlZlcnRpY2FsRGVmYXVsdCA9IHJlbmRlclRodW1iVmVydGljYWxEZWZhdWx0O1xuXG52YXIgX3JlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcblxudmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IFwiZGVmYXVsdFwiOiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMob2JqLCBrZXlzKSB7IHZhciB0YXJnZXQgPSB7fTsgZm9yICh2YXIgaSBpbiBvYmopIHsgaWYgKGtleXMuaW5kZXhPZihpKSA+PSAwKSBjb250aW51ZTsgaWYgKCFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBpKSkgY29udGludWU7IHRhcmdldFtpXSA9IG9ialtpXTsgfSByZXR1cm4gdGFyZ2V0OyB9XG5cbi8qIGVzbGludC1kaXNhYmxlIHJlYWN0L3Byb3AtdHlwZXMgKi9cblxuZnVuY3Rpb24gcmVuZGVyVmlld0RlZmF1bHQocHJvcHMpIHtcbiAgICByZXR1cm4gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudCgnZGl2JywgcHJvcHMpO1xufVxuXG5mdW5jdGlvbiByZW5kZXJUcmFja0hvcml6b250YWxEZWZhdWx0KF9yZWYpIHtcbiAgICB2YXIgc3R5bGUgPSBfcmVmLnN0eWxlLFxuICAgICAgICBwcm9wcyA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllcyhfcmVmLCBbJ3N0eWxlJ10pO1xuXG4gICAgdmFyIGZpbmFsU3R5bGUgPSBfZXh0ZW5kcyh7fSwgc3R5bGUsIHtcbiAgICAgICAgcmlnaHQ6IDIsXG4gICAgICAgIGJvdHRvbTogMixcbiAgICAgICAgbGVmdDogMixcbiAgICAgICAgYm9yZGVyUmFkaXVzOiAzXG4gICAgfSk7XG4gICAgcmV0dXJuIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoJ2RpdicsIF9leHRlbmRzKHsgc3R5bGU6IGZpbmFsU3R5bGUgfSwgcHJvcHMpKTtcbn1cblxuZnVuY3Rpb24gcmVuZGVyVHJhY2tWZXJ0aWNhbERlZmF1bHQoX3JlZjIpIHtcbiAgICB2YXIgc3R5bGUgPSBfcmVmMi5zdHlsZSxcbiAgICAgICAgcHJvcHMgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMoX3JlZjIsIFsnc3R5bGUnXSk7XG5cbiAgICB2YXIgZmluYWxTdHlsZSA9IF9leHRlbmRzKHt9LCBzdHlsZSwge1xuICAgICAgICByaWdodDogMixcbiAgICAgICAgYm90dG9tOiAyLFxuICAgICAgICB0b3A6IDIsXG4gICAgICAgIGJvcmRlclJhZGl1czogM1xuICAgIH0pO1xuICAgIHJldHVybiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KCdkaXYnLCBfZXh0ZW5kcyh7IHN0eWxlOiBmaW5hbFN0eWxlIH0sIHByb3BzKSk7XG59XG5cbmZ1bmN0aW9uIHJlbmRlclRodW1iSG9yaXpvbnRhbERlZmF1bHQoX3JlZjMpIHtcbiAgICB2YXIgc3R5bGUgPSBfcmVmMy5zdHlsZSxcbiAgICAgICAgcHJvcHMgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMoX3JlZjMsIFsnc3R5bGUnXSk7XG5cbiAgICB2YXIgZmluYWxTdHlsZSA9IF9leHRlbmRzKHt9LCBzdHlsZSwge1xuICAgICAgICBjdXJzb3I6ICdwb2ludGVyJyxcbiAgICAgICAgYm9yZGVyUmFkaXVzOiAnaW5oZXJpdCcsXG4gICAgICAgIGJhY2tncm91bmRDb2xvcjogJ3JnYmEoMCwwLDAsLjIpJ1xuICAgIH0pO1xuICAgIHJldHVybiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KCdkaXYnLCBfZXh0ZW5kcyh7IHN0eWxlOiBmaW5hbFN0eWxlIH0sIHByb3BzKSk7XG59XG5cbmZ1bmN0aW9uIHJlbmRlclRodW1iVmVydGljYWxEZWZhdWx0KF9yZWY0KSB7XG4gICAgdmFyIHN0eWxlID0gX3JlZjQuc3R5bGUsXG4gICAgICAgIHByb3BzID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzKF9yZWY0LCBbJ3N0eWxlJ10pO1xuXG4gICAgdmFyIGZpbmFsU3R5bGUgPSBfZXh0ZW5kcyh7fSwgc3R5bGUsIHtcbiAgICAgICAgY3Vyc29yOiAncG9pbnRlcicsXG4gICAgICAgIGJvcmRlclJhZGl1czogJ2luaGVyaXQnLFxuICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6ICdyZ2JhKDAsMCwwLC4yKSdcbiAgICB9KTtcbiAgICByZXR1cm4gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudCgnZGl2JywgX2V4dGVuZHMoeyBzdHlsZTogZmluYWxTdHlsZSB9LCBwcm9wcykpO1xufSIsIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gICAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9O1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG52YXIgX3JhZjIgPSByZXF1aXJlKCdyYWYnKTtcblxudmFyIF9yYWYzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmFmMik7XG5cbnZhciBfZG9tQ3NzID0gcmVxdWlyZSgnZG9tLWNzcycpO1xuXG52YXIgX2RvbUNzczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9kb21Dc3MpO1xuXG52YXIgX3JlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcblxudmFyIF9wcm9wVHlwZXMgPSByZXF1aXJlKCdwcm9wLXR5cGVzJyk7XG5cbnZhciBfcHJvcFR5cGVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Byb3BUeXBlcyk7XG5cbnZhciBfaXNTdHJpbmcgPSByZXF1aXJlKCcuLi91dGlscy9pc1N0cmluZycpO1xuXG52YXIgX2lzU3RyaW5nMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2lzU3RyaW5nKTtcblxudmFyIF9nZXRTY3JvbGxiYXJXaWR0aCA9IHJlcXVpcmUoJy4uL3V0aWxzL2dldFNjcm9sbGJhcldpZHRoJyk7XG5cbnZhciBfZ2V0U2Nyb2xsYmFyV2lkdGgyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZ2V0U2Nyb2xsYmFyV2lkdGgpO1xuXG52YXIgX3JldHVybkZhbHNlID0gcmVxdWlyZSgnLi4vdXRpbHMvcmV0dXJuRmFsc2UnKTtcblxudmFyIF9yZXR1cm5GYWxzZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZXR1cm5GYWxzZSk7XG5cbnZhciBfZ2V0SW5uZXJXaWR0aCA9IHJlcXVpcmUoJy4uL3V0aWxzL2dldElubmVyV2lkdGgnKTtcblxudmFyIF9nZXRJbm5lcldpZHRoMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2dldElubmVyV2lkdGgpO1xuXG52YXIgX2dldElubmVySGVpZ2h0ID0gcmVxdWlyZSgnLi4vdXRpbHMvZ2V0SW5uZXJIZWlnaHQnKTtcblxudmFyIF9nZXRJbm5lckhlaWdodDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9nZXRJbm5lckhlaWdodCk7XG5cbnZhciBfc3R5bGVzID0gcmVxdWlyZSgnLi9zdHlsZXMnKTtcblxudmFyIF9kZWZhdWx0UmVuZGVyRWxlbWVudHMgPSByZXF1aXJlKCcuL2RlZmF1bHRSZW5kZXJFbGVtZW50cycpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBcImRlZmF1bHRcIjogb2JqIH07IH1cblxuZnVuY3Rpb24gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzKG9iaiwga2V5cykgeyB2YXIgdGFyZ2V0ID0ge307IGZvciAodmFyIGkgaW4gb2JqKSB7IGlmIChrZXlzLmluZGV4T2YoaSkgPj0gMCkgY29udGludWU7IGlmICghT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgaSkpIGNvbnRpbnVlOyB0YXJnZXRbaV0gPSBvYmpbaV07IH0gcmV0dXJuIHRhcmdldDsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbnZhciBTY3JvbGxiYXJzID0gZnVuY3Rpb24gKF9Db21wb25lbnQpIHtcbiAgICBfaW5oZXJpdHMoU2Nyb2xsYmFycywgX0NvbXBvbmVudCk7XG5cbiAgICBmdW5jdGlvbiBTY3JvbGxiYXJzKHByb3BzKSB7XG4gICAgICAgIHZhciBfcmVmO1xuXG4gICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBTY3JvbGxiYXJzKTtcblxuICAgICAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgcmVzdCA9IEFycmF5KF9sZW4gPiAxID8gX2xlbiAtIDEgOiAwKSwgX2tleSA9IDE7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgICAgICAgIHJlc3RbX2tleSAtIDFdID0gYXJndW1lbnRzW19rZXldO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKF9yZWYgPSBTY3JvbGxiYXJzLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoU2Nyb2xsYmFycykpLmNhbGwuYXBwbHkoX3JlZiwgW3RoaXMsIHByb3BzXS5jb25jYXQocmVzdCkpKTtcblxuICAgICAgICBfdGhpcy5nZXRTY3JvbGxMZWZ0ID0gX3RoaXMuZ2V0U2Nyb2xsTGVmdC5iaW5kKF90aGlzKTtcbiAgICAgICAgX3RoaXMuZ2V0U2Nyb2xsVG9wID0gX3RoaXMuZ2V0U2Nyb2xsVG9wLmJpbmQoX3RoaXMpO1xuICAgICAgICBfdGhpcy5nZXRTY3JvbGxXaWR0aCA9IF90aGlzLmdldFNjcm9sbFdpZHRoLmJpbmQoX3RoaXMpO1xuICAgICAgICBfdGhpcy5nZXRTY3JvbGxIZWlnaHQgPSBfdGhpcy5nZXRTY3JvbGxIZWlnaHQuYmluZChfdGhpcyk7XG4gICAgICAgIF90aGlzLmdldENsaWVudFdpZHRoID0gX3RoaXMuZ2V0Q2xpZW50V2lkdGguYmluZChfdGhpcyk7XG4gICAgICAgIF90aGlzLmdldENsaWVudEhlaWdodCA9IF90aGlzLmdldENsaWVudEhlaWdodC5iaW5kKF90aGlzKTtcbiAgICAgICAgX3RoaXMuZ2V0VmFsdWVzID0gX3RoaXMuZ2V0VmFsdWVzLmJpbmQoX3RoaXMpO1xuICAgICAgICBfdGhpcy5nZXRUaHVtYkhvcml6b250YWxXaWR0aCA9IF90aGlzLmdldFRodW1iSG9yaXpvbnRhbFdpZHRoLmJpbmQoX3RoaXMpO1xuICAgICAgICBfdGhpcy5nZXRUaHVtYlZlcnRpY2FsSGVpZ2h0ID0gX3RoaXMuZ2V0VGh1bWJWZXJ0aWNhbEhlaWdodC5iaW5kKF90aGlzKTtcbiAgICAgICAgX3RoaXMuZ2V0U2Nyb2xsTGVmdEZvck9mZnNldCA9IF90aGlzLmdldFNjcm9sbExlZnRGb3JPZmZzZXQuYmluZChfdGhpcyk7XG4gICAgICAgIF90aGlzLmdldFNjcm9sbFRvcEZvck9mZnNldCA9IF90aGlzLmdldFNjcm9sbFRvcEZvck9mZnNldC5iaW5kKF90aGlzKTtcblxuICAgICAgICBfdGhpcy5zY3JvbGxMZWZ0ID0gX3RoaXMuc2Nyb2xsTGVmdC5iaW5kKF90aGlzKTtcbiAgICAgICAgX3RoaXMuc2Nyb2xsVG9wID0gX3RoaXMuc2Nyb2xsVG9wLmJpbmQoX3RoaXMpO1xuICAgICAgICBfdGhpcy5zY3JvbGxUb0xlZnQgPSBfdGhpcy5zY3JvbGxUb0xlZnQuYmluZChfdGhpcyk7XG4gICAgICAgIF90aGlzLnNjcm9sbFRvVG9wID0gX3RoaXMuc2Nyb2xsVG9Ub3AuYmluZChfdGhpcyk7XG4gICAgICAgIF90aGlzLnNjcm9sbFRvUmlnaHQgPSBfdGhpcy5zY3JvbGxUb1JpZ2h0LmJpbmQoX3RoaXMpO1xuICAgICAgICBfdGhpcy5zY3JvbGxUb0JvdHRvbSA9IF90aGlzLnNjcm9sbFRvQm90dG9tLmJpbmQoX3RoaXMpO1xuXG4gICAgICAgIF90aGlzLmhhbmRsZVRyYWNrTW91c2VFbnRlciA9IF90aGlzLmhhbmRsZVRyYWNrTW91c2VFbnRlci5iaW5kKF90aGlzKTtcbiAgICAgICAgX3RoaXMuaGFuZGxlVHJhY2tNb3VzZUxlYXZlID0gX3RoaXMuaGFuZGxlVHJhY2tNb3VzZUxlYXZlLmJpbmQoX3RoaXMpO1xuICAgICAgICBfdGhpcy5oYW5kbGVIb3Jpem9udGFsVHJhY2tNb3VzZURvd24gPSBfdGhpcy5oYW5kbGVIb3Jpem9udGFsVHJhY2tNb3VzZURvd24uYmluZChfdGhpcyk7XG4gICAgICAgIF90aGlzLmhhbmRsZVZlcnRpY2FsVHJhY2tNb3VzZURvd24gPSBfdGhpcy5oYW5kbGVWZXJ0aWNhbFRyYWNrTW91c2VEb3duLmJpbmQoX3RoaXMpO1xuICAgICAgICBfdGhpcy5oYW5kbGVIb3Jpem9udGFsVGh1bWJNb3VzZURvd24gPSBfdGhpcy5oYW5kbGVIb3Jpem9udGFsVGh1bWJNb3VzZURvd24uYmluZChfdGhpcyk7XG4gICAgICAgIF90aGlzLmhhbmRsZVZlcnRpY2FsVGh1bWJNb3VzZURvd24gPSBfdGhpcy5oYW5kbGVWZXJ0aWNhbFRodW1iTW91c2VEb3duLmJpbmQoX3RoaXMpO1xuICAgICAgICBfdGhpcy5oYW5kbGVXaW5kb3dSZXNpemUgPSBfdGhpcy5oYW5kbGVXaW5kb3dSZXNpemUuYmluZChfdGhpcyk7XG4gICAgICAgIF90aGlzLmhhbmRsZVNjcm9sbCA9IF90aGlzLmhhbmRsZVNjcm9sbC5iaW5kKF90aGlzKTtcbiAgICAgICAgX3RoaXMuaGFuZGxlRHJhZyA9IF90aGlzLmhhbmRsZURyYWcuYmluZChfdGhpcyk7XG4gICAgICAgIF90aGlzLmhhbmRsZURyYWdFbmQgPSBfdGhpcy5oYW5kbGVEcmFnRW5kLmJpbmQoX3RoaXMpO1xuXG4gICAgICAgIF90aGlzLnN0YXRlID0ge1xuICAgICAgICAgICAgZGlkTW91bnRVbml2ZXJzYWw6IGZhbHNlXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG5cbiAgICBfY3JlYXRlQ2xhc3MoU2Nyb2xsYmFycywgW3tcbiAgICAgICAga2V5OiAnY29tcG9uZW50RGlkTW91bnQnLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgICAgICAgICB0aGlzLmFkZExpc3RlbmVycygpO1xuICAgICAgICAgICAgdGhpcy51cGRhdGUoKTtcbiAgICAgICAgICAgIHRoaXMuY29tcG9uZW50RGlkTW91bnRVbml2ZXJzYWwoKTtcbiAgICAgICAgfVxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnY29tcG9uZW50RGlkTW91bnRVbml2ZXJzYWwnLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50RGlkTW91bnRVbml2ZXJzYWwoKSB7XG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlYWN0L3NvcnQtY29tcFxuICAgICAgICAgICAgdmFyIHVuaXZlcnNhbCA9IHRoaXMucHJvcHMudW5pdmVyc2FsO1xuXG4gICAgICAgICAgICBpZiAoIXVuaXZlcnNhbCkgcmV0dXJuO1xuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IGRpZE1vdW50VW5pdmVyc2FsOiB0cnVlIH0pO1xuICAgICAgICB9XG4gICAgfSwge1xuICAgICAgICBrZXk6ICdjb21wb25lbnREaWRVcGRhdGUnLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50RGlkVXBkYXRlKCkge1xuICAgICAgICAgICAgdGhpcy51cGRhdGUoKTtcbiAgICAgICAgfVxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnY29tcG9uZW50V2lsbFVubW91bnQnLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50V2lsbFVubW91bnQoKSB7XG4gICAgICAgICAgICB0aGlzLnJlbW92ZUxpc3RlbmVycygpO1xuICAgICAgICAgICAgKDAsIF9yYWYyLmNhbmNlbCkodGhpcy5yZXF1ZXN0RnJhbWUpO1xuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuaGlkZVRyYWNrc1RpbWVvdXQpO1xuICAgICAgICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLmRldGVjdFNjcm9sbGluZ0ludGVydmFsKTtcbiAgICAgICAgfVxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnZ2V0U2Nyb2xsTGVmdCcsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRTY3JvbGxMZWZ0KCkge1xuICAgICAgICAgICAgaWYgKCF0aGlzLnZpZXcpIHJldHVybiAwO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudmlldy5zY3JvbGxMZWZ0O1xuICAgICAgICB9XG4gICAgfSwge1xuICAgICAgICBrZXk6ICdnZXRTY3JvbGxUb3AnLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0U2Nyb2xsVG9wKCkge1xuICAgICAgICAgICAgaWYgKCF0aGlzLnZpZXcpIHJldHVybiAwO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudmlldy5zY3JvbGxUb3A7XG4gICAgICAgIH1cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ2dldFNjcm9sbFdpZHRoJyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGdldFNjcm9sbFdpZHRoKCkge1xuICAgICAgICAgICAgaWYgKCF0aGlzLnZpZXcpIHJldHVybiAwO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudmlldy5zY3JvbGxXaWR0aDtcbiAgICAgICAgfVxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnZ2V0U2Nyb2xsSGVpZ2h0JyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGdldFNjcm9sbEhlaWdodCgpIHtcbiAgICAgICAgICAgIGlmICghdGhpcy52aWV3KSByZXR1cm4gMDtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnZpZXcuc2Nyb2xsSGVpZ2h0O1xuICAgICAgICB9XG4gICAgfSwge1xuICAgICAgICBrZXk6ICdnZXRDbGllbnRXaWR0aCcsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRDbGllbnRXaWR0aCgpIHtcbiAgICAgICAgICAgIGlmICghdGhpcy52aWV3KSByZXR1cm4gMDtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnZpZXcuY2xpZW50V2lkdGg7XG4gICAgICAgIH1cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ2dldENsaWVudEhlaWdodCcsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRDbGllbnRIZWlnaHQoKSB7XG4gICAgICAgICAgICBpZiAoIXRoaXMudmlldykgcmV0dXJuIDA7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy52aWV3LmNsaWVudEhlaWdodDtcbiAgICAgICAgfVxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnZ2V0VmFsdWVzJyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGdldFZhbHVlcygpIHtcbiAgICAgICAgICAgIHZhciBfcmVmMiA9IHRoaXMudmlldyB8fCB7fSxcbiAgICAgICAgICAgICAgICBfcmVmMiRzY3JvbGxMZWZ0ID0gX3JlZjIuc2Nyb2xsTGVmdCxcbiAgICAgICAgICAgICAgICBzY3JvbGxMZWZ0ID0gX3JlZjIkc2Nyb2xsTGVmdCA9PT0gdW5kZWZpbmVkID8gMCA6IF9yZWYyJHNjcm9sbExlZnQsXG4gICAgICAgICAgICAgICAgX3JlZjIkc2Nyb2xsVG9wID0gX3JlZjIuc2Nyb2xsVG9wLFxuICAgICAgICAgICAgICAgIHNjcm9sbFRvcCA9IF9yZWYyJHNjcm9sbFRvcCA9PT0gdW5kZWZpbmVkID8gMCA6IF9yZWYyJHNjcm9sbFRvcCxcbiAgICAgICAgICAgICAgICBfcmVmMiRzY3JvbGxXaWR0aCA9IF9yZWYyLnNjcm9sbFdpZHRoLFxuICAgICAgICAgICAgICAgIHNjcm9sbFdpZHRoID0gX3JlZjIkc2Nyb2xsV2lkdGggPT09IHVuZGVmaW5lZCA/IDAgOiBfcmVmMiRzY3JvbGxXaWR0aCxcbiAgICAgICAgICAgICAgICBfcmVmMiRzY3JvbGxIZWlnaHQgPSBfcmVmMi5zY3JvbGxIZWlnaHQsXG4gICAgICAgICAgICAgICAgc2Nyb2xsSGVpZ2h0ID0gX3JlZjIkc2Nyb2xsSGVpZ2h0ID09PSB1bmRlZmluZWQgPyAwIDogX3JlZjIkc2Nyb2xsSGVpZ2h0LFxuICAgICAgICAgICAgICAgIF9yZWYyJGNsaWVudFdpZHRoID0gX3JlZjIuY2xpZW50V2lkdGgsXG4gICAgICAgICAgICAgICAgY2xpZW50V2lkdGggPSBfcmVmMiRjbGllbnRXaWR0aCA9PT0gdW5kZWZpbmVkID8gMCA6IF9yZWYyJGNsaWVudFdpZHRoLFxuICAgICAgICAgICAgICAgIF9yZWYyJGNsaWVudEhlaWdodCA9IF9yZWYyLmNsaWVudEhlaWdodCxcbiAgICAgICAgICAgICAgICBjbGllbnRIZWlnaHQgPSBfcmVmMiRjbGllbnRIZWlnaHQgPT09IHVuZGVmaW5lZCA/IDAgOiBfcmVmMiRjbGllbnRIZWlnaHQ7XG5cbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgbGVmdDogc2Nyb2xsTGVmdCAvIChzY3JvbGxXaWR0aCAtIGNsaWVudFdpZHRoKSB8fCAwLFxuICAgICAgICAgICAgICAgIHRvcDogc2Nyb2xsVG9wIC8gKHNjcm9sbEhlaWdodCAtIGNsaWVudEhlaWdodCkgfHwgMCxcbiAgICAgICAgICAgICAgICBzY3JvbGxMZWZ0OiBzY3JvbGxMZWZ0LFxuICAgICAgICAgICAgICAgIHNjcm9sbFRvcDogc2Nyb2xsVG9wLFxuICAgICAgICAgICAgICAgIHNjcm9sbFdpZHRoOiBzY3JvbGxXaWR0aCxcbiAgICAgICAgICAgICAgICBzY3JvbGxIZWlnaHQ6IHNjcm9sbEhlaWdodCxcbiAgICAgICAgICAgICAgICBjbGllbnRXaWR0aDogY2xpZW50V2lkdGgsXG4gICAgICAgICAgICAgICAgY2xpZW50SGVpZ2h0OiBjbGllbnRIZWlnaHRcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ2dldFRodW1iSG9yaXpvbnRhbFdpZHRoJyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGdldFRodW1iSG9yaXpvbnRhbFdpZHRoKCkge1xuICAgICAgICAgICAgdmFyIF9wcm9wcyA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgICAgICAgdGh1bWJTaXplID0gX3Byb3BzLnRodW1iU2l6ZSxcbiAgICAgICAgICAgICAgICB0aHVtYk1pblNpemUgPSBfcHJvcHMudGh1bWJNaW5TaXplO1xuICAgICAgICAgICAgdmFyIF92aWV3ID0gdGhpcy52aWV3LFxuICAgICAgICAgICAgICAgIHNjcm9sbFdpZHRoID0gX3ZpZXcuc2Nyb2xsV2lkdGgsXG4gICAgICAgICAgICAgICAgY2xpZW50V2lkdGggPSBfdmlldy5jbGllbnRXaWR0aDtcblxuICAgICAgICAgICAgdmFyIHRyYWNrV2lkdGggPSAoMCwgX2dldElubmVyV2lkdGgyW1wiZGVmYXVsdFwiXSkodGhpcy50cmFja0hvcml6b250YWwpO1xuICAgICAgICAgICAgdmFyIHdpZHRoID0gTWF0aC5jZWlsKGNsaWVudFdpZHRoIC8gc2Nyb2xsV2lkdGggKiB0cmFja1dpZHRoKTtcbiAgICAgICAgICAgIGlmICh0cmFja1dpZHRoID09PSB3aWR0aCkgcmV0dXJuIDA7XG4gICAgICAgICAgICBpZiAodGh1bWJTaXplKSByZXR1cm4gdGh1bWJTaXplO1xuICAgICAgICAgICAgcmV0dXJuIE1hdGgubWF4KHdpZHRoLCB0aHVtYk1pblNpemUpO1xuICAgICAgICB9XG4gICAgfSwge1xuICAgICAgICBrZXk6ICdnZXRUaHVtYlZlcnRpY2FsSGVpZ2h0JyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGdldFRodW1iVmVydGljYWxIZWlnaHQoKSB7XG4gICAgICAgICAgICB2YXIgX3Byb3BzMiA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgICAgICAgdGh1bWJTaXplID0gX3Byb3BzMi50aHVtYlNpemUsXG4gICAgICAgICAgICAgICAgdGh1bWJNaW5TaXplID0gX3Byb3BzMi50aHVtYk1pblNpemU7XG4gICAgICAgICAgICB2YXIgX3ZpZXcyID0gdGhpcy52aWV3LFxuICAgICAgICAgICAgICAgIHNjcm9sbEhlaWdodCA9IF92aWV3Mi5zY3JvbGxIZWlnaHQsXG4gICAgICAgICAgICAgICAgY2xpZW50SGVpZ2h0ID0gX3ZpZXcyLmNsaWVudEhlaWdodDtcblxuICAgICAgICAgICAgdmFyIHRyYWNrSGVpZ2h0ID0gKDAsIF9nZXRJbm5lckhlaWdodDJbXCJkZWZhdWx0XCJdKSh0aGlzLnRyYWNrVmVydGljYWwpO1xuICAgICAgICAgICAgdmFyIGhlaWdodCA9IE1hdGguY2VpbChjbGllbnRIZWlnaHQgLyBzY3JvbGxIZWlnaHQgKiB0cmFja0hlaWdodCk7XG4gICAgICAgICAgICBpZiAodHJhY2tIZWlnaHQgPT09IGhlaWdodCkgcmV0dXJuIDA7XG4gICAgICAgICAgICBpZiAodGh1bWJTaXplKSByZXR1cm4gdGh1bWJTaXplO1xuICAgICAgICAgICAgcmV0dXJuIE1hdGgubWF4KGhlaWdodCwgdGh1bWJNaW5TaXplKTtcbiAgICAgICAgfVxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnZ2V0U2Nyb2xsTGVmdEZvck9mZnNldCcsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRTY3JvbGxMZWZ0Rm9yT2Zmc2V0KG9mZnNldCkge1xuICAgICAgICAgICAgdmFyIF92aWV3MyA9IHRoaXMudmlldyxcbiAgICAgICAgICAgICAgICBzY3JvbGxXaWR0aCA9IF92aWV3My5zY3JvbGxXaWR0aCxcbiAgICAgICAgICAgICAgICBjbGllbnRXaWR0aCA9IF92aWV3My5jbGllbnRXaWR0aDtcblxuICAgICAgICAgICAgdmFyIHRyYWNrV2lkdGggPSAoMCwgX2dldElubmVyV2lkdGgyW1wiZGVmYXVsdFwiXSkodGhpcy50cmFja0hvcml6b250YWwpO1xuICAgICAgICAgICAgdmFyIHRodW1iV2lkdGggPSB0aGlzLmdldFRodW1iSG9yaXpvbnRhbFdpZHRoKCk7XG4gICAgICAgICAgICByZXR1cm4gb2Zmc2V0IC8gKHRyYWNrV2lkdGggLSB0aHVtYldpZHRoKSAqIChzY3JvbGxXaWR0aCAtIGNsaWVudFdpZHRoKTtcbiAgICAgICAgfVxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnZ2V0U2Nyb2xsVG9wRm9yT2Zmc2V0JyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGdldFNjcm9sbFRvcEZvck9mZnNldChvZmZzZXQpIHtcbiAgICAgICAgICAgIHZhciBfdmlldzQgPSB0aGlzLnZpZXcsXG4gICAgICAgICAgICAgICAgc2Nyb2xsSGVpZ2h0ID0gX3ZpZXc0LnNjcm9sbEhlaWdodCxcbiAgICAgICAgICAgICAgICBjbGllbnRIZWlnaHQgPSBfdmlldzQuY2xpZW50SGVpZ2h0O1xuXG4gICAgICAgICAgICB2YXIgdHJhY2tIZWlnaHQgPSAoMCwgX2dldElubmVySGVpZ2h0MltcImRlZmF1bHRcIl0pKHRoaXMudHJhY2tWZXJ0aWNhbCk7XG4gICAgICAgICAgICB2YXIgdGh1bWJIZWlnaHQgPSB0aGlzLmdldFRodW1iVmVydGljYWxIZWlnaHQoKTtcbiAgICAgICAgICAgIHJldHVybiBvZmZzZXQgLyAodHJhY2tIZWlnaHQgLSB0aHVtYkhlaWdodCkgKiAoc2Nyb2xsSGVpZ2h0IC0gY2xpZW50SGVpZ2h0KTtcbiAgICAgICAgfVxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnc2Nyb2xsTGVmdCcsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiBzY3JvbGxMZWZ0KCkge1xuICAgICAgICAgICAgdmFyIGxlZnQgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IDA7XG5cbiAgICAgICAgICAgIGlmICghdGhpcy52aWV3KSByZXR1cm47XG4gICAgICAgICAgICB0aGlzLnZpZXcuc2Nyb2xsTGVmdCA9IGxlZnQ7XG4gICAgICAgIH1cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ3Njcm9sbFRvcCcsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiBzY3JvbGxUb3AoKSB7XG4gICAgICAgICAgICB2YXIgdG9wID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiAwO1xuXG4gICAgICAgICAgICBpZiAoIXRoaXMudmlldykgcmV0dXJuO1xuICAgICAgICAgICAgdGhpcy52aWV3LnNjcm9sbFRvcCA9IHRvcDtcbiAgICAgICAgfVxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnc2Nyb2xsVG9MZWZ0JyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHNjcm9sbFRvTGVmdCgpIHtcbiAgICAgICAgICAgIGlmICghdGhpcy52aWV3KSByZXR1cm47XG4gICAgICAgICAgICB0aGlzLnZpZXcuc2Nyb2xsTGVmdCA9IDA7XG4gICAgICAgIH1cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ3Njcm9sbFRvVG9wJyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHNjcm9sbFRvVG9wKCkge1xuICAgICAgICAgICAgaWYgKCF0aGlzLnZpZXcpIHJldHVybjtcbiAgICAgICAgICAgIHRoaXMudmlldy5zY3JvbGxUb3AgPSAwO1xuICAgICAgICB9XG4gICAgfSwge1xuICAgICAgICBrZXk6ICdzY3JvbGxUb1JpZ2h0JyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHNjcm9sbFRvUmlnaHQoKSB7XG4gICAgICAgICAgICBpZiAoIXRoaXMudmlldykgcmV0dXJuO1xuICAgICAgICAgICAgdGhpcy52aWV3LnNjcm9sbExlZnQgPSB0aGlzLnZpZXcuc2Nyb2xsV2lkdGg7XG4gICAgICAgIH1cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ3Njcm9sbFRvQm90dG9tJyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHNjcm9sbFRvQm90dG9tKCkge1xuICAgICAgICAgICAgaWYgKCF0aGlzLnZpZXcpIHJldHVybjtcbiAgICAgICAgICAgIHRoaXMudmlldy5zY3JvbGxUb3AgPSB0aGlzLnZpZXcuc2Nyb2xsSGVpZ2h0O1xuICAgICAgICB9XG4gICAgfSwge1xuICAgICAgICBrZXk6ICdhZGRMaXN0ZW5lcnMnLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gYWRkTGlzdGVuZXJzKCkge1xuICAgICAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgICAgICAgICBpZiAodHlwZW9mIGRvY3VtZW50ID09PSAndW5kZWZpbmVkJyB8fCAhdGhpcy52aWV3KSByZXR1cm47XG4gICAgICAgICAgICB2YXIgdmlldyA9IHRoaXMudmlldyxcbiAgICAgICAgICAgICAgICB0cmFja0hvcml6b250YWwgPSB0aGlzLnRyYWNrSG9yaXpvbnRhbCxcbiAgICAgICAgICAgICAgICB0cmFja1ZlcnRpY2FsID0gdGhpcy50cmFja1ZlcnRpY2FsLFxuICAgICAgICAgICAgICAgIHRodW1iSG9yaXpvbnRhbCA9IHRoaXMudGh1bWJIb3Jpem9udGFsLFxuICAgICAgICAgICAgICAgIHRodW1iVmVydGljYWwgPSB0aGlzLnRodW1iVmVydGljYWw7XG5cbiAgICAgICAgICAgIHZpZXcuYWRkRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgdGhpcy5oYW5kbGVTY3JvbGwpO1xuICAgICAgICAgICAgaWYgKCEoMCwgX2dldFNjcm9sbGJhcldpZHRoMltcImRlZmF1bHRcIl0pKCkpIHJldHVybjtcbiAgICAgICAgICAgIHRyYWNrSG9yaXpvbnRhbC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWVudGVyJywgdGhpcy5oYW5kbGVUcmFja01vdXNlRW50ZXIpO1xuICAgICAgICAgICAgdHJhY2tIb3Jpem9udGFsLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbGVhdmUnLCB0aGlzLmhhbmRsZVRyYWNrTW91c2VMZWF2ZSk7XG4gICAgICAgICAgICB0cmFja0hvcml6b250YWwuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgdGhpcy5oYW5kbGVIb3Jpem9udGFsVHJhY2tNb3VzZURvd24pO1xuICAgICAgICAgICAgdHJhY2tWZXJ0aWNhbC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWVudGVyJywgdGhpcy5oYW5kbGVUcmFja01vdXNlRW50ZXIpO1xuICAgICAgICAgICAgdHJhY2tWZXJ0aWNhbC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWxlYXZlJywgdGhpcy5oYW5kbGVUcmFja01vdXNlTGVhdmUpO1xuICAgICAgICAgICAgdHJhY2tWZXJ0aWNhbC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCB0aGlzLmhhbmRsZVZlcnRpY2FsVHJhY2tNb3VzZURvd24pO1xuICAgICAgICAgICAgdGh1bWJIb3Jpem9udGFsLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIHRoaXMuaGFuZGxlSG9yaXpvbnRhbFRodW1iTW91c2VEb3duKTtcbiAgICAgICAgICAgIHRodW1iVmVydGljYWwuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgdGhpcy5oYW5kbGVWZXJ0aWNhbFRodW1iTW91c2VEb3duKTtcbiAgICAgICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCB0aGlzLmhhbmRsZVdpbmRvd1Jlc2l6ZSk7XG4gICAgICAgIH1cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ3JlbW92ZUxpc3RlbmVycycsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiByZW1vdmVMaXN0ZW5lcnMoKSB7XG4gICAgICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICAgICAgICAgIGlmICh0eXBlb2YgZG9jdW1lbnQgPT09ICd1bmRlZmluZWQnIHx8ICF0aGlzLnZpZXcpIHJldHVybjtcbiAgICAgICAgICAgIHZhciB2aWV3ID0gdGhpcy52aWV3LFxuICAgICAgICAgICAgICAgIHRyYWNrSG9yaXpvbnRhbCA9IHRoaXMudHJhY2tIb3Jpem9udGFsLFxuICAgICAgICAgICAgICAgIHRyYWNrVmVydGljYWwgPSB0aGlzLnRyYWNrVmVydGljYWwsXG4gICAgICAgICAgICAgICAgdGh1bWJIb3Jpem9udGFsID0gdGhpcy50aHVtYkhvcml6b250YWwsXG4gICAgICAgICAgICAgICAgdGh1bWJWZXJ0aWNhbCA9IHRoaXMudGh1bWJWZXJ0aWNhbDtcblxuICAgICAgICAgICAgdmlldy5yZW1vdmVFdmVudExpc3RlbmVyKCdzY3JvbGwnLCB0aGlzLmhhbmRsZVNjcm9sbCk7XG4gICAgICAgICAgICBpZiAoISgwLCBfZ2V0U2Nyb2xsYmFyV2lkdGgyW1wiZGVmYXVsdFwiXSkoKSkgcmV0dXJuO1xuICAgICAgICAgICAgdHJhY2tIb3Jpem9udGFsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlZW50ZXInLCB0aGlzLmhhbmRsZVRyYWNrTW91c2VFbnRlcik7XG4gICAgICAgICAgICB0cmFja0hvcml6b250YWwucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2VsZWF2ZScsIHRoaXMuaGFuZGxlVHJhY2tNb3VzZUxlYXZlKTtcbiAgICAgICAgICAgIHRyYWNrSG9yaXpvbnRhbC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCB0aGlzLmhhbmRsZUhvcml6b250YWxUcmFja01vdXNlRG93bik7XG4gICAgICAgICAgICB0cmFja1ZlcnRpY2FsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlZW50ZXInLCB0aGlzLmhhbmRsZVRyYWNrTW91c2VFbnRlcik7XG4gICAgICAgICAgICB0cmFja1ZlcnRpY2FsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlbGVhdmUnLCB0aGlzLmhhbmRsZVRyYWNrTW91c2VMZWF2ZSk7XG4gICAgICAgICAgICB0cmFja1ZlcnRpY2FsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIHRoaXMuaGFuZGxlVmVydGljYWxUcmFja01vdXNlRG93bik7XG4gICAgICAgICAgICB0aHVtYkhvcml6b250YWwucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgdGhpcy5oYW5kbGVIb3Jpem9udGFsVGh1bWJNb3VzZURvd24pO1xuICAgICAgICAgICAgdGh1bWJWZXJ0aWNhbC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCB0aGlzLmhhbmRsZVZlcnRpY2FsVGh1bWJNb3VzZURvd24pO1xuICAgICAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHRoaXMuaGFuZGxlV2luZG93UmVzaXplKTtcbiAgICAgICAgICAgIC8vIFBvc3NpYmx5IHNldHVwIGJ5IGBoYW5kbGVEcmFnU3RhcnRgXG4gICAgICAgICAgICB0aGlzLnRlYXJkb3duRHJhZ2dpbmcoKTtcbiAgICAgICAgfVxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnaGFuZGxlU2Nyb2xsJyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGhhbmRsZVNjcm9sbChldmVudCkge1xuICAgICAgICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICAgICAgICAgIHZhciBfcHJvcHMzID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICAgICAgICBvblNjcm9sbCA9IF9wcm9wczMub25TY3JvbGwsXG4gICAgICAgICAgICAgICAgb25TY3JvbGxGcmFtZSA9IF9wcm9wczMub25TY3JvbGxGcmFtZTtcblxuICAgICAgICAgICAgaWYgKG9uU2Nyb2xsKSBvblNjcm9sbChldmVudCk7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZShmdW5jdGlvbiAodmFsdWVzKSB7XG4gICAgICAgICAgICAgICAgdmFyIHNjcm9sbExlZnQgPSB2YWx1ZXMuc2Nyb2xsTGVmdCxcbiAgICAgICAgICAgICAgICAgICAgc2Nyb2xsVG9wID0gdmFsdWVzLnNjcm9sbFRvcDtcblxuICAgICAgICAgICAgICAgIF90aGlzMi52aWV3U2Nyb2xsTGVmdCA9IHNjcm9sbExlZnQ7XG4gICAgICAgICAgICAgICAgX3RoaXMyLnZpZXdTY3JvbGxUb3AgPSBzY3JvbGxUb3A7XG4gICAgICAgICAgICAgICAgaWYgKG9uU2Nyb2xsRnJhbWUpIG9uU2Nyb2xsRnJhbWUodmFsdWVzKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdGhpcy5kZXRlY3RTY3JvbGxpbmcoKTtcbiAgICAgICAgfVxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnaGFuZGxlU2Nyb2xsU3RhcnQnLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gaGFuZGxlU2Nyb2xsU3RhcnQoKSB7XG4gICAgICAgICAgICB2YXIgb25TY3JvbGxTdGFydCA9IHRoaXMucHJvcHMub25TY3JvbGxTdGFydDtcblxuICAgICAgICAgICAgaWYgKG9uU2Nyb2xsU3RhcnQpIG9uU2Nyb2xsU3RhcnQoKTtcbiAgICAgICAgICAgIHRoaXMuaGFuZGxlU2Nyb2xsU3RhcnRBdXRvSGlkZSgpO1xuICAgICAgICB9XG4gICAgfSwge1xuICAgICAgICBrZXk6ICdoYW5kbGVTY3JvbGxTdGFydEF1dG9IaWRlJyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGhhbmRsZVNjcm9sbFN0YXJ0QXV0b0hpZGUoKSB7XG4gICAgICAgICAgICB2YXIgYXV0b0hpZGUgPSB0aGlzLnByb3BzLmF1dG9IaWRlO1xuXG4gICAgICAgICAgICBpZiAoIWF1dG9IaWRlKSByZXR1cm47XG4gICAgICAgICAgICB0aGlzLnNob3dUcmFja3MoKTtcbiAgICAgICAgfVxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnaGFuZGxlU2Nyb2xsU3RvcCcsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiBoYW5kbGVTY3JvbGxTdG9wKCkge1xuICAgICAgICAgICAgdmFyIG9uU2Nyb2xsU3RvcCA9IHRoaXMucHJvcHMub25TY3JvbGxTdG9wO1xuXG4gICAgICAgICAgICBpZiAob25TY3JvbGxTdG9wKSBvblNjcm9sbFN0b3AoKTtcbiAgICAgICAgICAgIHRoaXMuaGFuZGxlU2Nyb2xsU3RvcEF1dG9IaWRlKCk7XG4gICAgICAgIH1cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ2hhbmRsZVNjcm9sbFN0b3BBdXRvSGlkZScsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiBoYW5kbGVTY3JvbGxTdG9wQXV0b0hpZGUoKSB7XG4gICAgICAgICAgICB2YXIgYXV0b0hpZGUgPSB0aGlzLnByb3BzLmF1dG9IaWRlO1xuXG4gICAgICAgICAgICBpZiAoIWF1dG9IaWRlKSByZXR1cm47XG4gICAgICAgICAgICB0aGlzLmhpZGVUcmFja3MoKTtcbiAgICAgICAgfVxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnaGFuZGxlV2luZG93UmVzaXplJyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGhhbmRsZVdpbmRvd1Jlc2l6ZSgpIHtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlKCk7XG4gICAgICAgIH1cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ2hhbmRsZUhvcml6b250YWxUcmFja01vdXNlRG93bicsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiBoYW5kbGVIb3Jpem9udGFsVHJhY2tNb3VzZURvd24oZXZlbnQpIHtcbiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICB2YXIgdGFyZ2V0ID0gZXZlbnQudGFyZ2V0LFxuICAgICAgICAgICAgICAgIGNsaWVudFggPSBldmVudC5jbGllbnRYO1xuXG4gICAgICAgICAgICB2YXIgX3RhcmdldCRnZXRCb3VuZGluZ0NsID0gdGFyZ2V0LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLFxuICAgICAgICAgICAgICAgIHRhcmdldExlZnQgPSBfdGFyZ2V0JGdldEJvdW5kaW5nQ2wubGVmdDtcblxuICAgICAgICAgICAgdmFyIHRodW1iV2lkdGggPSB0aGlzLmdldFRodW1iSG9yaXpvbnRhbFdpZHRoKCk7XG4gICAgICAgICAgICB2YXIgb2Zmc2V0ID0gTWF0aC5hYnModGFyZ2V0TGVmdCAtIGNsaWVudFgpIC0gdGh1bWJXaWR0aCAvIDI7XG4gICAgICAgICAgICB0aGlzLnZpZXcuc2Nyb2xsTGVmdCA9IHRoaXMuZ2V0U2Nyb2xsTGVmdEZvck9mZnNldChvZmZzZXQpO1xuICAgICAgICB9XG4gICAgfSwge1xuICAgICAgICBrZXk6ICdoYW5kbGVWZXJ0aWNhbFRyYWNrTW91c2VEb3duJyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGhhbmRsZVZlcnRpY2FsVHJhY2tNb3VzZURvd24oZXZlbnQpIHtcbiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICB2YXIgdGFyZ2V0ID0gZXZlbnQudGFyZ2V0LFxuICAgICAgICAgICAgICAgIGNsaWVudFkgPSBldmVudC5jbGllbnRZO1xuXG4gICAgICAgICAgICB2YXIgX3RhcmdldCRnZXRCb3VuZGluZ0NsMiA9IHRhcmdldC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSxcbiAgICAgICAgICAgICAgICB0YXJnZXRUb3AgPSBfdGFyZ2V0JGdldEJvdW5kaW5nQ2wyLnRvcDtcblxuICAgICAgICAgICAgdmFyIHRodW1iSGVpZ2h0ID0gdGhpcy5nZXRUaHVtYlZlcnRpY2FsSGVpZ2h0KCk7XG4gICAgICAgICAgICB2YXIgb2Zmc2V0ID0gTWF0aC5hYnModGFyZ2V0VG9wIC0gY2xpZW50WSkgLSB0aHVtYkhlaWdodCAvIDI7XG4gICAgICAgICAgICB0aGlzLnZpZXcuc2Nyb2xsVG9wID0gdGhpcy5nZXRTY3JvbGxUb3BGb3JPZmZzZXQob2Zmc2V0KTtcbiAgICAgICAgfVxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnaGFuZGxlSG9yaXpvbnRhbFRodW1iTW91c2VEb3duJyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGhhbmRsZUhvcml6b250YWxUaHVtYk1vdXNlRG93bihldmVudCkge1xuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIHRoaXMuaGFuZGxlRHJhZ1N0YXJ0KGV2ZW50KTtcbiAgICAgICAgICAgIHZhciB0YXJnZXQgPSBldmVudC50YXJnZXQsXG4gICAgICAgICAgICAgICAgY2xpZW50WCA9IGV2ZW50LmNsaWVudFg7XG4gICAgICAgICAgICB2YXIgb2Zmc2V0V2lkdGggPSB0YXJnZXQub2Zmc2V0V2lkdGg7XG5cbiAgICAgICAgICAgIHZhciBfdGFyZ2V0JGdldEJvdW5kaW5nQ2wzID0gdGFyZ2V0LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLFxuICAgICAgICAgICAgICAgIGxlZnQgPSBfdGFyZ2V0JGdldEJvdW5kaW5nQ2wzLmxlZnQ7XG5cbiAgICAgICAgICAgIHRoaXMucHJldlBhZ2VYID0gb2Zmc2V0V2lkdGggLSAoY2xpZW50WCAtIGxlZnQpO1xuICAgICAgICB9XG4gICAgfSwge1xuICAgICAgICBrZXk6ICdoYW5kbGVWZXJ0aWNhbFRodW1iTW91c2VEb3duJyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGhhbmRsZVZlcnRpY2FsVGh1bWJNb3VzZURvd24oZXZlbnQpIHtcbiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICB0aGlzLmhhbmRsZURyYWdTdGFydChldmVudCk7XG4gICAgICAgICAgICB2YXIgdGFyZ2V0ID0gZXZlbnQudGFyZ2V0LFxuICAgICAgICAgICAgICAgIGNsaWVudFkgPSBldmVudC5jbGllbnRZO1xuICAgICAgICAgICAgdmFyIG9mZnNldEhlaWdodCA9IHRhcmdldC5vZmZzZXRIZWlnaHQ7XG5cbiAgICAgICAgICAgIHZhciBfdGFyZ2V0JGdldEJvdW5kaW5nQ2w0ID0gdGFyZ2V0LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLFxuICAgICAgICAgICAgICAgIHRvcCA9IF90YXJnZXQkZ2V0Qm91bmRpbmdDbDQudG9wO1xuXG4gICAgICAgICAgICB0aGlzLnByZXZQYWdlWSA9IG9mZnNldEhlaWdodCAtIChjbGllbnRZIC0gdG9wKTtcbiAgICAgICAgfVxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnc2V0dXBEcmFnZ2luZycsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiBzZXR1cERyYWdnaW5nKCkge1xuICAgICAgICAgICAgKDAsIF9kb21Dc3MyW1wiZGVmYXVsdFwiXSkoZG9jdW1lbnQuYm9keSwgX3N0eWxlcy5kaXNhYmxlU2VsZWN0U3R5bGUpO1xuICAgICAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgdGhpcy5oYW5kbGVEcmFnKTtcbiAgICAgICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCB0aGlzLmhhbmRsZURyYWdFbmQpO1xuICAgICAgICAgICAgZG9jdW1lbnQub25zZWxlY3RzdGFydCA9IF9yZXR1cm5GYWxzZTJbXCJkZWZhdWx0XCJdO1xuICAgICAgICB9XG4gICAgfSwge1xuICAgICAgICBrZXk6ICd0ZWFyZG93bkRyYWdnaW5nJyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHRlYXJkb3duRHJhZ2dpbmcoKSB7XG4gICAgICAgICAgICAoMCwgX2RvbUNzczJbXCJkZWZhdWx0XCJdKShkb2N1bWVudC5ib2R5LCBfc3R5bGVzLmRpc2FibGVTZWxlY3RTdHlsZVJlc2V0KTtcbiAgICAgICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIHRoaXMuaGFuZGxlRHJhZyk7XG4gICAgICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgdGhpcy5oYW5kbGVEcmFnRW5kKTtcbiAgICAgICAgICAgIGRvY3VtZW50Lm9uc2VsZWN0c3RhcnQgPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ2hhbmRsZURyYWdTdGFydCcsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiBoYW5kbGVEcmFnU3RhcnQoZXZlbnQpIHtcbiAgICAgICAgICAgIHRoaXMuZHJhZ2dpbmcgPSB0cnVlO1xuICAgICAgICAgICAgZXZlbnQuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgICB0aGlzLnNldHVwRHJhZ2dpbmcoKTtcbiAgICAgICAgfVxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnaGFuZGxlRHJhZycsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiBoYW5kbGVEcmFnKGV2ZW50KSB7XG4gICAgICAgICAgICBpZiAodGhpcy5wcmV2UGFnZVgpIHtcbiAgICAgICAgICAgICAgICB2YXIgY2xpZW50WCA9IGV2ZW50LmNsaWVudFg7XG5cbiAgICAgICAgICAgICAgICB2YXIgX3RyYWNrSG9yaXpvbnRhbCRnZXRCID0gdGhpcy50cmFja0hvcml6b250YWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksXG4gICAgICAgICAgICAgICAgICAgIHRyYWNrTGVmdCA9IF90cmFja0hvcml6b250YWwkZ2V0Qi5sZWZ0O1xuXG4gICAgICAgICAgICAgICAgdmFyIHRodW1iV2lkdGggPSB0aGlzLmdldFRodW1iSG9yaXpvbnRhbFdpZHRoKCk7XG4gICAgICAgICAgICAgICAgdmFyIGNsaWNrUG9zaXRpb24gPSB0aHVtYldpZHRoIC0gdGhpcy5wcmV2UGFnZVg7XG4gICAgICAgICAgICAgICAgdmFyIG9mZnNldCA9IC10cmFja0xlZnQgKyBjbGllbnRYIC0gY2xpY2tQb3NpdGlvbjtcbiAgICAgICAgICAgICAgICB0aGlzLnZpZXcuc2Nyb2xsTGVmdCA9IHRoaXMuZ2V0U2Nyb2xsTGVmdEZvck9mZnNldChvZmZzZXQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMucHJldlBhZ2VZKSB7XG4gICAgICAgICAgICAgICAgdmFyIGNsaWVudFkgPSBldmVudC5jbGllbnRZO1xuXG4gICAgICAgICAgICAgICAgdmFyIF90cmFja1ZlcnRpY2FsJGdldEJvdSA9IHRoaXMudHJhY2tWZXJ0aWNhbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSxcbiAgICAgICAgICAgICAgICAgICAgdHJhY2tUb3AgPSBfdHJhY2tWZXJ0aWNhbCRnZXRCb3UudG9wO1xuXG4gICAgICAgICAgICAgICAgdmFyIHRodW1iSGVpZ2h0ID0gdGhpcy5nZXRUaHVtYlZlcnRpY2FsSGVpZ2h0KCk7XG4gICAgICAgICAgICAgICAgdmFyIF9jbGlja1Bvc2l0aW9uID0gdGh1bWJIZWlnaHQgLSB0aGlzLnByZXZQYWdlWTtcbiAgICAgICAgICAgICAgICB2YXIgX29mZnNldCA9IC10cmFja1RvcCArIGNsaWVudFkgLSBfY2xpY2tQb3NpdGlvbjtcbiAgICAgICAgICAgICAgICB0aGlzLnZpZXcuc2Nyb2xsVG9wID0gdGhpcy5nZXRTY3JvbGxUb3BGb3JPZmZzZXQoX29mZnNldCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ2hhbmRsZURyYWdFbmQnLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gaGFuZGxlRHJhZ0VuZCgpIHtcbiAgICAgICAgICAgIHRoaXMuZHJhZ2dpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMucHJldlBhZ2VYID0gdGhpcy5wcmV2UGFnZVkgPSAwO1xuICAgICAgICAgICAgdGhpcy50ZWFyZG93bkRyYWdnaW5nKCk7XG4gICAgICAgICAgICB0aGlzLmhhbmRsZURyYWdFbmRBdXRvSGlkZSgpO1xuICAgICAgICB9XG4gICAgfSwge1xuICAgICAgICBrZXk6ICdoYW5kbGVEcmFnRW5kQXV0b0hpZGUnLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gaGFuZGxlRHJhZ0VuZEF1dG9IaWRlKCkge1xuICAgICAgICAgICAgdmFyIGF1dG9IaWRlID0gdGhpcy5wcm9wcy5hdXRvSGlkZTtcblxuICAgICAgICAgICAgaWYgKCFhdXRvSGlkZSkgcmV0dXJuO1xuICAgICAgICAgICAgdGhpcy5oaWRlVHJhY2tzKCk7XG4gICAgICAgIH1cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ2hhbmRsZVRyYWNrTW91c2VFbnRlcicsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiBoYW5kbGVUcmFja01vdXNlRW50ZXIoKSB7XG4gICAgICAgICAgICB0aGlzLnRyYWNrTW91c2VPdmVyID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMuaGFuZGxlVHJhY2tNb3VzZUVudGVyQXV0b0hpZGUoKTtcbiAgICAgICAgfVxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnaGFuZGxlVHJhY2tNb3VzZUVudGVyQXV0b0hpZGUnLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gaGFuZGxlVHJhY2tNb3VzZUVudGVyQXV0b0hpZGUoKSB7XG4gICAgICAgICAgICB2YXIgYXV0b0hpZGUgPSB0aGlzLnByb3BzLmF1dG9IaWRlO1xuXG4gICAgICAgICAgICBpZiAoIWF1dG9IaWRlKSByZXR1cm47XG4gICAgICAgICAgICB0aGlzLnNob3dUcmFja3MoKTtcbiAgICAgICAgfVxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnaGFuZGxlVHJhY2tNb3VzZUxlYXZlJyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGhhbmRsZVRyYWNrTW91c2VMZWF2ZSgpIHtcbiAgICAgICAgICAgIHRoaXMudHJhY2tNb3VzZU92ZXIgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMuaGFuZGxlVHJhY2tNb3VzZUxlYXZlQXV0b0hpZGUoKTtcbiAgICAgICAgfVxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnaGFuZGxlVHJhY2tNb3VzZUxlYXZlQXV0b0hpZGUnLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gaGFuZGxlVHJhY2tNb3VzZUxlYXZlQXV0b0hpZGUoKSB7XG4gICAgICAgICAgICB2YXIgYXV0b0hpZGUgPSB0aGlzLnByb3BzLmF1dG9IaWRlO1xuXG4gICAgICAgICAgICBpZiAoIWF1dG9IaWRlKSByZXR1cm47XG4gICAgICAgICAgICB0aGlzLmhpZGVUcmFja3MoKTtcbiAgICAgICAgfVxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnc2hvd1RyYWNrcycsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiBzaG93VHJhY2tzKCkge1xuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuaGlkZVRyYWNrc1RpbWVvdXQpO1xuICAgICAgICAgICAgKDAsIF9kb21Dc3MyW1wiZGVmYXVsdFwiXSkodGhpcy50cmFja0hvcml6b250YWwsIHsgb3BhY2l0eTogMSB9KTtcbiAgICAgICAgICAgICgwLCBfZG9tQ3NzMltcImRlZmF1bHRcIl0pKHRoaXMudHJhY2tWZXJ0aWNhbCwgeyBvcGFjaXR5OiAxIH0pO1xuICAgICAgICB9XG4gICAgfSwge1xuICAgICAgICBrZXk6ICdoaWRlVHJhY2tzJyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGhpZGVUcmFja3MoKSB7XG4gICAgICAgICAgICB2YXIgX3RoaXMzID0gdGhpcztcblxuICAgICAgICAgICAgaWYgKHRoaXMuZHJhZ2dpbmcpIHJldHVybjtcbiAgICAgICAgICAgIGlmICh0aGlzLnNjcm9sbGluZykgcmV0dXJuO1xuICAgICAgICAgICAgaWYgKHRoaXMudHJhY2tNb3VzZU92ZXIpIHJldHVybjtcbiAgICAgICAgICAgIHZhciBhdXRvSGlkZVRpbWVvdXQgPSB0aGlzLnByb3BzLmF1dG9IaWRlVGltZW91dDtcblxuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuaGlkZVRyYWNrc1RpbWVvdXQpO1xuICAgICAgICAgICAgdGhpcy5oaWRlVHJhY2tzVGltZW91dCA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICgwLCBfZG9tQ3NzMltcImRlZmF1bHRcIl0pKF90aGlzMy50cmFja0hvcml6b250YWwsIHsgb3BhY2l0eTogMCB9KTtcbiAgICAgICAgICAgICAgICAoMCwgX2RvbUNzczJbXCJkZWZhdWx0XCJdKShfdGhpczMudHJhY2tWZXJ0aWNhbCwgeyBvcGFjaXR5OiAwIH0pO1xuICAgICAgICAgICAgfSwgYXV0b0hpZGVUaW1lb3V0KTtcbiAgICAgICAgfVxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnZGV0ZWN0U2Nyb2xsaW5nJyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGRldGVjdFNjcm9sbGluZygpIHtcbiAgICAgICAgICAgIHZhciBfdGhpczQgPSB0aGlzO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5zY3JvbGxpbmcpIHJldHVybjtcbiAgICAgICAgICAgIHRoaXMuc2Nyb2xsaW5nID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMuaGFuZGxlU2Nyb2xsU3RhcnQoKTtcbiAgICAgICAgICAgIHRoaXMuZGV0ZWN0U2Nyb2xsaW5nSW50ZXJ2YWwgPSBzZXRJbnRlcnZhbChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgaWYgKF90aGlzNC5sYXN0Vmlld1Njcm9sbExlZnQgPT09IF90aGlzNC52aWV3U2Nyb2xsTGVmdCAmJiBfdGhpczQubGFzdFZpZXdTY3JvbGxUb3AgPT09IF90aGlzNC52aWV3U2Nyb2xsVG9wKSB7XG4gICAgICAgICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwoX3RoaXM0LmRldGVjdFNjcm9sbGluZ0ludGVydmFsKTtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXM0LnNjcm9sbGluZyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICBfdGhpczQuaGFuZGxlU2Nyb2xsU3RvcCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBfdGhpczQubGFzdFZpZXdTY3JvbGxMZWZ0ID0gX3RoaXM0LnZpZXdTY3JvbGxMZWZ0O1xuICAgICAgICAgICAgICAgIF90aGlzNC5sYXN0Vmlld1Njcm9sbFRvcCA9IF90aGlzNC52aWV3U2Nyb2xsVG9wO1xuICAgICAgICAgICAgfSwgMTAwKTtcbiAgICAgICAgfVxuICAgIH0sIHtcbiAgICAgICAga2V5OiAncmFmJyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHJhZihjYWxsYmFjaykge1xuICAgICAgICAgICAgdmFyIF90aGlzNSA9IHRoaXM7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLnJlcXVlc3RGcmFtZSkgX3JhZjNbXCJkZWZhdWx0XCJdLmNhbmNlbCh0aGlzLnJlcXVlc3RGcmFtZSk7XG4gICAgICAgICAgICB0aGlzLnJlcXVlc3RGcmFtZSA9ICgwLCBfcmFmM1tcImRlZmF1bHRcIl0pKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBfdGhpczUucmVxdWVzdEZyYW1lID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIGNhbGxiYWNrKCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH0sIHtcbiAgICAgICAga2V5OiAndXBkYXRlJyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHVwZGF0ZShjYWxsYmFjaykge1xuICAgICAgICAgICAgdmFyIF90aGlzNiA9IHRoaXM7XG5cbiAgICAgICAgICAgIHRoaXMucmFmKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXM2Ll91cGRhdGUoY2FsbGJhY2spO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ191cGRhdGUnLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gX3VwZGF0ZShjYWxsYmFjaykge1xuICAgICAgICAgICAgdmFyIF9wcm9wczQgPSB0aGlzLnByb3BzLFxuICAgICAgICAgICAgICAgIG9uVXBkYXRlID0gX3Byb3BzNC5vblVwZGF0ZSxcbiAgICAgICAgICAgICAgICBoaWRlVHJhY2tzV2hlbk5vdE5lZWRlZCA9IF9wcm9wczQuaGlkZVRyYWNrc1doZW5Ob3ROZWVkZWQ7XG5cbiAgICAgICAgICAgIHZhciB2YWx1ZXMgPSB0aGlzLmdldFZhbHVlcygpO1xuICAgICAgICAgICAgaWYgKCgwLCBfZ2V0U2Nyb2xsYmFyV2lkdGgyW1wiZGVmYXVsdFwiXSkoKSkge1xuICAgICAgICAgICAgICAgIHZhciBzY3JvbGxMZWZ0ID0gdmFsdWVzLnNjcm9sbExlZnQsXG4gICAgICAgICAgICAgICAgICAgIGNsaWVudFdpZHRoID0gdmFsdWVzLmNsaWVudFdpZHRoLFxuICAgICAgICAgICAgICAgICAgICBzY3JvbGxXaWR0aCA9IHZhbHVlcy5zY3JvbGxXaWR0aDtcblxuICAgICAgICAgICAgICAgIHZhciB0cmFja0hvcml6b250YWxXaWR0aCA9ICgwLCBfZ2V0SW5uZXJXaWR0aDJbXCJkZWZhdWx0XCJdKSh0aGlzLnRyYWNrSG9yaXpvbnRhbCk7XG4gICAgICAgICAgICAgICAgdmFyIHRodW1iSG9yaXpvbnRhbFdpZHRoID0gdGhpcy5nZXRUaHVtYkhvcml6b250YWxXaWR0aCgpO1xuICAgICAgICAgICAgICAgIHZhciB0aHVtYkhvcml6b250YWxYID0gc2Nyb2xsTGVmdCAvIChzY3JvbGxXaWR0aCAtIGNsaWVudFdpZHRoKSAqICh0cmFja0hvcml6b250YWxXaWR0aCAtIHRodW1iSG9yaXpvbnRhbFdpZHRoKTtcbiAgICAgICAgICAgICAgICB2YXIgdGh1bWJIb3Jpem9udGFsU3R5bGUgPSB7XG4gICAgICAgICAgICAgICAgICAgIHdpZHRoOiB0aHVtYkhvcml6b250YWxXaWR0aCxcbiAgICAgICAgICAgICAgICAgICAgdHJhbnNmb3JtOiAndHJhbnNsYXRlWCgnICsgdGh1bWJIb3Jpem9udGFsWCArICdweCknXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB2YXIgc2Nyb2xsVG9wID0gdmFsdWVzLnNjcm9sbFRvcCxcbiAgICAgICAgICAgICAgICAgICAgY2xpZW50SGVpZ2h0ID0gdmFsdWVzLmNsaWVudEhlaWdodCxcbiAgICAgICAgICAgICAgICAgICAgc2Nyb2xsSGVpZ2h0ID0gdmFsdWVzLnNjcm9sbEhlaWdodDtcblxuICAgICAgICAgICAgICAgIHZhciB0cmFja1ZlcnRpY2FsSGVpZ2h0ID0gKDAsIF9nZXRJbm5lckhlaWdodDJbXCJkZWZhdWx0XCJdKSh0aGlzLnRyYWNrVmVydGljYWwpO1xuICAgICAgICAgICAgICAgIHZhciB0aHVtYlZlcnRpY2FsSGVpZ2h0ID0gdGhpcy5nZXRUaHVtYlZlcnRpY2FsSGVpZ2h0KCk7XG4gICAgICAgICAgICAgICAgdmFyIHRodW1iVmVydGljYWxZID0gc2Nyb2xsVG9wIC8gKHNjcm9sbEhlaWdodCAtIGNsaWVudEhlaWdodCkgKiAodHJhY2tWZXJ0aWNhbEhlaWdodCAtIHRodW1iVmVydGljYWxIZWlnaHQpO1xuICAgICAgICAgICAgICAgIHZhciB0aHVtYlZlcnRpY2FsU3R5bGUgPSB7XG4gICAgICAgICAgICAgICAgICAgIGhlaWdodDogdGh1bWJWZXJ0aWNhbEhlaWdodCxcbiAgICAgICAgICAgICAgICAgICAgdHJhbnNmb3JtOiAndHJhbnNsYXRlWSgnICsgdGh1bWJWZXJ0aWNhbFkgKyAncHgpJ1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgaWYgKGhpZGVUcmFja3NXaGVuTm90TmVlZGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciB0cmFja0hvcml6b250YWxTdHlsZSA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZpc2liaWxpdHk6IHNjcm9sbFdpZHRoID4gY2xpZW50V2lkdGggPyAndmlzaWJsZScgOiAnaGlkZGVuJ1xuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICB2YXIgdHJhY2tWZXJ0aWNhbFN0eWxlID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmlzaWJpbGl0eTogc2Nyb2xsSGVpZ2h0ID4gY2xpZW50SGVpZ2h0ID8gJ3Zpc2libGUnIDogJ2hpZGRlbidcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgKDAsIF9kb21Dc3MyW1wiZGVmYXVsdFwiXSkodGhpcy50cmFja0hvcml6b250YWwsIHRyYWNrSG9yaXpvbnRhbFN0eWxlKTtcbiAgICAgICAgICAgICAgICAgICAgKDAsIF9kb21Dc3MyW1wiZGVmYXVsdFwiXSkodGhpcy50cmFja1ZlcnRpY2FsLCB0cmFja1ZlcnRpY2FsU3R5bGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAoMCwgX2RvbUNzczJbXCJkZWZhdWx0XCJdKSh0aGlzLnRodW1iSG9yaXpvbnRhbCwgdGh1bWJIb3Jpem9udGFsU3R5bGUpO1xuICAgICAgICAgICAgICAgICgwLCBfZG9tQ3NzMltcImRlZmF1bHRcIl0pKHRoaXMudGh1bWJWZXJ0aWNhbCwgdGh1bWJWZXJ0aWNhbFN0eWxlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChvblVwZGF0ZSkgb25VcGRhdGUodmFsdWVzKTtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgY2FsbGJhY2sgIT09ICdmdW5jdGlvbicpIHJldHVybjtcbiAgICAgICAgICAgIGNhbGxiYWNrKHZhbHVlcyk7XG4gICAgICAgIH1cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ3JlbmRlcicsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICAgICAgICB2YXIgX3RoaXM3ID0gdGhpcztcblxuICAgICAgICAgICAgdmFyIHNjcm9sbGJhcldpZHRoID0gKDAsIF9nZXRTY3JvbGxiYXJXaWR0aDJbXCJkZWZhdWx0XCJdKSgpO1xuICAgICAgICAgICAgLyogZXNsaW50LWRpc2FibGUgbm8tdW51c2VkLXZhcnMgKi9cblxuICAgICAgICAgICAgdmFyIF9wcm9wczUgPSB0aGlzLnByb3BzLFxuICAgICAgICAgICAgICAgIG9uU2Nyb2xsID0gX3Byb3BzNS5vblNjcm9sbCxcbiAgICAgICAgICAgICAgICBvblNjcm9sbEZyYW1lID0gX3Byb3BzNS5vblNjcm9sbEZyYW1lLFxuICAgICAgICAgICAgICAgIG9uU2Nyb2xsU3RhcnQgPSBfcHJvcHM1Lm9uU2Nyb2xsU3RhcnQsXG4gICAgICAgICAgICAgICAgb25TY3JvbGxTdG9wID0gX3Byb3BzNS5vblNjcm9sbFN0b3AsXG4gICAgICAgICAgICAgICAgb25VcGRhdGUgPSBfcHJvcHM1Lm9uVXBkYXRlLFxuICAgICAgICAgICAgICAgIHJlbmRlclZpZXcgPSBfcHJvcHM1LnJlbmRlclZpZXcsXG4gICAgICAgICAgICAgICAgcmVuZGVyVHJhY2tIb3Jpem9udGFsID0gX3Byb3BzNS5yZW5kZXJUcmFja0hvcml6b250YWwsXG4gICAgICAgICAgICAgICAgcmVuZGVyVHJhY2tWZXJ0aWNhbCA9IF9wcm9wczUucmVuZGVyVHJhY2tWZXJ0aWNhbCxcbiAgICAgICAgICAgICAgICByZW5kZXJUaHVtYkhvcml6b250YWwgPSBfcHJvcHM1LnJlbmRlclRodW1iSG9yaXpvbnRhbCxcbiAgICAgICAgICAgICAgICByZW5kZXJUaHVtYlZlcnRpY2FsID0gX3Byb3BzNS5yZW5kZXJUaHVtYlZlcnRpY2FsLFxuICAgICAgICAgICAgICAgIHRhZ05hbWUgPSBfcHJvcHM1LnRhZ05hbWUsXG4gICAgICAgICAgICAgICAgaGlkZVRyYWNrc1doZW5Ob3ROZWVkZWQgPSBfcHJvcHM1LmhpZGVUcmFja3NXaGVuTm90TmVlZGVkLFxuICAgICAgICAgICAgICAgIGF1dG9IaWRlID0gX3Byb3BzNS5hdXRvSGlkZSxcbiAgICAgICAgICAgICAgICBhdXRvSGlkZVRpbWVvdXQgPSBfcHJvcHM1LmF1dG9IaWRlVGltZW91dCxcbiAgICAgICAgICAgICAgICBhdXRvSGlkZUR1cmF0aW9uID0gX3Byb3BzNS5hdXRvSGlkZUR1cmF0aW9uLFxuICAgICAgICAgICAgICAgIHRodW1iU2l6ZSA9IF9wcm9wczUudGh1bWJTaXplLFxuICAgICAgICAgICAgICAgIHRodW1iTWluU2l6ZSA9IF9wcm9wczUudGh1bWJNaW5TaXplLFxuICAgICAgICAgICAgICAgIHVuaXZlcnNhbCA9IF9wcm9wczUudW5pdmVyc2FsLFxuICAgICAgICAgICAgICAgIGF1dG9IZWlnaHQgPSBfcHJvcHM1LmF1dG9IZWlnaHQsXG4gICAgICAgICAgICAgICAgYXV0b0hlaWdodE1pbiA9IF9wcm9wczUuYXV0b0hlaWdodE1pbixcbiAgICAgICAgICAgICAgICBhdXRvSGVpZ2h0TWF4ID0gX3Byb3BzNS5hdXRvSGVpZ2h0TWF4LFxuICAgICAgICAgICAgICAgIHN0eWxlID0gX3Byb3BzNS5zdHlsZSxcbiAgICAgICAgICAgICAgICBjaGlsZHJlbiA9IF9wcm9wczUuY2hpbGRyZW4sXG4gICAgICAgICAgICAgICAgcHJvcHMgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMoX3Byb3BzNSwgWydvblNjcm9sbCcsICdvblNjcm9sbEZyYW1lJywgJ29uU2Nyb2xsU3RhcnQnLCAnb25TY3JvbGxTdG9wJywgJ29uVXBkYXRlJywgJ3JlbmRlclZpZXcnLCAncmVuZGVyVHJhY2tIb3Jpem9udGFsJywgJ3JlbmRlclRyYWNrVmVydGljYWwnLCAncmVuZGVyVGh1bWJIb3Jpem9udGFsJywgJ3JlbmRlclRodW1iVmVydGljYWwnLCAndGFnTmFtZScsICdoaWRlVHJhY2tzV2hlbk5vdE5lZWRlZCcsICdhdXRvSGlkZScsICdhdXRvSGlkZVRpbWVvdXQnLCAnYXV0b0hpZGVEdXJhdGlvbicsICd0aHVtYlNpemUnLCAndGh1bWJNaW5TaXplJywgJ3VuaXZlcnNhbCcsICdhdXRvSGVpZ2h0JywgJ2F1dG9IZWlnaHRNaW4nLCAnYXV0b0hlaWdodE1heCcsICdzdHlsZScsICdjaGlsZHJlbiddKTtcbiAgICAgICAgICAgIC8qIGVzbGludC1lbmFibGUgbm8tdW51c2VkLXZhcnMgKi9cblxuICAgICAgICAgICAgdmFyIGRpZE1vdW50VW5pdmVyc2FsID0gdGhpcy5zdGF0ZS5kaWRNb3VudFVuaXZlcnNhbDtcblxuXG4gICAgICAgICAgICB2YXIgY29udGFpbmVyU3R5bGUgPSBfZXh0ZW5kcyh7fSwgX3N0eWxlcy5jb250YWluZXJTdHlsZURlZmF1bHQsIGF1dG9IZWlnaHQgJiYgX2V4dGVuZHMoe30sIF9zdHlsZXMuY29udGFpbmVyU3R5bGVBdXRvSGVpZ2h0LCB7XG4gICAgICAgICAgICAgICAgbWluSGVpZ2h0OiBhdXRvSGVpZ2h0TWluLFxuICAgICAgICAgICAgICAgIG1heEhlaWdodDogYXV0b0hlaWdodE1heFxuICAgICAgICAgICAgfSksIHN0eWxlKTtcblxuICAgICAgICAgICAgdmFyIHZpZXdTdHlsZSA9IF9leHRlbmRzKHt9LCBfc3R5bGVzLnZpZXdTdHlsZURlZmF1bHQsIHtcbiAgICAgICAgICAgICAgICAvLyBIaWRlIHNjcm9sbGJhcnMgYnkgc2V0dGluZyBhIG5lZ2F0aXZlIG1hcmdpblxuICAgICAgICAgICAgICAgIG1hcmdpblJpZ2h0OiBzY3JvbGxiYXJXaWR0aCA/IC1zY3JvbGxiYXJXaWR0aCA6IDAsXG4gICAgICAgICAgICAgICAgbWFyZ2luQm90dG9tOiBzY3JvbGxiYXJXaWR0aCA/IC1zY3JvbGxiYXJXaWR0aCA6IDBcbiAgICAgICAgICAgIH0sIGF1dG9IZWlnaHQgJiYgX2V4dGVuZHMoe30sIF9zdHlsZXMudmlld1N0eWxlQXV0b0hlaWdodCwge1xuICAgICAgICAgICAgICAgIC8vIEFkZCBzY3JvbGxiYXJXaWR0aCB0byBhdXRvSGVpZ2h0IGluIG9yZGVyIHRvIGNvbXBlbnNhdGUgbmVnYXRpdmUgbWFyZ2luc1xuICAgICAgICAgICAgICAgIG1pbkhlaWdodDogKDAsIF9pc1N0cmluZzJbXCJkZWZhdWx0XCJdKShhdXRvSGVpZ2h0TWluKSA/ICdjYWxjKCcgKyBhdXRvSGVpZ2h0TWluICsgJyArICcgKyBzY3JvbGxiYXJXaWR0aCArICdweCknIDogYXV0b0hlaWdodE1pbiArIHNjcm9sbGJhcldpZHRoLFxuICAgICAgICAgICAgICAgIG1heEhlaWdodDogKDAsIF9pc1N0cmluZzJbXCJkZWZhdWx0XCJdKShhdXRvSGVpZ2h0TWF4KSA/ICdjYWxjKCcgKyBhdXRvSGVpZ2h0TWF4ICsgJyArICcgKyBzY3JvbGxiYXJXaWR0aCArICdweCknIDogYXV0b0hlaWdodE1heCArIHNjcm9sbGJhcldpZHRoXG4gICAgICAgICAgICB9KSwgYXV0b0hlaWdodCAmJiB1bml2ZXJzYWwgJiYgIWRpZE1vdW50VW5pdmVyc2FsICYmIHtcbiAgICAgICAgICAgICAgICBtaW5IZWlnaHQ6IGF1dG9IZWlnaHRNaW4sXG4gICAgICAgICAgICAgICAgbWF4SGVpZ2h0OiBhdXRvSGVpZ2h0TWF4XG4gICAgICAgICAgICB9LCB1bml2ZXJzYWwgJiYgIWRpZE1vdW50VW5pdmVyc2FsICYmIF9zdHlsZXMudmlld1N0eWxlVW5pdmVyc2FsSW5pdGlhbCk7XG5cbiAgICAgICAgICAgIHZhciB0cmFja0F1dG9IZWlnaHRTdHlsZSA9IHtcbiAgICAgICAgICAgICAgICB0cmFuc2l0aW9uOiAnb3BhY2l0eSAnICsgYXV0b0hpZGVEdXJhdGlvbiArICdtcycsXG4gICAgICAgICAgICAgICAgb3BhY2l0eTogMFxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgdmFyIHRyYWNrSG9yaXpvbnRhbFN0eWxlID0gX2V4dGVuZHMoe30sIF9zdHlsZXMudHJhY2tIb3Jpem9udGFsU3R5bGVEZWZhdWx0LCBhdXRvSGlkZSAmJiB0cmFja0F1dG9IZWlnaHRTdHlsZSwgKCFzY3JvbGxiYXJXaWR0aCB8fCB1bml2ZXJzYWwgJiYgIWRpZE1vdW50VW5pdmVyc2FsKSAmJiB7XG4gICAgICAgICAgICAgICAgZGlzcGxheTogJ25vbmUnXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgdmFyIHRyYWNrVmVydGljYWxTdHlsZSA9IF9leHRlbmRzKHt9LCBfc3R5bGVzLnRyYWNrVmVydGljYWxTdHlsZURlZmF1bHQsIGF1dG9IaWRlICYmIHRyYWNrQXV0b0hlaWdodFN0eWxlLCAoIXNjcm9sbGJhcldpZHRoIHx8IHVuaXZlcnNhbCAmJiAhZGlkTW91bnRVbml2ZXJzYWwpICYmIHtcbiAgICAgICAgICAgICAgICBkaXNwbGF5OiAnbm9uZSdcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICByZXR1cm4gKDAsIF9yZWFjdC5jcmVhdGVFbGVtZW50KSh0YWdOYW1lLCBfZXh0ZW5kcyh7fSwgcHJvcHMsIHsgc3R5bGU6IGNvbnRhaW5lclN0eWxlLCByZWY6IGZ1bmN0aW9uIHJlZihfcmVmMykge1xuICAgICAgICAgICAgICAgICAgICBfdGhpczcuY29udGFpbmVyID0gX3JlZjM7XG4gICAgICAgICAgICAgICAgfSB9KSwgWygwLCBfcmVhY3QuY2xvbmVFbGVtZW50KShyZW5kZXJWaWV3KHsgc3R5bGU6IHZpZXdTdHlsZSB9KSwgeyBrZXk6ICd2aWV3JywgcmVmOiBmdW5jdGlvbiByZWYoX3JlZjQpIHtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXM3LnZpZXcgPSBfcmVmNDtcbiAgICAgICAgICAgICAgICB9IH0sIGNoaWxkcmVuKSwgKDAsIF9yZWFjdC5jbG9uZUVsZW1lbnQpKHJlbmRlclRyYWNrSG9yaXpvbnRhbCh7IHN0eWxlOiB0cmFja0hvcml6b250YWxTdHlsZSB9KSwgeyBrZXk6ICd0cmFja0hvcml6b250YWwnLCByZWY6IGZ1bmN0aW9uIHJlZihfcmVmNSkge1xuICAgICAgICAgICAgICAgICAgICBfdGhpczcudHJhY2tIb3Jpem9udGFsID0gX3JlZjU7XG4gICAgICAgICAgICAgICAgfSB9LCAoMCwgX3JlYWN0LmNsb25lRWxlbWVudCkocmVuZGVyVGh1bWJIb3Jpem9udGFsKHsgc3R5bGU6IF9zdHlsZXMudGh1bWJIb3Jpem9udGFsU3R5bGVEZWZhdWx0IH0pLCB7IHJlZjogZnVuY3Rpb24gcmVmKF9yZWY2KSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzNy50aHVtYkhvcml6b250YWwgPSBfcmVmNjtcbiAgICAgICAgICAgICAgICB9IH0pKSwgKDAsIF9yZWFjdC5jbG9uZUVsZW1lbnQpKHJlbmRlclRyYWNrVmVydGljYWwoeyBzdHlsZTogdHJhY2tWZXJ0aWNhbFN0eWxlIH0pLCB7IGtleTogJ3RyYWNrVmVydGljYWwnLCByZWY6IGZ1bmN0aW9uIHJlZihfcmVmNykge1xuICAgICAgICAgICAgICAgICAgICBfdGhpczcudHJhY2tWZXJ0aWNhbCA9IF9yZWY3O1xuICAgICAgICAgICAgICAgIH0gfSwgKDAsIF9yZWFjdC5jbG9uZUVsZW1lbnQpKHJlbmRlclRodW1iVmVydGljYWwoeyBzdHlsZTogX3N0eWxlcy50aHVtYlZlcnRpY2FsU3R5bGVEZWZhdWx0IH0pLCB7IHJlZjogZnVuY3Rpb24gcmVmKF9yZWY4KSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzNy50aHVtYlZlcnRpY2FsID0gX3JlZjg7XG4gICAgICAgICAgICAgICAgfSB9KSldKTtcbiAgICAgICAgfVxuICAgIH1dKTtcblxuICAgIHJldHVybiBTY3JvbGxiYXJzO1xufShfcmVhY3QuQ29tcG9uZW50KTtcblxuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBTY3JvbGxiYXJzO1xuXG5cblNjcm9sbGJhcnMucHJvcFR5cGVzID0ge1xuICAgIG9uU2Nyb2xsOiBfcHJvcFR5cGVzMltcImRlZmF1bHRcIl0uZnVuYyxcbiAgICBvblNjcm9sbEZyYW1lOiBfcHJvcFR5cGVzMltcImRlZmF1bHRcIl0uZnVuYyxcbiAgICBvblNjcm9sbFN0YXJ0OiBfcHJvcFR5cGVzMltcImRlZmF1bHRcIl0uZnVuYyxcbiAgICBvblNjcm9sbFN0b3A6IF9wcm9wVHlwZXMyW1wiZGVmYXVsdFwiXS5mdW5jLFxuICAgIG9uVXBkYXRlOiBfcHJvcFR5cGVzMltcImRlZmF1bHRcIl0uZnVuYyxcbiAgICByZW5kZXJWaWV3OiBfcHJvcFR5cGVzMltcImRlZmF1bHRcIl0uZnVuYyxcbiAgICByZW5kZXJUcmFja0hvcml6b250YWw6IF9wcm9wVHlwZXMyW1wiZGVmYXVsdFwiXS5mdW5jLFxuICAgIHJlbmRlclRyYWNrVmVydGljYWw6IF9wcm9wVHlwZXMyW1wiZGVmYXVsdFwiXS5mdW5jLFxuICAgIHJlbmRlclRodW1iSG9yaXpvbnRhbDogX3Byb3BUeXBlczJbXCJkZWZhdWx0XCJdLmZ1bmMsXG4gICAgcmVuZGVyVGh1bWJWZXJ0aWNhbDogX3Byb3BUeXBlczJbXCJkZWZhdWx0XCJdLmZ1bmMsXG4gICAgdGFnTmFtZTogX3Byb3BUeXBlczJbXCJkZWZhdWx0XCJdLnN0cmluZyxcbiAgICB0aHVtYlNpemU6IF9wcm9wVHlwZXMyW1wiZGVmYXVsdFwiXS5udW1iZXIsXG4gICAgdGh1bWJNaW5TaXplOiBfcHJvcFR5cGVzMltcImRlZmF1bHRcIl0ubnVtYmVyLFxuICAgIGhpZGVUcmFja3NXaGVuTm90TmVlZGVkOiBfcHJvcFR5cGVzMltcImRlZmF1bHRcIl0uYm9vbCxcbiAgICBhdXRvSGlkZTogX3Byb3BUeXBlczJbXCJkZWZhdWx0XCJdLmJvb2wsXG4gICAgYXV0b0hpZGVUaW1lb3V0OiBfcHJvcFR5cGVzMltcImRlZmF1bHRcIl0ubnVtYmVyLFxuICAgIGF1dG9IaWRlRHVyYXRpb246IF9wcm9wVHlwZXMyW1wiZGVmYXVsdFwiXS5udW1iZXIsXG4gICAgYXV0b0hlaWdodDogX3Byb3BUeXBlczJbXCJkZWZhdWx0XCJdLmJvb2wsXG4gICAgYXV0b0hlaWdodE1pbjogX3Byb3BUeXBlczJbXCJkZWZhdWx0XCJdLm9uZU9mVHlwZShbX3Byb3BUeXBlczJbXCJkZWZhdWx0XCJdLm51bWJlciwgX3Byb3BUeXBlczJbXCJkZWZhdWx0XCJdLnN0cmluZ10pLFxuICAgIGF1dG9IZWlnaHRNYXg6IF9wcm9wVHlwZXMyW1wiZGVmYXVsdFwiXS5vbmVPZlR5cGUoW19wcm9wVHlwZXMyW1wiZGVmYXVsdFwiXS5udW1iZXIsIF9wcm9wVHlwZXMyW1wiZGVmYXVsdFwiXS5zdHJpbmddKSxcbiAgICB1bml2ZXJzYWw6IF9wcm9wVHlwZXMyW1wiZGVmYXVsdFwiXS5ib29sLFxuICAgIHN0eWxlOiBfcHJvcFR5cGVzMltcImRlZmF1bHRcIl0ub2JqZWN0LFxuICAgIGNoaWxkcmVuOiBfcHJvcFR5cGVzMltcImRlZmF1bHRcIl0ubm9kZVxufTtcblxuU2Nyb2xsYmFycy5kZWZhdWx0UHJvcHMgPSB7XG4gICAgcmVuZGVyVmlldzogX2RlZmF1bHRSZW5kZXJFbGVtZW50cy5yZW5kZXJWaWV3RGVmYXVsdCxcbiAgICByZW5kZXJUcmFja0hvcml6b250YWw6IF9kZWZhdWx0UmVuZGVyRWxlbWVudHMucmVuZGVyVHJhY2tIb3Jpem9udGFsRGVmYXVsdCxcbiAgICByZW5kZXJUcmFja1ZlcnRpY2FsOiBfZGVmYXVsdFJlbmRlckVsZW1lbnRzLnJlbmRlclRyYWNrVmVydGljYWxEZWZhdWx0LFxuICAgIHJlbmRlclRodW1iSG9yaXpvbnRhbDogX2RlZmF1bHRSZW5kZXJFbGVtZW50cy5yZW5kZXJUaHVtYkhvcml6b250YWxEZWZhdWx0LFxuICAgIHJlbmRlclRodW1iVmVydGljYWw6IF9kZWZhdWx0UmVuZGVyRWxlbWVudHMucmVuZGVyVGh1bWJWZXJ0aWNhbERlZmF1bHQsXG4gICAgdGFnTmFtZTogJ2RpdicsXG4gICAgdGh1bWJNaW5TaXplOiAzMCxcbiAgICBoaWRlVHJhY2tzV2hlbk5vdE5lZWRlZDogZmFsc2UsXG4gICAgYXV0b0hpZGU6IGZhbHNlLFxuICAgIGF1dG9IaWRlVGltZW91dDogMTAwMCxcbiAgICBhdXRvSGlkZUR1cmF0aW9uOiAyMDAsXG4gICAgYXV0b0hlaWdodDogZmFsc2UsXG4gICAgYXV0b0hlaWdodE1pbjogMCxcbiAgICBhdXRvSGVpZ2h0TWF4OiAyMDAsXG4gICAgdW5pdmVyc2FsOiBmYWxzZVxufTsiLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICAgIHZhbHVlOiB0cnVlXG59KTtcbnZhciBjb250YWluZXJTdHlsZURlZmF1bHQgPSBleHBvcnRzLmNvbnRhaW5lclN0eWxlRGVmYXVsdCA9IHtcbiAgICBwb3NpdGlvbjogJ3JlbGF0aXZlJyxcbiAgICBvdmVyZmxvdzogJ2hpZGRlbicsXG4gICAgd2lkdGg6ICcxMDAlJyxcbiAgICBoZWlnaHQ6ICcxMDAlJ1xufTtcblxuLy8gT3ZlcnJpZGVzIGNvbnRhaW5lclN0eWxlRGVmYXVsdCBwcm9wZXJ0aWVzXG52YXIgY29udGFpbmVyU3R5bGVBdXRvSGVpZ2h0ID0gZXhwb3J0cy5jb250YWluZXJTdHlsZUF1dG9IZWlnaHQgPSB7XG4gICAgaGVpZ2h0OiAnYXV0bydcbn07XG5cbnZhciB2aWV3U3R5bGVEZWZhdWx0ID0gZXhwb3J0cy52aWV3U3R5bGVEZWZhdWx0ID0ge1xuICAgIHBvc2l0aW9uOiAnYWJzb2x1dGUnLFxuICAgIHRvcDogMCxcbiAgICBsZWZ0OiAwLFxuICAgIHJpZ2h0OiAwLFxuICAgIGJvdHRvbTogMCxcbiAgICBvdmVyZmxvdzogJ3Njcm9sbCcsXG4gICAgV2Via2l0T3ZlcmZsb3dTY3JvbGxpbmc6ICd0b3VjaCdcbn07XG5cbi8vIE92ZXJyaWRlcyB2aWV3U3R5bGVEZWZhdWx0IHByb3BlcnRpZXNcbnZhciB2aWV3U3R5bGVBdXRvSGVpZ2h0ID0gZXhwb3J0cy52aWV3U3R5bGVBdXRvSGVpZ2h0ID0ge1xuICAgIHBvc2l0aW9uOiAncmVsYXRpdmUnLFxuICAgIHRvcDogdW5kZWZpbmVkLFxuICAgIGxlZnQ6IHVuZGVmaW5lZCxcbiAgICByaWdodDogdW5kZWZpbmVkLFxuICAgIGJvdHRvbTogdW5kZWZpbmVkXG59O1xuXG52YXIgdmlld1N0eWxlVW5pdmVyc2FsSW5pdGlhbCA9IGV4cG9ydHMudmlld1N0eWxlVW5pdmVyc2FsSW5pdGlhbCA9IHtcbiAgICBvdmVyZmxvdzogJ2hpZGRlbicsXG4gICAgbWFyZ2luUmlnaHQ6IDAsXG4gICAgbWFyZ2luQm90dG9tOiAwXG59O1xuXG52YXIgdHJhY2tIb3Jpem9udGFsU3R5bGVEZWZhdWx0ID0gZXhwb3J0cy50cmFja0hvcml6b250YWxTdHlsZURlZmF1bHQgPSB7XG4gICAgcG9zaXRpb246ICdhYnNvbHV0ZScsXG4gICAgaGVpZ2h0OiA2XG59O1xuXG52YXIgdHJhY2tWZXJ0aWNhbFN0eWxlRGVmYXVsdCA9IGV4cG9ydHMudHJhY2tWZXJ0aWNhbFN0eWxlRGVmYXVsdCA9IHtcbiAgICBwb3NpdGlvbjogJ2Fic29sdXRlJyxcbiAgICB3aWR0aDogNlxufTtcblxudmFyIHRodW1iSG9yaXpvbnRhbFN0eWxlRGVmYXVsdCA9IGV4cG9ydHMudGh1bWJIb3Jpem9udGFsU3R5bGVEZWZhdWx0ID0ge1xuICAgIHBvc2l0aW9uOiAncmVsYXRpdmUnLFxuICAgIGRpc3BsYXk6ICdibG9jaycsXG4gICAgaGVpZ2h0OiAnMTAwJSdcbn07XG5cbnZhciB0aHVtYlZlcnRpY2FsU3R5bGVEZWZhdWx0ID0gZXhwb3J0cy50aHVtYlZlcnRpY2FsU3R5bGVEZWZhdWx0ID0ge1xuICAgIHBvc2l0aW9uOiAncmVsYXRpdmUnLFxuICAgIGRpc3BsYXk6ICdibG9jaycsXG4gICAgd2lkdGg6ICcxMDAlJ1xufTtcblxudmFyIGRpc2FibGVTZWxlY3RTdHlsZSA9IGV4cG9ydHMuZGlzYWJsZVNlbGVjdFN0eWxlID0ge1xuICAgIHVzZXJTZWxlY3Q6ICdub25lJ1xufTtcblxudmFyIGRpc2FibGVTZWxlY3RTdHlsZVJlc2V0ID0gZXhwb3J0cy5kaXNhYmxlU2VsZWN0U3R5bGVSZXNldCA9IHtcbiAgICB1c2VyU2VsZWN0OiAnJ1xufTsiLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLlNjcm9sbGJhcnMgPSB1bmRlZmluZWQ7XG5cbnZhciBfU2Nyb2xsYmFycyA9IHJlcXVpcmUoJy4vU2Nyb2xsYmFycycpO1xuXG52YXIgX1Njcm9sbGJhcnMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfU2Nyb2xsYmFycyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IFwiZGVmYXVsdFwiOiBvYmogfTsgfVxuXG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IF9TY3JvbGxiYXJzMltcImRlZmF1bHRcIl07XG5leHBvcnRzLlNjcm9sbGJhcnMgPSBfU2Nyb2xsYmFyczJbXCJkZWZhdWx0XCJdOyIsIlwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IGdldElubmVySGVpZ2h0O1xuZnVuY3Rpb24gZ2V0SW5uZXJIZWlnaHQoZWwpIHtcbiAgICB2YXIgY2xpZW50SGVpZ2h0ID0gZWwuY2xpZW50SGVpZ2h0O1xuXG4gICAgdmFyIF9nZXRDb21wdXRlZFN0eWxlID0gZ2V0Q29tcHV0ZWRTdHlsZShlbCksXG4gICAgICAgIHBhZGRpbmdUb3AgPSBfZ2V0Q29tcHV0ZWRTdHlsZS5wYWRkaW5nVG9wLFxuICAgICAgICBwYWRkaW5nQm90dG9tID0gX2dldENvbXB1dGVkU3R5bGUucGFkZGluZ0JvdHRvbTtcblxuICAgIHJldHVybiBjbGllbnRIZWlnaHQgLSBwYXJzZUZsb2F0KHBhZGRpbmdUb3ApIC0gcGFyc2VGbG9hdChwYWRkaW5nQm90dG9tKTtcbn0iLCJcInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gICAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBnZXRJbm5lcldpZHRoO1xuZnVuY3Rpb24gZ2V0SW5uZXJXaWR0aChlbCkge1xuICAgIHZhciBjbGllbnRXaWR0aCA9IGVsLmNsaWVudFdpZHRoO1xuXG4gICAgdmFyIF9nZXRDb21wdXRlZFN0eWxlID0gZ2V0Q29tcHV0ZWRTdHlsZShlbCksXG4gICAgICAgIHBhZGRpbmdMZWZ0ID0gX2dldENvbXB1dGVkU3R5bGUucGFkZGluZ0xlZnQsXG4gICAgICAgIHBhZGRpbmdSaWdodCA9IF9nZXRDb21wdXRlZFN0eWxlLnBhZGRpbmdSaWdodDtcblxuICAgIHJldHVybiBjbGllbnRXaWR0aCAtIHBhcnNlRmxvYXQocGFkZGluZ0xlZnQpIC0gcGFyc2VGbG9hdChwYWRkaW5nUmlnaHQpO1xufSIsIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gICAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBnZXRTY3JvbGxiYXJXaWR0aDtcblxudmFyIF9kb21Dc3MgPSByZXF1aXJlKCdkb20tY3NzJyk7XG5cbnZhciBfZG9tQ3NzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2RvbUNzcyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IFwiZGVmYXVsdFwiOiBvYmogfTsgfVxuXG52YXIgc2Nyb2xsYmFyV2lkdGggPSBmYWxzZTtcblxuZnVuY3Rpb24gZ2V0U2Nyb2xsYmFyV2lkdGgoKSB7XG4gICAgaWYgKHNjcm9sbGJhcldpZHRoICE9PSBmYWxzZSkgcmV0dXJuIHNjcm9sbGJhcldpZHRoO1xuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovXG4gICAgaWYgKHR5cGVvZiBkb2N1bWVudCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgdmFyIGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICAoMCwgX2RvbUNzczJbXCJkZWZhdWx0XCJdKShkaXYsIHtcbiAgICAgICAgICAgIHdpZHRoOiAxMDAsXG4gICAgICAgICAgICBoZWlnaHQ6IDEwMCxcbiAgICAgICAgICAgIHBvc2l0aW9uOiAnYWJzb2x1dGUnLFxuICAgICAgICAgICAgdG9wOiAtOTk5OSxcbiAgICAgICAgICAgIG92ZXJmbG93OiAnc2Nyb2xsJyxcbiAgICAgICAgICAgIE1zT3ZlcmZsb3dTdHlsZTogJ3Njcm9sbGJhcidcbiAgICAgICAgfSk7XG4gICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoZGl2KTtcbiAgICAgICAgc2Nyb2xsYmFyV2lkdGggPSBkaXYub2Zmc2V0V2lkdGggLSBkaXYuY2xpZW50V2lkdGg7XG4gICAgICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQoZGl2KTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBzY3JvbGxiYXJXaWR0aCA9IDA7XG4gICAgfVxuICAgIHJldHVybiBzY3JvbGxiYXJXaWR0aCB8fCAwO1xufSIsIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gICAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBpc1N0cmluZztcbmZ1bmN0aW9uIGlzU3RyaW5nKG1heWJlKSB7XG4gICAgcmV0dXJuIHR5cGVvZiBtYXliZSA9PT0gJ3N0cmluZyc7XG59IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICAgIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gcmV0dXJuRmFsc2U7XG5mdW5jdGlvbiByZXR1cm5GYWxzZSgpIHtcbiAgICByZXR1cm4gZmFsc2U7XG59IiwiaW1wb3J0IF90b0NvbnN1bWFibGVBcnJheSBmcm9tICdAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS90b0NvbnN1bWFibGVBcnJheSc7XG5pbXBvcnQgX2V4dGVuZHMgZnJvbSAnQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vZXh0ZW5kcyc7XG5pbXBvcnQgX2NsYXNzQ2FsbENoZWNrIGZyb20gJ0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NsYXNzQ2FsbENoZWNrJztcbmltcG9ydCBfY3JlYXRlQ2xhc3MgZnJvbSAnQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY3JlYXRlQ2xhc3MnO1xuaW1wb3J0IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuIGZyb20gJ0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4nO1xuaW1wb3J0IF9nZXRQcm90b3R5cGVPZiBmcm9tICdAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9nZXRQcm90b3R5cGVPZic7XG5pbXBvcnQgX2Fzc2VydFRoaXNJbml0aWFsaXplZCBmcm9tICdAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQnO1xuaW1wb3J0IF9pbmhlcml0cyBmcm9tICdAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9pbmhlcml0cyc7XG5pbXBvcnQgX2RlZmluZVByb3BlcnR5IGZyb20gJ0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2RlZmluZVByb3BlcnR5JztcbmltcG9ydCBSZWFjdCwgeyBDaGlsZHJlbiwgQ29tcG9uZW50IH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IGludmFyaWFudCBmcm9tICdpbnZhcmlhbnQnO1xuaW1wb3J0IF9zbGljZWRUb0FycmF5IGZyb20gJ0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3NsaWNlZFRvQXJyYXknO1xuaW1wb3J0IF9vYmplY3RXaXRob3V0UHJvcGVydGllcyBmcm9tICdAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RXaXRob3V0UHJvcGVydGllcyc7XG5pbXBvcnQgdXNlU3R5bGVzLCB7IGlubGluZSB9IGZyb20gJ3N1YnN0eWxlJztcbmltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7XG5pbXBvcnQgUmVhY3RET00gZnJvbSAncmVhY3QtZG9tJztcblxuLy8gZXNjYXBlIFJlZ0V4cCBzcGVjaWFsIGNoYXJhY3RlcnMgaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9hLzkzMTA3NTIvNTE0MjQ5MFxudmFyIGVzY2FwZVJlZ2V4ID0gZnVuY3Rpb24gZXNjYXBlUmVnZXgoc3RyKSB7XG4gIHJldHVybiBzdHIucmVwbGFjZSgvWy1bXFxde30oKSorPy4sXFxcXF4kfCNcXHNdL2csICdcXFxcJCYnKTtcbn07XG5cbnZhciBQTEFDRUhPTERFUlMgPSB7XG4gIGlkOiAnX19pZF9fJyxcbiAgZGlzcGxheTogJ19fZGlzcGxheV9fJ1xufTtcblxudmFyIGZpbmRQb3NpdGlvbk9mQ2FwdHVyaW5nR3JvdXAgPSBmdW5jdGlvbiBmaW5kUG9zaXRpb25PZkNhcHR1cmluZ0dyb3VwKG1hcmt1cCwgcGFyYW1ldGVyTmFtZSkge1xuICBpbnZhcmlhbnQocGFyYW1ldGVyTmFtZSA9PT0gJ2lkJyB8fCBwYXJhbWV0ZXJOYW1lID09PSAnZGlzcGxheScsIFwiU2Vjb25kIGFyZyBtdXN0IGJlIGVpdGhlciBcXFwiaWRcXFwiIG9yIFxcXCJkaXNwbGF5XFxcIiwgZ290OiBcXFwiXCIuY29uY2F0KHBhcmFtZXRlck5hbWUsIFwiXFxcIlwiKSk7IC8vIGZpbmQgcG9zaXRpb25zIG9mIHBsYWNlaG9sZGVycyBpbiB0aGUgbWFya3VwXG5cbiAgdmFyIGluZGV4RGlzcGxheSA9IG1hcmt1cC5pbmRleE9mKFBMQUNFSE9MREVSUy5kaXNwbGF5KTtcbiAgdmFyIGluZGV4SWQgPSBtYXJrdXAuaW5kZXhPZihQTEFDRUhPTERFUlMuaWQpOyAvLyBzZXQgaW5kaWNlcyB0byBudWxsIGlmIG5vdCBmb3VuZFxuXG4gIGlmIChpbmRleERpc3BsYXkgPCAwKSBpbmRleERpc3BsYXkgPSBudWxsO1xuICBpZiAoaW5kZXhJZCA8IDApIGluZGV4SWQgPSBudWxsOyAvLyBtYXJrdXAgbXVzdCBjb250YWluIG9uZSBvZiB0aGUgbWFuZGF0b3J5IHBsYWNlaG9sZGVyc1xuXG4gIGludmFyaWFudChpbmRleERpc3BsYXkgIT09IG51bGwgfHwgaW5kZXhJZCAhPT0gbnVsbCwgXCJUaGUgbWFya3VwICdcIi5jb25jYXQobWFya3VwLCBcIicgZG9lcyBub3QgY29udGFpbiBlaXRoZXIgb2YgdGhlIHBsYWNlaG9sZGVycyAnX19pZF9fJyBvciAnX19kaXNwbGF5X18nXCIpKTtcblxuICBpZiAoaW5kZXhEaXNwbGF5ICE9PSBudWxsICYmIGluZGV4SWQgIT09IG51bGwpIHtcbiAgICAvLyBib3RoIHBsYWNlaG9sZGVycyBhcmUgdXNlZCwgcmV0dXJuIDAgb3IgMSBkZXBlbmRpbmcgb24gdGhlIHBvc2l0aW9uIG9mIHRoZSByZXF1ZXN0ZWQgcGFyYW1ldGVyXG4gICAgcmV0dXJuIHBhcmFtZXRlck5hbWUgPT09ICdpZCcgJiYgaW5kZXhJZCA8PSBpbmRleERpc3BsYXkgfHwgcGFyYW1ldGVyTmFtZSA9PT0gJ2Rpc3BsYXknICYmIGluZGV4RGlzcGxheSA8PSBpbmRleElkID8gMCA6IDE7XG4gIH0gLy8ganVzdCBvbmUgcGxhY2Vob2xkZXIgaXMgYmVpbmcgdXNlZCwgd2UnbGwgdXNlIHRoZSBjYXB0dXJlZCBzdHJpbmcgZm9yIGJvdGggcGFyYW1ldGVyc1xuXG5cbiAgcmV0dXJuIDA7XG59O1xuXG52YXIgY29tYmluZVJlZ0V4cHMgPSBmdW5jdGlvbiBjb21iaW5lUmVnRXhwcyhyZWdFeHBzKSB7XG4gIHZhciBzZXJpYWxpemVkUmVnZXhQYXJzZXIgPSAvXlxcLyguKylcXC8oXFx3Kyk/JC87XG4gIHJldHVybiBuZXcgUmVnRXhwKHJlZ0V4cHMubWFwKGZ1bmN0aW9uIChyZWdleCkge1xuICAgIHZhciBfc2VyaWFsaXplZFJlZ2V4UGFyc2UgPSBzZXJpYWxpemVkUmVnZXhQYXJzZXIuZXhlYyhyZWdleC50b1N0cmluZygpKSxcbiAgICAgICAgX3NlcmlhbGl6ZWRSZWdleFBhcnNlMiA9IF9zbGljZWRUb0FycmF5KF9zZXJpYWxpemVkUmVnZXhQYXJzZSwgMyksXG4gICAgICAgIHJlZ2V4U3RyaW5nID0gX3NlcmlhbGl6ZWRSZWdleFBhcnNlMlsxXSxcbiAgICAgICAgcmVnZXhGbGFncyA9IF9zZXJpYWxpemVkUmVnZXhQYXJzZTJbMl07XG5cbiAgICBpbnZhcmlhbnQoIXJlZ2V4RmxhZ3MsIFwiUmVnRXhwIGZsYWdzIGFyZSBub3Qgc3VwcG9ydGVkLiBDaGFuZ2UgL1wiLmNvbmNhdChyZWdleFN0cmluZywgXCIvXCIpLmNvbmNhdChyZWdleEZsYWdzLCBcIiBpbnRvIC9cIikuY29uY2F0KHJlZ2V4U3RyaW5nLCBcIi9cIikpO1xuICAgIHJldHVybiBcIihcIi5jb25jYXQocmVnZXhTdHJpbmcsIFwiKVwiKTtcbiAgfSkuam9pbignfCcpLCAnZycpO1xufTtcblxudmFyIGNvdW50UGxhY2Vob2xkZXJzID0gZnVuY3Rpb24gY291bnRQbGFjZWhvbGRlcnMobWFya3VwKSB7XG4gIHZhciBjb3VudCA9IDA7XG4gIGlmIChtYXJrdXAuaW5kZXhPZignX19pZF9fJykgPj0gMCkgY291bnQrKztcbiAgaWYgKG1hcmt1cC5pbmRleE9mKCdfX2Rpc3BsYXlfXycpID49IDApIGNvdW50Kys7XG4gIHJldHVybiBjb3VudDtcbn07XG5cbnZhciBlbXB0eUZuID0gZnVuY3Rpb24gZW1wdHlGbigpIHt9OyAvLyBGaW5kcyBhbGwgb2NjdXJyZW5jZXMgb2YgdGhlIG1hcmt1cCBpbiB0aGUgdmFsdWUgYW5kIGNhbGxzIHRoZSBgbWFya3VwSXRlcmF0ZWVgIGNhbGxiYWNrIGZvciBlYWNoIG9mIHRoZW0uXG4vLyBUaGUgb3B0aW9uYWwgYHRleHRJdGVyYXRlZWAgY2FsbGJhY2sgaXMgY2FsbGVkIGZvciBlYWNoIHBsYWluIHRleHQgcmFuZ2VzIGluIGJldHdlZW4gdGhlc2UgbWFya3VwIG9jY3VycmVuY2VzLlxuXG5cbnZhciBpdGVyYXRlTWVudGlvbnNNYXJrdXAgPSBmdW5jdGlvbiBpdGVyYXRlTWVudGlvbnNNYXJrdXAodmFsdWUsIGNvbmZpZywgbWFya3VwSXRlcmF0ZWUpIHtcbiAgdmFyIHRleHRJdGVyYXRlZSA9IGFyZ3VtZW50cy5sZW5ndGggPiAzICYmIGFyZ3VtZW50c1szXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzNdIDogZW1wdHlGbjtcbiAgdmFyIHJlZ2V4ID0gY29tYmluZVJlZ0V4cHMoY29uZmlnLm1hcChmdW5jdGlvbiAoYykge1xuICAgIHJldHVybiBjLnJlZ2V4O1xuICB9KSk7XG4gIHZhciBhY2NPZmZzZXQgPSAyOyAvLyBmaXJzdCBpcyB3aG9sZSBtYXRjaCwgc2Vjb25kIGlzIHRoZSBmb3IgdGhlIGNhcHR1cmluZyBncm91cCBvZiBmaXJzdCByZWdleHAgY29tcG9uZW50XG5cbiAgdmFyIGNhcHR1cmVHcm91cE9mZnNldHMgPSBjb25maWcubWFwKGZ1bmN0aW9uIChfcmVmKSB7XG4gICAgdmFyIG1hcmt1cCA9IF9yZWYubWFya3VwO1xuICAgIHZhciByZXN1bHQgPSBhY2NPZmZzZXQ7IC8vICsgMSBpcyBmb3IgdGhlIGNhcHR1cmluZyBncm91cCB3ZSBhZGQgYXJvdW5kIGVhY2ggcmVnZXhwIGNvbXBvbmVudCBpbiBjb21iaW5lUmVnRXhwc1xuXG4gICAgYWNjT2Zmc2V0ICs9IGNvdW50UGxhY2Vob2xkZXJzKG1hcmt1cCkgKyAxO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH0pO1xuICB2YXIgbWF0Y2g7XG4gIHZhciBzdGFydCA9IDA7XG4gIHZhciBjdXJyZW50UGxhaW5UZXh0SW5kZXggPSAwOyAvLyBkZXRlY3QgYWxsIG1lbnRpb24gbWFya3VwIG9jY3VycmVuY2VzIGluIHRoZSB2YWx1ZSBhbmQgaXRlcmF0ZSB0aGUgbWF0Y2hlc1xuXG4gIHdoaWxlICgobWF0Y2ggPSByZWdleC5leGVjKHZhbHVlKSkgIT09IG51bGwpIHtcbiAgICB2YXIgb2Zmc2V0ID0gY2FwdHVyZUdyb3VwT2Zmc2V0cy5maW5kKGZ1bmN0aW9uIChvKSB7XG4gICAgICByZXR1cm4gISFtYXRjaFtvXTtcbiAgICB9KTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1sb29wLWZ1bmNcblxuICAgIHZhciBtZW50aW9uQ2hpbGRJbmRleCA9IGNhcHR1cmVHcm91cE9mZnNldHMuaW5kZXhPZihvZmZzZXQpO1xuICAgIHZhciBfY29uZmlnJG1lbnRpb25DaGlsZEkgPSBjb25maWdbbWVudGlvbkNoaWxkSW5kZXhdLFxuICAgICAgICBtYXJrdXAgPSBfY29uZmlnJG1lbnRpb25DaGlsZEkubWFya3VwLFxuICAgICAgICBkaXNwbGF5VHJhbnNmb3JtID0gX2NvbmZpZyRtZW50aW9uQ2hpbGRJLmRpc3BsYXlUcmFuc2Zvcm07XG4gICAgdmFyIGlkUG9zID0gb2Zmc2V0ICsgZmluZFBvc2l0aW9uT2ZDYXB0dXJpbmdHcm91cChtYXJrdXAsICdpZCcpO1xuICAgIHZhciBkaXNwbGF5UG9zID0gb2Zmc2V0ICsgZmluZFBvc2l0aW9uT2ZDYXB0dXJpbmdHcm91cChtYXJrdXAsICdkaXNwbGF5Jyk7XG4gICAgdmFyIGlkID0gbWF0Y2hbaWRQb3NdO1xuICAgIHZhciBkaXNwbGF5ID0gZGlzcGxheVRyYW5zZm9ybShpZCwgbWF0Y2hbZGlzcGxheVBvc10pO1xuICAgIHZhciBzdWJzdHIgPSB2YWx1ZS5zdWJzdHJpbmcoc3RhcnQsIG1hdGNoLmluZGV4KTtcbiAgICB0ZXh0SXRlcmF0ZWUoc3Vic3RyLCBzdGFydCwgY3VycmVudFBsYWluVGV4dEluZGV4KTtcbiAgICBjdXJyZW50UGxhaW5UZXh0SW5kZXggKz0gc3Vic3RyLmxlbmd0aDtcbiAgICBtYXJrdXBJdGVyYXRlZShtYXRjaFswXSwgbWF0Y2guaW5kZXgsIGN1cnJlbnRQbGFpblRleHRJbmRleCwgaWQsIGRpc3BsYXksIG1lbnRpb25DaGlsZEluZGV4LCBzdGFydCk7XG4gICAgY3VycmVudFBsYWluVGV4dEluZGV4ICs9IGRpc3BsYXkubGVuZ3RoO1xuICAgIHN0YXJ0ID0gcmVnZXgubGFzdEluZGV4O1xuICB9XG5cbiAgaWYgKHN0YXJ0IDwgdmFsdWUubGVuZ3RoKSB7XG4gICAgdGV4dEl0ZXJhdGVlKHZhbHVlLnN1YnN0cmluZyhzdGFydCksIHN0YXJ0LCBjdXJyZW50UGxhaW5UZXh0SW5kZXgpO1xuICB9XG59O1xuXG52YXIgZ2V0UGxhaW5UZXh0ID0gZnVuY3Rpb24gZ2V0UGxhaW5UZXh0KHZhbHVlLCBjb25maWcpIHtcbiAgdmFyIHJlc3VsdCA9ICcnO1xuICBpdGVyYXRlTWVudGlvbnNNYXJrdXAodmFsdWUsIGNvbmZpZywgZnVuY3Rpb24gKG1hdGNoLCBpbmRleCwgcGxhaW5UZXh0SW5kZXgsIGlkLCBkaXNwbGF5KSB7XG4gICAgcmVzdWx0ICs9IGRpc3BsYXk7XG4gIH0sIGZ1bmN0aW9uIChwbGFpblRleHQpIHtcbiAgICByZXN1bHQgKz0gcGxhaW5UZXh0O1xuICB9KTtcbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5cbi8vIGluIHRoZSBtYXJrZWQgdXAgdmFsdWUgc3RyaW5nLlxuLy8gSWYgdGhlIHBhc3NlZCBjaGFyYWN0ZXIgaW5kZXggbGllcyBpbnNpZGUgYSBtZW50aW9uLCB0aGUgdmFsdWUgb2YgYGluTWFya3VwQ29ycmVjdGlvbmAgZGVmaW5lcyB0aGVcbi8vIGNvcnJlY3Rpb24gdG8gYXBwbHk6XG4vLyAgIC0gJ1NUQVJUJyB0byByZXR1cm4gdGhlIGluZGV4IG9mIHRoZSBtZW50aW9uIG1hcmt1cCdzIGZpcnN0IGNoYXIgKGRlZmF1bHQpXG4vLyAgIC0gJ0VORCcgdG8gcmV0dXJuIHRoZSBpbmRleCBhZnRlciBpdHMgbGFzdCBjaGFyXG4vLyAgIC0gJ05VTEwnIHRvIHJldHVybiBudWxsXG5cbnZhciBtYXBQbGFpblRleHRJbmRleCA9IGZ1bmN0aW9uIG1hcFBsYWluVGV4dEluZGV4KHZhbHVlLCBjb25maWcsIGluZGV4SW5QbGFpblRleHQpIHtcbiAgdmFyIGluTWFya3VwQ29ycmVjdGlvbiA9IGFyZ3VtZW50cy5sZW5ndGggPiAzICYmIGFyZ3VtZW50c1szXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzNdIDogJ1NUQVJUJztcblxuICBpZiAodHlwZW9mIGluZGV4SW5QbGFpblRleHQgIT09ICdudW1iZXInKSB7XG4gICAgcmV0dXJuIGluZGV4SW5QbGFpblRleHQ7XG4gIH1cblxuICB2YXIgcmVzdWx0O1xuXG4gIHZhciB0ZXh0SXRlcmF0ZWUgPSBmdW5jdGlvbiB0ZXh0SXRlcmF0ZWUoc3Vic3RyLCBpbmRleCwgc3Vic3RyUGxhaW5UZXh0SW5kZXgpIHtcbiAgICBpZiAocmVzdWx0ICE9PSB1bmRlZmluZWQpIHJldHVybjtcblxuICAgIGlmIChzdWJzdHJQbGFpblRleHRJbmRleCArIHN1YnN0ci5sZW5ndGggPj0gaW5kZXhJblBsYWluVGV4dCkge1xuICAgICAgLy8gZm91bmQgdGhlIGNvcnJlc3BvbmRpbmcgcG9zaXRpb24gaW4gdGhlIGN1cnJlbnQgcGxhaW4gdGV4dCByYW5nZVxuICAgICAgcmVzdWx0ID0gaW5kZXggKyBpbmRleEluUGxhaW5UZXh0IC0gc3Vic3RyUGxhaW5UZXh0SW5kZXg7XG4gICAgfVxuICB9O1xuXG4gIHZhciBtYXJrdXBJdGVyYXRlZSA9IGZ1bmN0aW9uIG1hcmt1cEl0ZXJhdGVlKG1hcmt1cCwgaW5kZXgsIG1lbnRpb25QbGFpblRleHRJbmRleCwgaWQsIGRpc3BsYXksIGNoaWxkSW5kZXgsIGxhc3RNZW50aW9uRW5kSW5kZXgpIHtcbiAgICBpZiAocmVzdWx0ICE9PSB1bmRlZmluZWQpIHJldHVybjtcblxuICAgIGlmIChtZW50aW9uUGxhaW5UZXh0SW5kZXggKyBkaXNwbGF5Lmxlbmd0aCA+IGluZGV4SW5QbGFpblRleHQpIHtcbiAgICAgIC8vIGZvdW5kIHRoZSBjb3JyZXNwb25kaW5nIHBvc2l0aW9uIGluc2lkZSBjdXJyZW50IG1hdGNoLFxuICAgICAgLy8gcmV0dXJuIHRoZSBpbmRleCBvZiB0aGUgZmlyc3Qgb3IgYWZ0ZXIgdGhlIGxhc3QgY2hhciBvZiB0aGUgbWF0Y2hpbmcgbWFya3VwXG4gICAgICAvLyBkZXBlbmRpbmcgb24gd2hldGhlciB0aGUgYGluTWFya3VwQ29ycmVjdGlvbmBcbiAgICAgIGlmIChpbk1hcmt1cENvcnJlY3Rpb24gPT09ICdOVUxMJykge1xuICAgICAgICByZXN1bHQgPSBudWxsO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVzdWx0ID0gaW5kZXggKyAoaW5NYXJrdXBDb3JyZWN0aW9uID09PSAnRU5EJyA/IG1hcmt1cC5sZW5ndGggOiAwKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgaXRlcmF0ZU1lbnRpb25zTWFya3VwKHZhbHVlLCBjb25maWcsIG1hcmt1cEl0ZXJhdGVlLCB0ZXh0SXRlcmF0ZWUpOyAvLyB3aGVuIGEgbWVudGlvbiBpcyBhdCB0aGUgZW5kIG9mIHRoZSB2YWx1ZSBhbmQgd2Ugd2FudCB0byBnZXQgdGhlIGNhcmV0IHBvc2l0aW9uXG4gIC8vIGF0IHRoZSBlbmQgb2YgdGhlIHN0cmluZywgcmVzdWx0IGlzIHVuZGVmaW5lZFxuXG4gIHJldHVybiByZXN1bHQgPT09IHVuZGVmaW5lZCA/IHZhbHVlLmxlbmd0aCA6IHJlc3VsdDtcbn07XG5cbnZhciBzcGxpY2VTdHJpbmcgPSBmdW5jdGlvbiBzcGxpY2VTdHJpbmcoc3RyLCBzdGFydCwgZW5kLCBpbnNlcnQpIHtcbiAgcmV0dXJuIHN0ci5zdWJzdHJpbmcoMCwgc3RhcnQpICsgaW5zZXJ0ICsgc3RyLnN1YnN0cmluZyhlbmQpO1xufTtcblxuLy8gZ3VpZGVkIGJ5IHRoZSB0ZXh0YXJlYSB0ZXh0IHNlbGVjdGlvbiByYW5nZXMgYmVmb3JlIGFuZCBhZnRlciB0aGUgY2hhbmdlXG5cbnZhciBhcHBseUNoYW5nZVRvVmFsdWUgPSBmdW5jdGlvbiBhcHBseUNoYW5nZVRvVmFsdWUodmFsdWUsIHBsYWluVGV4dFZhbHVlLCBfcmVmLCBjb25maWcpIHtcbiAgdmFyIHNlbGVjdGlvblN0YXJ0QmVmb3JlID0gX3JlZi5zZWxlY3Rpb25TdGFydEJlZm9yZSxcbiAgICAgIHNlbGVjdGlvbkVuZEJlZm9yZSA9IF9yZWYuc2VsZWN0aW9uRW5kQmVmb3JlLFxuICAgICAgc2VsZWN0aW9uRW5kQWZ0ZXIgPSBfcmVmLnNlbGVjdGlvbkVuZEFmdGVyO1xuICB2YXIgb2xkUGxhaW5UZXh0VmFsdWUgPSBnZXRQbGFpblRleHQodmFsdWUsIGNvbmZpZyk7XG4gIHZhciBsZW5ndGhEZWx0YSA9IG9sZFBsYWluVGV4dFZhbHVlLmxlbmd0aCAtIHBsYWluVGV4dFZhbHVlLmxlbmd0aDtcblxuICBpZiAoc2VsZWN0aW9uU3RhcnRCZWZvcmUgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgc2VsZWN0aW9uU3RhcnRCZWZvcmUgPSBzZWxlY3Rpb25FbmRBZnRlciArIGxlbmd0aERlbHRhO1xuICB9XG5cbiAgaWYgKHNlbGVjdGlvbkVuZEJlZm9yZSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICBzZWxlY3Rpb25FbmRCZWZvcmUgPSBzZWxlY3Rpb25TdGFydEJlZm9yZTtcbiAgfSAvLyBGaXhlcyBhbiBpc3N1ZSB3aXRoIHJlcGxhY2luZyBjb21iaW5lZCBjaGFyYWN0ZXJzIGZvciBjb21wbGV4IGlucHV0LiBFZyBsaWtlIGFjZW50ZWQgbGV0dGVycyBvbiBPU1hcblxuXG4gIGlmIChzZWxlY3Rpb25TdGFydEJlZm9yZSA9PT0gc2VsZWN0aW9uRW5kQmVmb3JlICYmIHNlbGVjdGlvbkVuZEJlZm9yZSA9PT0gc2VsZWN0aW9uRW5kQWZ0ZXIgJiYgb2xkUGxhaW5UZXh0VmFsdWUubGVuZ3RoID09PSBwbGFpblRleHRWYWx1ZS5sZW5ndGgpIHtcbiAgICBzZWxlY3Rpb25TdGFydEJlZm9yZSA9IHNlbGVjdGlvblN0YXJ0QmVmb3JlIC0gMTtcbiAgfSAvLyBleHRyYWN0IHRoZSBpbnNlcnRpb24gZnJvbSB0aGUgbmV3IHBsYWluIHRleHQgdmFsdWVcblxuXG4gIHZhciBpbnNlcnQgPSBwbGFpblRleHRWYWx1ZS5zbGljZShzZWxlY3Rpb25TdGFydEJlZm9yZSwgc2VsZWN0aW9uRW5kQWZ0ZXIpOyAvLyBoYW5kbGluZyBmb3IgQmFja3NwYWNlIGtleSB3aXRoIG5vIHJhbmdlIHNlbGVjdGlvblxuXG4gIHZhciBzcGxpY2VTdGFydCA9IE1hdGgubWluKHNlbGVjdGlvblN0YXJ0QmVmb3JlLCBzZWxlY3Rpb25FbmRBZnRlcik7XG4gIHZhciBzcGxpY2VFbmQgPSBzZWxlY3Rpb25FbmRCZWZvcmU7XG5cbiAgaWYgKHNlbGVjdGlvblN0YXJ0QmVmb3JlID09PSBzZWxlY3Rpb25FbmRBZnRlcikge1xuICAgIC8vIGhhbmRsaW5nIGZvciBEZWxldGUga2V5IHdpdGggbm8gcmFuZ2Ugc2VsZWN0aW9uXG4gICAgc3BsaWNlRW5kID0gTWF0aC5tYXgoc2VsZWN0aW9uRW5kQmVmb3JlLCBzZWxlY3Rpb25TdGFydEJlZm9yZSArIGxlbmd0aERlbHRhKTtcbiAgfVxuXG4gIHZhciBtYXBwZWRTcGxpY2VTdGFydCA9IG1hcFBsYWluVGV4dEluZGV4KHZhbHVlLCBjb25maWcsIHNwbGljZVN0YXJ0LCAnU1RBUlQnKTtcbiAgdmFyIG1hcHBlZFNwbGljZUVuZCA9IG1hcFBsYWluVGV4dEluZGV4KHZhbHVlLCBjb25maWcsIHNwbGljZUVuZCwgJ0VORCcpO1xuICB2YXIgY29udHJvbFNwbGljZVN0YXJ0ID0gbWFwUGxhaW5UZXh0SW5kZXgodmFsdWUsIGNvbmZpZywgc3BsaWNlU3RhcnQsICdOVUxMJyk7XG4gIHZhciBjb250cm9sU3BsaWNlRW5kID0gbWFwUGxhaW5UZXh0SW5kZXgodmFsdWUsIGNvbmZpZywgc3BsaWNlRW5kLCAnTlVMTCcpO1xuICB2YXIgd2lsbFJlbW92ZU1lbnRpb24gPSBjb250cm9sU3BsaWNlU3RhcnQgPT09IG51bGwgfHwgY29udHJvbFNwbGljZUVuZCA9PT0gbnVsbDtcbiAgdmFyIG5ld1ZhbHVlID0gc3BsaWNlU3RyaW5nKHZhbHVlLCBtYXBwZWRTcGxpY2VTdGFydCwgbWFwcGVkU3BsaWNlRW5kLCBpbnNlcnQpO1xuXG4gIGlmICghd2lsbFJlbW92ZU1lbnRpb24pIHtcbiAgICAvLyB0ZXN0IGZvciBhdXRvLWNvbXBsZXRpb24gY2hhbmdlc1xuICAgIHZhciBjb250cm9sUGxhaW5UZXh0VmFsdWUgPSBnZXRQbGFpblRleHQobmV3VmFsdWUsIGNvbmZpZyk7XG5cbiAgICBpZiAoY29udHJvbFBsYWluVGV4dFZhbHVlICE9PSBwbGFpblRleHRWYWx1ZSkge1xuICAgICAgLy8gc29tZSBhdXRvLWNvcnJlY3Rpb24gaXMgZ29pbmcgb25cbiAgICAgIC8vIGZpbmQgc3RhcnQgb2YgZGlmZlxuICAgICAgc3BsaWNlU3RhcnQgPSAwO1xuXG4gICAgICB3aGlsZSAocGxhaW5UZXh0VmFsdWVbc3BsaWNlU3RhcnRdID09PSBjb250cm9sUGxhaW5UZXh0VmFsdWVbc3BsaWNlU3RhcnRdKSB7XG4gICAgICAgIHNwbGljZVN0YXJ0Kys7XG4gICAgICB9IC8vIGV4dHJhY3QgYXV0by1jb3JyZWN0ZWQgaW5zZXJ0aW9uXG5cblxuICAgICAgaW5zZXJ0ID0gcGxhaW5UZXh0VmFsdWUuc2xpY2Uoc3BsaWNlU3RhcnQsIHNlbGVjdGlvbkVuZEFmdGVyKTsgLy8gZmluZCBpbmRleCBvZiB0aGUgdW5jaGFuZ2VkIHJlbWFpbmRlclxuXG4gICAgICBzcGxpY2VFbmQgPSBvbGRQbGFpblRleHRWYWx1ZS5sYXN0SW5kZXhPZihwbGFpblRleHRWYWx1ZS5zdWJzdHJpbmcoc2VsZWN0aW9uRW5kQWZ0ZXIpKTsgLy8gcmUtbWFwIHRoZSBjb3JyZWN0ZWQgaW5kaWNlc1xuXG4gICAgICBtYXBwZWRTcGxpY2VTdGFydCA9IG1hcFBsYWluVGV4dEluZGV4KHZhbHVlLCBjb25maWcsIHNwbGljZVN0YXJ0LCAnU1RBUlQnKTtcbiAgICAgIG1hcHBlZFNwbGljZUVuZCA9IG1hcFBsYWluVGV4dEluZGV4KHZhbHVlLCBjb25maWcsIHNwbGljZUVuZCwgJ0VORCcpO1xuICAgICAgbmV3VmFsdWUgPSBzcGxpY2VTdHJpbmcodmFsdWUsIG1hcHBlZFNwbGljZVN0YXJ0LCBtYXBwZWRTcGxpY2VFbmQsIGluc2VydCk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIG5ld1ZhbHVlO1xufTtcblxuLy8gcmV0dXJucyBhIHRoZSBpbmRleCBvZiBvZiB0aGUgZmlyc3QgY2hhciBvZiB0aGUgbWVudGlvbiBpbiB0aGUgcGxhaW4gdGV4dC5cbi8vIElmIGluZGV4SW5QbGFpblRleHQgZG9lcyBub3QgbGllIGluc2lkZSBhIG1lbnRpb24sIHJldHVybnMgaW5kZXhJblBsYWluVGV4dC5cblxudmFyIGZpbmRTdGFydE9mTWVudGlvbkluUGxhaW5UZXh0ID0gZnVuY3Rpb24gZmluZFN0YXJ0T2ZNZW50aW9uSW5QbGFpblRleHQodmFsdWUsIGNvbmZpZywgaW5kZXhJblBsYWluVGV4dCkge1xuICB2YXIgcmVzdWx0ID0gaW5kZXhJblBsYWluVGV4dDtcbiAgdmFyIGZvdW5kTWVudGlvbiA9IGZhbHNlO1xuXG4gIHZhciBtYXJrdXBJdGVyYXRlZSA9IGZ1bmN0aW9uIG1hcmt1cEl0ZXJhdGVlKG1hcmt1cCwgaW5kZXgsIG1lbnRpb25QbGFpblRleHRJbmRleCwgaWQsIGRpc3BsYXksIGNoaWxkSW5kZXgsIGxhc3RNZW50aW9uRW5kSW5kZXgpIHtcbiAgICBpZiAobWVudGlvblBsYWluVGV4dEluZGV4IDw9IGluZGV4SW5QbGFpblRleHQgJiYgbWVudGlvblBsYWluVGV4dEluZGV4ICsgZGlzcGxheS5sZW5ndGggPiBpbmRleEluUGxhaW5UZXh0KSB7XG4gICAgICByZXN1bHQgPSBtZW50aW9uUGxhaW5UZXh0SW5kZXg7XG4gICAgICBmb3VuZE1lbnRpb24gPSB0cnVlO1xuICAgIH1cbiAgfTtcblxuICBpdGVyYXRlTWVudGlvbnNNYXJrdXAodmFsdWUsIGNvbmZpZywgbWFya3VwSXRlcmF0ZWUpO1xuXG4gIGlmIChmb3VuZE1lbnRpb24pIHtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG59O1xuXG52YXIgZ2V0TWVudGlvbnMgPSBmdW5jdGlvbiBnZXRNZW50aW9ucyh2YWx1ZSwgY29uZmlnKSB7XG4gIHZhciBtZW50aW9ucyA9IFtdO1xuICBpdGVyYXRlTWVudGlvbnNNYXJrdXAodmFsdWUsIGNvbmZpZywgZnVuY3Rpb24gKG1hdGNoLCBpbmRleCwgcGxhaW5UZXh0SW5kZXgsIGlkLCBkaXNwbGF5LCBjaGlsZEluZGV4LCBzdGFydCkge1xuICAgIG1lbnRpb25zLnB1c2goe1xuICAgICAgaWQ6IGlkLFxuICAgICAgZGlzcGxheTogZGlzcGxheSxcbiAgICAgIGNoaWxkSW5kZXg6IGNoaWxkSW5kZXgsXG4gICAgICBpbmRleDogaW5kZXgsXG4gICAgICBwbGFpblRleHRJbmRleDogcGxhaW5UZXh0SW5kZXhcbiAgICB9KTtcbiAgfSk7XG4gIHJldHVybiBtZW50aW9ucztcbn07XG5cbnZhciBnZXRTdWdnZXN0aW9uSHRtbElkID0gZnVuY3Rpb24gZ2V0U3VnZ2VzdGlvbkh0bWxJZChwcmVmaXgsIGlkKSB7XG4gIHJldHVybiBcIlwiLmNvbmNhdChwcmVmaXgsIFwiLVwiKS5jb25jYXQoaWQpO1xufTtcblxudmFyIGNvdW50U3VnZ2VzdGlvbnMgPSBmdW5jdGlvbiBjb3VudFN1Z2dlc3Rpb25zKHN1Z2dlc3Rpb25zKSB7XG4gIHJldHVybiBPYmplY3QudmFsdWVzKHN1Z2dlc3Rpb25zKS5yZWR1Y2UoZnVuY3Rpb24gKGFjYywgX3JlZikge1xuICAgIHZhciByZXN1bHRzID0gX3JlZi5yZXN1bHRzO1xuICAgIHJldHVybiBhY2MgKyByZXN1bHRzLmxlbmd0aDtcbiAgfSwgMCk7XG59O1xuXG52YXIgZ2V0RW5kT2ZMYXN0TWVudGlvbiA9IGZ1bmN0aW9uIGdldEVuZE9mTGFzdE1lbnRpb24odmFsdWUsIGNvbmZpZykge1xuICB2YXIgbWVudGlvbnMgPSBnZXRNZW50aW9ucyh2YWx1ZSwgY29uZmlnKTtcbiAgdmFyIGxhc3RNZW50aW9uID0gbWVudGlvbnNbbWVudGlvbnMubGVuZ3RoIC0gMV07XG4gIHJldHVybiBsYXN0TWVudGlvbiA/IGxhc3RNZW50aW9uLnBsYWluVGV4dEluZGV4ICsgbGFzdE1lbnRpb24uZGlzcGxheS5sZW5ndGggOiAwO1xufTtcblxudmFyIG1hcmt1cFRvUmVnZXggPSBmdW5jdGlvbiBtYXJrdXBUb1JlZ2V4KG1hcmt1cCkge1xuICB2YXIgZXNjYXBlZE1hcmt1cCA9IGVzY2FwZVJlZ2V4KG1hcmt1cCk7XG4gIHZhciBjaGFyQWZ0ZXJEaXNwbGF5ID0gbWFya3VwW21hcmt1cC5pbmRleE9mKFBMQUNFSE9MREVSUy5kaXNwbGF5KSArIFBMQUNFSE9MREVSUy5kaXNwbGF5Lmxlbmd0aF07XG4gIHZhciBjaGFyQWZ0ZXJJZCA9IG1hcmt1cFttYXJrdXAuaW5kZXhPZihQTEFDRUhPTERFUlMuaWQpICsgUExBQ0VIT0xERVJTLmlkLmxlbmd0aF07XG4gIHJldHVybiBuZXcgUmVnRXhwKGVzY2FwZWRNYXJrdXAucmVwbGFjZShQTEFDRUhPTERFUlMuZGlzcGxheSwgXCIoW15cIi5jb25jYXQoZXNjYXBlUmVnZXgoY2hhckFmdGVyRGlzcGxheSB8fCAnJyksIFwiXSs/KVwiKSkucmVwbGFjZShQTEFDRUhPTERFUlMuaWQsIFwiKFteXCIuY29uY2F0KGVzY2FwZVJlZ2V4KGNoYXJBZnRlcklkIHx8ICcnKSwgXCJdKz8pXCIpKSk7XG59O1xuXG52YXIgcmVhZENvbmZpZ0Zyb21DaGlsZHJlbiA9IGZ1bmN0aW9uIHJlYWRDb25maWdGcm9tQ2hpbGRyZW4oY2hpbGRyZW4pIHtcbiAgcmV0dXJuIENoaWxkcmVuLnRvQXJyYXkoY2hpbGRyZW4pLm1hcChmdW5jdGlvbiAoX3JlZikge1xuICAgIHZhciBfcmVmJHByb3BzID0gX3JlZi5wcm9wcyxcbiAgICAgICAgbWFya3VwID0gX3JlZiRwcm9wcy5tYXJrdXAsXG4gICAgICAgIHJlZ2V4ID0gX3JlZiRwcm9wcy5yZWdleCxcbiAgICAgICAgZGlzcGxheVRyYW5zZm9ybSA9IF9yZWYkcHJvcHMuZGlzcGxheVRyYW5zZm9ybTtcbiAgICByZXR1cm4ge1xuICAgICAgbWFya3VwOiBtYXJrdXAsXG4gICAgICByZWdleDogcmVnZXggPyBjb2VyY2VDYXB0dXJpbmdHcm91cHMocmVnZXgsIG1hcmt1cCkgOiBtYXJrdXBUb1JlZ2V4KG1hcmt1cCksXG4gICAgICBkaXNwbGF5VHJhbnNmb3JtOiBkaXNwbGF5VHJhbnNmb3JtIHx8IGZ1bmN0aW9uIChpZCwgZGlzcGxheSkge1xuICAgICAgICByZXR1cm4gZGlzcGxheSB8fCBpZDtcbiAgICAgIH1cbiAgICB9O1xuICB9KTtcbn07IC8vIG1ha2Ugc3VyZSB0aGF0IHRoZSBjdXN0b20gcmVnZXggZGVmaW5lcyB0aGUgY29ycmVjdCBudW1iZXIgb2YgY2FwdHVyaW5nIGdyb3Vwc1xuXG5cbnZhciBjb2VyY2VDYXB0dXJpbmdHcm91cHMgPSBmdW5jdGlvbiBjb2VyY2VDYXB0dXJpbmdHcm91cHMocmVnZXgsIG1hcmt1cCkge1xuICB2YXIgbnVtYmVyT2ZHcm91cHMgPSBuZXcgUmVnRXhwKHJlZ2V4LnRvU3RyaW5nKCkgKyAnfCcpLmV4ZWMoJycpLmxlbmd0aCAtIDE7XG4gIHZhciBudW1iZXJPZlBsYWNlaG9sZGVycyA9IGNvdW50UGxhY2Vob2xkZXJzKG1hcmt1cCk7XG4gIGludmFyaWFudChudW1iZXJPZkdyb3VwcyA9PT0gbnVtYmVyT2ZQbGFjZWhvbGRlcnMsIFwiTnVtYmVyIG9mIGNhcHR1cmluZyBncm91cHMgaW4gUmVnRXhwIFwiLmNvbmNhdChyZWdleC50b1N0cmluZygpLCBcIiAoXCIpLmNvbmNhdChudW1iZXJPZkdyb3VwcywgXCIpIGRvZXMgbm90IG1hdGNoIHRoZSBudW1iZXIgb2YgcGxhY2Vob2xkZXJzIGluIHRoZSBtYXJrdXAgJ1wiKS5jb25jYXQobWFya3VwLCBcIicgKFwiKS5jb25jYXQobnVtYmVyT2ZQbGFjZWhvbGRlcnMsIFwiKVwiKSk7XG4gIHJldHVybiByZWdleDtcbn07XG5cbnZhciBtYWtlTWVudGlvbnNNYXJrdXAgPSBmdW5jdGlvbiBtYWtlTWVudGlvbnNNYXJrdXAobWFya3VwLCBpZCwgZGlzcGxheSkge1xuICByZXR1cm4gbWFya3VwLnJlcGxhY2UoUExBQ0VIT0xERVJTLmlkLCBpZCkucmVwbGFjZShQTEFDRUhPTERFUlMuZGlzcGxheSwgZGlzcGxheSk7XG59O1xuXG4vLyBUaGlzIGNvbnRhaW5zIGFsbCB0aGUgbGF0aW4gbGV0dGVycyBhbmQgdGhlIHJlZ2V4IHRoYXQgbWF0Y2ggdGhlc2UgbGV0dGVycyB3aXRoIGRpYWNyaXRpY3Ncbi8vIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzk5MDkwNC9yZW1vdmUtYWNjZW50cy1kaWFjcml0aWNzLWluLWEtc3RyaW5nLWluLWphdmFzY3JpcHRcbnZhciBsZXR0ZXJzRGlhY3JpdGljcyA9IFt7XG4gIGJhc2U6ICdBJyxcbiAgbGV0dGVyczogLygmIzY1O3wmIzkzOTg7fCYjNjUzMTM7fCYjMTkyO3wmIzE5Mzt8JiMxOTQ7fCYjNzg0Njt8JiM3ODQ0O3wmIzc4NTA7fCYjNzg0ODt8JiMxOTU7fCYjMjU2O3wmIzI1ODt8JiM3ODU2O3wmIzc4NTQ7fCYjNzg2MDt8JiM3ODU4O3wmIzU1MDt8JiM0ODA7fCYjMTk2O3wmIzQ3ODt8JiM3ODQyO3wmIzE5Nzt8JiM1MDY7fCYjNDYxO3wmIzUxMjt8JiM1MTQ7fCYjNzg0MDt8JiM3ODUyO3wmIzc4NjI7fCYjNzY4MDt8JiMyNjA7fCYjNTcwO3wmIzExMzc1O3xbXFx1MDA0MVxcdTI0QjZcXHVGRjIxXFx1MDBDMFxcdTAwQzFcXHUwMEMyXFx1MUVBNlxcdTFFQTRcXHUxRUFBXFx1MUVBOFxcdTAwQzNcXHUwMTAwXFx1MDEwMlxcdTFFQjBcXHUxRUFFXFx1MUVCNFxcdTFFQjJcXHUwMjI2XFx1MDFFMFxcdTAwQzRcXHUwMURFXFx1MUVBMlxcdTAwQzVcXHUwMUZBXFx1MDFDRFxcdTAyMDBcXHUwMjAyXFx1MUVBMFxcdTFFQUNcXHUxRUI2XFx1MUUwMFxcdTAxMDRcXHUwMjNBXFx1MkM2Rl0pL2dcbn0sIHtcbiAgYmFzZTogJ0FBJyxcbiAgbGV0dGVyczogLygmIzQyODAyO3xbXFx1QTczMl0pL2dcbn0sIHtcbiAgYmFzZTogJ0FFJyxcbiAgbGV0dGVyczogLygmIzE5ODt8JiM1MDg7fCYjNDgyO3xbXFx1MDBDNlxcdTAxRkNcXHUwMUUyXSkvZ1xufSwge1xuICBiYXNlOiAnQU8nLFxuICBsZXR0ZXJzOiAvKCYjNDI4MDQ7fFtcXHVBNzM0XSkvZ1xufSwge1xuICBiYXNlOiAnQVUnLFxuICBsZXR0ZXJzOiAvKCYjNDI4MDY7fFtcXHVBNzM2XSkvZ1xufSwge1xuICBiYXNlOiAnQVYnLFxuICBsZXR0ZXJzOiAvKCYjNDI4MDg7fCYjNDI4MTA7fFtcXHVBNzM4XFx1QTczQV0pL2dcbn0sIHtcbiAgYmFzZTogJ0FZJyxcbiAgbGV0dGVyczogLygmIzQyODEyO3xbXFx1QTczQ10pL2dcbn0sIHtcbiAgYmFzZTogJ0InLFxuICBsZXR0ZXJzOiAvKCYjNjY7fCYjOTM5OTt8JiM2NTMxNDt8JiM3NjgyO3wmIzc2ODQ7fCYjNzY4Njt8JiM1Nzk7fCYjMzg2O3wmIzM4NTt8W1xcdTAwNDJcXHUyNEI3XFx1RkYyMlxcdTFFMDJcXHUxRTA0XFx1MUUwNlxcdTAyNDNcXHUwMTgyXFx1MDE4MV0pL2dcbn0sIHtcbiAgYmFzZTogJ0MnLFxuICBsZXR0ZXJzOiAvKCYjNjc7fCYjOTQwMDt8JiM2NTMxNTt8JiMyNjI7fCYjMjY0O3wmIzI2Njt8JiMyNjg7fCYjMTk5O3wmIzc2ODg7fCYjMzkxO3wmIzU3MTt8JiM0MjgxNDt8W1xcdTAwNDNcXHUyNEI4XFx1RkYyM1xcdTAxMDZcXHUwMTA4XFx1MDEwQVxcdTAxMENcXHUwMEM3XFx1MUUwOFxcdTAxODdcXHUwMjNCXFx1QTczRV0pL2dcbn0sIHtcbiAgYmFzZTogJ0QnLFxuICBsZXR0ZXJzOiAvKCYjNjg7fCYjOTQwMTt8JiM2NTMxNjt8JiM3NjkwO3wmIzI3MDt8JiM3NjkyO3wmIzc2OTY7fCYjNzY5ODt8JiM3Njk0O3wmIzI3Mjt8JiMzOTU7fCYjMzk0O3wmIzM5Mzt8JiM0Mjg3Mzt8JiMyMDg7fFtcXHUwMDQ0XFx1MjRCOVxcdUZGMjRcXHUxRTBBXFx1MDEwRVxcdTFFMENcXHUxRTEwXFx1MUUxMlxcdTFFMEVcXHUwMTEwXFx1MDE4QlxcdTAxOEFcXHUwMTg5XFx1QTc3OVxcdTAwRDBdKS9nXG59LCB7XG4gIGJhc2U6ICdEWicsXG4gIGxldHRlcnM6IC8oJiM0OTc7fCYjNDUyO3xbXFx1MDFGMVxcdTAxQzRdKS9nXG59LCB7XG4gIGJhc2U6ICdEeicsXG4gIGxldHRlcnM6IC8oJiM0OTg7fCYjNDUzO3xbXFx1MDFGMlxcdTAxQzVdKS9nXG59LCB7XG4gIGJhc2U6ICdFJyxcbiAgbGV0dGVyczogLygmIzY5O3wmIzk0MDI7fCYjNjUzMTc7fCYjMjAwO3wmIzIwMTt8JiMyMDI7fCYjNzg3Mjt8JiM3ODcwO3wmIzc4NzY7fCYjNzg3NDt8JiM3ODY4O3wmIzI3NDt8JiM3NzAwO3wmIzc3MDI7fCYjMjc2O3wmIzI3ODt8JiMyMDM7fCYjNzg2Njt8JiMyODI7fCYjNTE2O3wmIzUxODt8JiM3ODY0O3wmIzc4Nzg7fCYjNTUyO3wmIzc3MDg7fCYjMjgwO3wmIzc3MDQ7fCYjNzcwNjt8JiM0MDA7fCYjMzk4O3xbXFx1MDA0NVxcdTI0QkFcXHVGRjI1XFx1MDBDOFxcdTAwQzlcXHUwMENBXFx1MUVDMFxcdTFFQkVcXHUxRUM0XFx1MUVDMlxcdTFFQkNcXHUwMTEyXFx1MUUxNFxcdTFFMTZcXHUwMTE0XFx1MDExNlxcdTAwQ0JcXHUxRUJBXFx1MDExQVxcdTAyMDRcXHUwMjA2XFx1MUVCOFxcdTFFQzZcXHUwMjI4XFx1MUUxQ1xcdTAxMThcXHUxRTE4XFx1MUUxQVxcdTAxOTBcXHUwMThFXSkvZ1xufSwge1xuICBiYXNlOiAnRicsXG4gIGxldHRlcnM6IC8oJiM3MDt8JiM5NDAzO3wmIzY1MzE4O3wmIzc3MTA7fCYjNDAxO3wmIzQyODc1O3xbXFx1MDA0NlxcdTI0QkJcXHVGRjI2XFx1MUUxRVxcdTAxOTFcXHVBNzdCXSkvZ1xufSwge1xuICBiYXNlOiAnRycsXG4gIGxldHRlcnM6IC8oJiM3MTt8JiM5NDA0O3wmIzY1MzE5O3wmIzUwMDt8JiMyODQ7fCYjNzcxMjt8JiMyODY7fCYjMjg4O3wmIzQ4Njt8JiMyOTA7fCYjNDg0O3wmIzQwMzt8JiM0MjkxMjt8JiM0Mjg3Nzt8JiM0Mjg3ODt8W1xcdTAwNDdcXHUyNEJDXFx1RkYyN1xcdTAxRjRcXHUwMTFDXFx1MUUyMFxcdTAxMUVcXHUwMTIwXFx1MDFFNlxcdTAxMjJcXHUwMUU0XFx1MDE5M1xcdUE3QTBcXHVBNzdEXFx1QTc3RV0pL2dcbn0sIHtcbiAgYmFzZTogJ0gnLFxuICBsZXR0ZXJzOiAvKCYjNzI7fCYjOTQwNTt8JiM2NTMyMDt8JiMyOTI7fCYjNzcxNDt8JiM3NzE4O3wmIzU0Mjt8JiM3NzE2O3wmIzc3MjA7fCYjNzcyMjt8JiMyOTQ7fCYjMTEzNjc7fCYjMTEzODE7fCYjNDI4OTM7fFtcXHUwMDQ4XFx1MjRCRFxcdUZGMjhcXHUwMTI0XFx1MUUyMlxcdTFFMjZcXHUwMjFFXFx1MUUyNFxcdTFFMjhcXHUxRTJBXFx1MDEyNlxcdTJDNjdcXHUyQzc1XFx1QTc4RF0pL2dcbn0sIHtcbiAgYmFzZTogJ0knLFxuICBsZXR0ZXJzOiAvKCYjNzM7fCYjOTQwNjt8JiM2NTMyMTt8JiMyMDQ7fCYjMjA1O3wmIzIwNjt8JiMyOTY7fCYjMjk4O3wmIzMwMDt8JiMzMDQ7fCYjMjA3O3wmIzc3MjY7fCYjNzg4MDt8JiM0NjM7fCYjNTIwO3wmIzUyMjt8JiM3ODgyO3wmIzMwMjt8JiM3NzI0O3wmIzQwNzt8W1xcdTAwNDlcXHUyNEJFXFx1RkYyOVxcdTAwQ0NcXHUwMENEXFx1MDBDRVxcdTAxMjhcXHUwMTJBXFx1MDEyQ1xcdTAxMzBcXHUwMENGXFx1MUUyRVxcdTFFQzhcXHUwMUNGXFx1MDIwOFxcdTAyMEFcXHUxRUNBXFx1MDEyRVxcdTFFMkNcXHUwMTk3XSkvZ1xufSwge1xuICBiYXNlOiAnSicsXG4gIGxldHRlcnM6IC8oJiM3NDt8JiM5NDA3O3wmIzY1MzIyO3wmIzMwODt8JiM1ODQ7fFtcXHUwMDRBXFx1MjRCRlxcdUZGMkFcXHUwMTM0XFx1MDI0OF0pL2dcbn0sIHtcbiAgYmFzZTogJ0snLFxuICBsZXR0ZXJzOiAvKCYjNzU7fCYjOTQwODt8JiM2NTMyMzt8JiM3NzI4O3wmIzQ4ODt8JiM3NzMwO3wmIzMxMDt8JiM3NzMyO3wmIzQwODt8JiMxMTM2OTt8JiM0MjgxNjt8JiM0MjgxODt8JiM0MjgyMDt8JiM0MjkxNDt8W1xcdTAwNEJcXHUyNEMwXFx1RkYyQlxcdTFFMzBcXHUwMUU4XFx1MUUzMlxcdTAxMzZcXHUxRTM0XFx1MDE5OFxcdTJDNjlcXHVBNzQwXFx1QTc0MlxcdUE3NDRcXHVBN0EyXSkvZ1xufSwge1xuICBiYXNlOiAnTCcsXG4gIGxldHRlcnM6IC8oJiM3Njt8JiM5NDA5O3wmIzY1MzI0O3wmIzMxOTt8JiMzMTM7fCYjMzE3O3wmIzc3MzQ7fCYjNzczNjt8JiMzMTU7fCYjNzc0MDt8JiM3NzM4O3wmIzMyMTt8JiM1NzM7fCYjMTEzNjI7fCYjMTEzNjA7fCYjNDI4MjQ7fCYjNDI4MjI7fCYjNDI4ODA7fFtcXHUwMDRDXFx1MjRDMVxcdUZGMkNcXHUwMTNGXFx1MDEzOVxcdTAxM0RcXHUxRTM2XFx1MUUzOFxcdTAxM0JcXHUxRTNDXFx1MUUzQVxcdTAxNDFcXHUwMjNEXFx1MkM2MlxcdTJDNjBcXHVBNzQ4XFx1QTc0NlxcdUE3ODBdKS9nXG59LCB7XG4gIGJhc2U6ICdMSicsXG4gIGxldHRlcnM6IC8oJiM0NTU7fFtcXHUwMUM3XSkvZ1xufSwge1xuICBiYXNlOiAnTGonLFxuICBsZXR0ZXJzOiAvKCYjNDU2O3xbXFx1MDFDOF0pL2dcbn0sIHtcbiAgYmFzZTogJ00nLFxuICBsZXR0ZXJzOiAvKCYjNzc7fCYjOTQxMDt8JiM2NTMyNTt8JiM3NzQyO3wmIzc3NDQ7fCYjNzc0Njt8JiMxMTM3NDt8JiM0MTI7fFtcXHUwMDREXFx1MjRDMlxcdUZGMkRcXHUxRTNFXFx1MUU0MFxcdTFFNDJcXHUyQzZFXFx1MDE5Q10pL2dcbn0sIHtcbiAgYmFzZTogJ04nLFxuICBsZXR0ZXJzOiAvKCYjNzg7fCYjOTQxMTt8JiM2NTMyNjt8JiM1MDQ7fCYjMzIzO3wmIzIwOTt8JiM3NzQ4O3wmIzMyNzt8JiM3NzUwO3wmIzMyNTt8JiM3NzU0O3wmIzc3NTI7fCYjNTQ0O3wmIzQxMzt8JiM0Mjg5Njt8JiM0MjkxNjt8JiMzMzA7fFtcXHUwMDRFXFx1MjRDM1xcdUZGMkVcXHUwMUY4XFx1MDE0M1xcdTAwRDFcXHUxRTQ0XFx1MDE0N1xcdTFFNDZcXHUwMTQ1XFx1MUU0QVxcdTFFNDhcXHUwMjIwXFx1MDE5RFxcdUE3OTBcXHVBN0E0XFx1MDE0QV0pL2dcbn0sIHtcbiAgYmFzZTogJ05KJyxcbiAgbGV0dGVyczogLygmIzQ1ODt8W1xcdTAxQ0FdKS9nXG59LCB7XG4gIGJhc2U6ICdOaicsXG4gIGxldHRlcnM6IC8oJiM0NTk7fFtcXHUwMUNCXSkvZ1xufSwge1xuICBiYXNlOiAnTycsXG4gIGxldHRlcnM6IC8oJiM3OTt8JiM5NDEyO3wmIzY1MzI3O3wmIzIxMDt8JiMyMTE7fCYjMjEyO3wmIzc4OTA7fCYjNzg4ODt8JiM3ODk0O3wmIzc4OTI7fCYjMjEzO3wmIzc3NTY7fCYjNTU2O3wmIzc3NTg7fCYjMzMyO3wmIzc3NjA7fCYjNzc2Mjt8JiMzMzQ7fCYjNTU4O3wmIzU2MDt8JiMyMTQ7fCYjNTU0O3wmIzc4ODY7fCYjMzM2O3wmIzQ2NTt8JiM1MjQ7fCYjNTI2O3wmIzQxNjt8JiM3OTAwO3wmIzc4OTg7fCYjNzkwNDt8JiM3OTAyO3wmIzc5MDY7fCYjNzg4NDt8JiM3ODk2O3wmIzQ5MDt8JiM0OTI7fCYjMjE2O3wmIzUxMDt8JiMzOTA7fCYjNDE1O3wmIzQyODI2O3wmIzQyODI4O3xbXFx1MDA0RlxcdTI0QzRcXHVGRjJGXFx1MDBEMlxcdTAwRDNcXHUwMEQ0XFx1MUVEMlxcdTFFRDBcXHUxRUQ2XFx1MUVENFxcdTAwRDVcXHUxRTRDXFx1MDIyQ1xcdTFFNEVcXHUwMTRDXFx1MUU1MFxcdTFFNTJcXHUwMTRFXFx1MDIyRVxcdTAyMzBcXHUwMEQ2XFx1MDIyQVxcdTFFQ0VcXHUwMTUwXFx1MDFEMVxcdTAyMENcXHUwMjBFXFx1MDFBMFxcdTFFRENcXHUxRURBXFx1MUVFMFxcdTFFREVcXHUxRUUyXFx1MUVDQ1xcdTFFRDhcXHUwMUVBXFx1MDFFQ1xcdTAwRDhcXHUwMUZFXFx1MDE4NlxcdTAxOUZcXHVBNzRBXFx1QTc0Q10pL2dcbn0sIHtcbiAgYmFzZTogJ09FJyxcbiAgbGV0dGVyczogLygmIzMzODt8W1xcdTAxNTJdKS9nXG59LCB7XG4gIGJhc2U6ICdPSScsXG4gIGxldHRlcnM6IC8oJiM0MTg7fFtcXHUwMUEyXSkvZ1xufSwge1xuICBiYXNlOiAnT08nLFxuICBsZXR0ZXJzOiAvKCYjNDI4MzA7fFtcXHVBNzRFXSkvZ1xufSwge1xuICBiYXNlOiAnT1UnLFxuICBsZXR0ZXJzOiAvKCYjNTQ2O3xbXFx1MDIyMl0pL2dcbn0sIHtcbiAgYmFzZTogJ1AnLFxuICBsZXR0ZXJzOiAvKCYjODA7fCYjOTQxMzt8JiM2NTMyODt8JiM3NzY0O3wmIzc3NjY7fCYjNDIwO3wmIzExMzYzO3wmIzQyODMyO3wmIzQyODM0O3wmIzQyODM2O3xbXFx1MDA1MFxcdTI0QzVcXHVGRjMwXFx1MUU1NFxcdTFFNTZcXHUwMUE0XFx1MkM2M1xcdUE3NTBcXHVBNzUyXFx1QTc1NF0pL2dcbn0sIHtcbiAgYmFzZTogJ1EnLFxuICBsZXR0ZXJzOiAvKCYjODE7fCYjOTQxNDt8JiM2NTMyOTt8JiM0MjgzODt8JiM0Mjg0MDt8JiM1ODY7fFtcXHUwMDUxXFx1MjRDNlxcdUZGMzFcXHVBNzU2XFx1QTc1OFxcdTAyNEFdKS9nXG59LCB7XG4gIGJhc2U6ICdSJyxcbiAgbGV0dGVyczogLygmIzgyO3wmIzk0MTU7fCYjNjUzMzA7fCYjMzQwO3wmIzc3Njg7fCYjMzQ0O3wmIzUyODt8JiM1MzA7fCYjNzc3MDt8JiM3NzcyO3wmIzM0Mjt8JiM3Nzc0O3wmIzU4ODt8JiMxMTM2NDt8JiM0Mjg0Mjt8JiM0MjkxODt8JiM0Mjg4Mjt8W1xcdTAwNTJcXHUyNEM3XFx1RkYzMlxcdTAxNTRcXHUxRTU4XFx1MDE1OFxcdTAyMTBcXHUwMjEyXFx1MUU1QVxcdTFFNUNcXHUwMTU2XFx1MUU1RVxcdTAyNENcXHUyQzY0XFx1QTc1QVxcdUE3QTZcXHVBNzgyXSkvZ1xufSwge1xuICBiYXNlOiAnUycsXG4gIGxldHRlcnM6IC8oJiM4Mzt8JiM5NDE2O3wmIzY1MzMxO3wmIzc4Mzg7fCYjMzQ2O3wmIzc3ODA7fCYjMzQ4O3wmIzc3NzY7fCYjMzUyO3wmIzc3ODI7fCYjNzc3ODt8JiM3Nzg0O3wmIzUzNjt8JiMzNTA7fCYjMTEzOTA7fCYjNDI5MjA7fCYjNDI4ODQ7fFtcXHUwMDUzXFx1MjRDOFxcdUZGMzNcXHUxRTlFXFx1MDE1QVxcdTFFNjRcXHUwMTVDXFx1MUU2MFxcdTAxNjBcXHUxRTY2XFx1MUU2MlxcdTFFNjhcXHUwMjE4XFx1MDE1RVxcdTJDN0VcXHVBN0E4XFx1QTc4NF0pL2dcbn0sIHtcbiAgYmFzZTogJ1QnLFxuICBsZXR0ZXJzOiAvKCYjODQ7fCYjOTQxNzt8JiM2NTMzMjt8JiM3Nzg2O3wmIzM1Njt8JiM3Nzg4O3wmIzUzODt8JiMzNTQ7fCYjNzc5Mjt8JiM3NzkwO3wmIzM1ODt8JiM0Mjg7fCYjNDMwO3wmIzU3NDt8JiM0Mjg4Njt8W1xcdTAwNTRcXHUyNEM5XFx1RkYzNFxcdTFFNkFcXHUwMTY0XFx1MUU2Q1xcdTAyMUFcXHUwMTYyXFx1MUU3MFxcdTFFNkVcXHUwMTY2XFx1MDFBQ1xcdTAxQUVcXHUwMjNFXFx1QTc4Nl0pL2dcbn0sIHtcbiAgYmFzZTogJ1RIJyxcbiAgbGV0dGVyczogLygmIzIyMjt8W1xcdTAwREVdKS9nXG59LCB7XG4gIGJhc2U6ICdUWicsXG4gIGxldHRlcnM6IC8oJiM0Mjc5Mjt8W1xcdUE3MjhdKS9nXG59LCB7XG4gIGJhc2U6ICdVJyxcbiAgbGV0dGVyczogLygmIzg1O3wmIzk0MTg7fCYjNjUzMzM7fCYjMjE3O3wmIzIxODt8JiMyMTk7fCYjMzYwO3wmIzc4MDA7fCYjMzYyO3wmIzc4MDI7fCYjMzY0O3wmIzIyMDt8JiM0NzU7fCYjNDcxO3wmIzQ2OTt8JiM0NzM7fCYjNzkxMDt8JiMzNjY7fCYjMzY4O3wmIzQ2Nzt8JiM1MzI7fCYjNTM0O3wmIzQzMTt8JiM3OTE0O3wmIzc5MTI7fCYjNzkxODt8JiM3OTE2O3wmIzc5MjA7fCYjNzkwODt8JiM3Nzk0O3wmIzM3MDt8JiM3Nzk4O3wmIzc3OTY7fCYjNTgwO3xbXFx1MDA1NVxcdTI0Q0FcXHVGRjM1XFx1MDBEOVxcdTAwREFcXHUwMERCXFx1MDE2OFxcdTFFNzhcXHUwMTZBXFx1MUU3QVxcdTAxNkNcXHUwMERDXFx1MDFEQlxcdTAxRDdcXHUwMUQ1XFx1MDFEOVxcdTFFRTZcXHUwMTZFXFx1MDE3MFxcdTAxRDNcXHUwMjE0XFx1MDIxNlxcdTAxQUZcXHUxRUVBXFx1MUVFOFxcdTFFRUVcXHUxRUVDXFx1MUVGMFxcdTFFRTRcXHUxRTcyXFx1MDE3MlxcdTFFNzZcXHUxRTc0XFx1MDI0NF0pL2dcbn0sIHtcbiAgYmFzZTogJ1YnLFxuICBsZXR0ZXJzOiAvKCYjODY7fCYjOTQxOTt8JiM2NTMzNDt8JiM3ODA0O3wmIzc4MDY7fCYjNDM0O3wmIzQyODQ2O3wmIzU4MTt8W1xcdTAwNTZcXHUyNENCXFx1RkYzNlxcdTFFN0NcXHUxRTdFXFx1MDFCMlxcdUE3NUVcXHUwMjQ1XSkvZ1xufSwge1xuICBiYXNlOiAnVlknLFxuICBsZXR0ZXJzOiAvKCYjNDI4NDg7fFtcXHVBNzYwXSkvZ1xufSwge1xuICBiYXNlOiAnVycsXG4gIGxldHRlcnM6IC8oJiM4Nzt8JiM5NDIwO3wmIzY1MzM1O3wmIzc4MDg7fCYjNzgxMDt8JiMzNzI7fCYjNzgxNDt8JiM3ODEyO3wmIzc4MTY7fCYjMTEzNzg7fFtcXHUwMDU3XFx1MjRDQ1xcdUZGMzdcXHUxRTgwXFx1MUU4MlxcdTAxNzRcXHUxRTg2XFx1MUU4NFxcdTFFODhcXHUyQzcyXSkvZ1xufSwge1xuICBiYXNlOiAnWCcsXG4gIGxldHRlcnM6IC8oJiM4ODt8JiM5NDIxO3wmIzY1MzM2O3wmIzc4MTg7fCYjNzgyMDt8W1xcdTAwNThcXHUyNENEXFx1RkYzOFxcdTFFOEFcXHUxRThDXSkvZ1xufSwge1xuICBiYXNlOiAnWScsXG4gIGxldHRlcnM6IC8oJiM4OTt8JiM5NDIyO3wmIzY1MzM3O3wmIzc5MjI7fCYjMjIxO3wmIzM3NDt8JiM3OTI4O3wmIzU2Mjt8JiM3ODIyO3wmIzM3Njt8JiM3OTI2O3wmIzc5MjQ7fCYjNDM1O3wmIzU5MDt8JiM3OTM0O3xbXFx1MDA1OVxcdTI0Q0VcXHVGRjM5XFx1MUVGMlxcdTAwRERcXHUwMTc2XFx1MUVGOFxcdTAyMzJcXHUxRThFXFx1MDE3OFxcdTFFRjZcXHUxRUY0XFx1MDFCM1xcdTAyNEVcXHUxRUZFXSkvZ1xufSwge1xuICBiYXNlOiAnWicsXG4gIGxldHRlcnM6IC8oJiM5MDt8JiM5NDIzO3wmIzY1MzM4O3wmIzM3Nzt8JiM3ODI0O3wmIzM3OTt8JiMzODE7fCYjNzgyNjt8JiM3ODI4O3wmIzQzNzt8JiM1NDg7fCYjMTEzOTE7fCYjMTEzNzE7fCYjNDI4NTA7fFtcXHUwMDVBXFx1MjRDRlxcdUZGM0FcXHUwMTc5XFx1MUU5MFxcdTAxN0JcXHUwMTdEXFx1MUU5MlxcdTFFOTRcXHUwMUI1XFx1MDIyNFxcdTJDN0ZcXHUyQzZCXFx1QTc2Ml0pL2dcbn0sIHtcbiAgYmFzZTogJ2EnLFxuICBsZXR0ZXJzOiAvKCYjOTc7fCYjOTQyNDt8JiM2NTM0NTt8JiM3ODM0O3wmIzIyNDt8JiMyMjU7fCYjMjI2O3wmIzc4NDc7fCYjNzg0NTt8JiM3ODUxO3wmIzc4NDk7fCYjMjI3O3wmIzI1Nzt8JiMyNTk7fCYjNzg1Nzt8JiM3ODU1O3wmIzc4NjE7fCYjNzg1OTt8JiM1NTE7fCYjNDgxO3wmIzIyODt8JiM0Nzk7fCYjNzg0Mzt8JiMyMjk7fCYjNTA3O3wmIzQ2Mjt8JiM1MTM7fCYjNTE1O3wmIzc4NDE7fCYjNzg1Mzt8JiM3ODYzO3wmIzc2ODE7fCYjMjYxO3wmIzExMzY1O3wmIzU5Mjt8W1xcdTAwNjFcXHUyNEQwXFx1RkY0MVxcdTFFOUFcXHUwMEUwXFx1MDBFMVxcdTAwRTJcXHUxRUE3XFx1MUVBNVxcdTFFQUJcXHUxRUE5XFx1MDBFM1xcdTAxMDFcXHUwMTAzXFx1MUVCMVxcdTFFQUZcXHUxRUI1XFx1MUVCM1xcdTAyMjdcXHUwMUUxXFx1MDBFNFxcdTAxREZcXHUxRUEzXFx1MDBFNVxcdTAxRkJcXHUwMUNFXFx1MDIwMVxcdTAyMDNcXHUxRUExXFx1MUVBRFxcdTFFQjdcXHUxRTAxXFx1MDEwNVxcdTJDNjVcXHUwMjUwXSkvZ1xufSwge1xuICBiYXNlOiAnYWEnLFxuICBsZXR0ZXJzOiAvKCYjNDI4MDM7fFtcXHVBNzMzXSkvZ1xufSwge1xuICBiYXNlOiAnYWUnLFxuICBsZXR0ZXJzOiAvKCYjMjMwO3wmIzUwOTt8JiM0ODM7fFtcXHUwMEU2XFx1MDFGRFxcdTAxRTNdKS9nXG59LCB7XG4gIGJhc2U6ICdhbycsXG4gIGxldHRlcnM6IC8oJiM0MjgwNTt8W1xcdUE3MzVdKS9nXG59LCB7XG4gIGJhc2U6ICdhdScsXG4gIGxldHRlcnM6IC8oJiM0MjgwNzt8W1xcdUE3MzddKS9nXG59LCB7XG4gIGJhc2U6ICdhdicsXG4gIGxldHRlcnM6IC8oJiM0MjgwOTt8JiM0MjgxMTt8W1xcdUE3MzlcXHVBNzNCXSkvZ1xufSwge1xuICBiYXNlOiAnYXknLFxuICBsZXR0ZXJzOiAvKCYjNDI4MTM7fFtcXHVBNzNEXSkvZ1xufSwge1xuICBiYXNlOiAnYicsXG4gIGxldHRlcnM6IC8oJiM5ODt8JiM5NDI1O3wmIzY1MzQ2O3wmIzc2ODM7fCYjNzY4NTt8JiM3Njg3O3wmIzM4NDt8JiMzODc7fCYjNTk1O3xbXFx1MDA2MlxcdTI0RDFcXHVGRjQyXFx1MUUwM1xcdTFFMDVcXHUxRTA3XFx1MDE4MFxcdTAxODNcXHUwMjUzXSkvZ1xufSwge1xuICBiYXNlOiAnYycsXG4gIGxldHRlcnM6IC8oJiM5OTt8JiM5NDI2O3wmIzY1MzQ3O3wmIzI2Mzt8JiMyNjU7fCYjMjY3O3wmIzI2OTt8JiMyMzE7fCYjNzY4OTt8JiMzOTI7fCYjNTcyO3wmIzQyODE1O3wmIzg1ODA7fFtcXHUwMDYzXFx1MjREMlxcdUZGNDNcXHUwMTA3XFx1MDEwOVxcdTAxMEJcXHUwMTBEXFx1MDBFN1xcdTFFMDlcXHUwMTg4XFx1MDIzQ1xcdUE3M0ZcXHUyMTg0XSkvZ1xufSwge1xuICBiYXNlOiAnZCcsXG4gIGxldHRlcnM6IC8oJiMxMDA7fCYjOTQyNzt8JiM2NTM0ODt8JiM3NjkxO3wmIzI3MTt8JiM3NjkzO3wmIzc2OTc7fCYjNzY5OTt8JiM3Njk1O3wmIzI3Mzt8JiMzOTY7fCYjNTk4O3wmIzU5OTt8JiM0Mjg3NDt8JiMyNDA7fFtcXHUwMDY0XFx1MjREM1xcdUZGNDRcXHUxRTBCXFx1MDEwRlxcdTFFMERcXHUxRTExXFx1MUUxM1xcdTFFMEZcXHUwMTExXFx1MDE4Q1xcdTAyNTZcXHUwMjU3XFx1QTc3QVxcdTAwRjBdKS9nXG59LCB7XG4gIGJhc2U6ICdkeicsXG4gIGxldHRlcnM6IC8oJiM0OTk7fCYjNDU0O3xbXFx1MDFGM1xcdTAxQzZdKS9nXG59LCB7XG4gIGJhc2U6ICdlJyxcbiAgbGV0dGVyczogLygmIzEwMTt8JiM5NDI4O3wmIzY1MzQ5O3wmIzIzMjt8JiMyMzM7fCYjMjM0O3wmIzc4NzM7fCYjNzg3MTt8JiM3ODc3O3wmIzc4NzU7fCYjNzg2OTt8JiMyNzU7fCYjNzcwMTt8JiM3NzAzO3wmIzI3Nzt8JiMyNzk7fCYjMjM1O3wmIzc4Njc7fCYjMjgzO3wmIzUxNzt8JiM1MTk7fCYjNzg2NTt8JiM3ODc5O3wmIzU1Mzt8JiM3NzA5O3wmIzI4MTt8JiM3NzA1O3wmIzc3MDc7fCYjNTgzO3wmIzYwMzt8JiM0Nzc7fFtcXHUwMDY1XFx1MjRENFxcdUZGNDVcXHUwMEU4XFx1MDBFOVxcdTAwRUFcXHUxRUMxXFx1MUVCRlxcdTFFQzVcXHUxRUMzXFx1MUVCRFxcdTAxMTNcXHUxRTE1XFx1MUUxN1xcdTAxMTVcXHUwMTE3XFx1MDBFQlxcdTFFQkJcXHUwMTFCXFx1MDIwNVxcdTAyMDdcXHUxRUI5XFx1MUVDN1xcdTAyMjlcXHUxRTFEXFx1MDExOVxcdTFFMTlcXHUxRTFCXFx1MDI0N1xcdTAyNUJcXHUwMUREXSkvZ1xufSwge1xuICBiYXNlOiAnZicsXG4gIGxldHRlcnM6IC8oJiMxMDI7fCYjOTQyOTt8JiM2NTM1MDt8JiM3NzExO3wmIzQwMjt8JiM0Mjg3Njt8W1xcdTAwNjZcXHUyNEQ1XFx1RkY0NlxcdTFFMUZcXHUwMTkyXFx1QTc3Q10pL2dcbn0sIHtcbiAgYmFzZTogJ2cnLFxuICBsZXR0ZXJzOiAvKCYjMTAzO3wmIzk0MzA7fCYjNjUzNTE7fCYjNTAxO3wmIzI4NTt8JiM3NzEzO3wmIzI4Nzt8JiMyODk7fCYjNDg3O3wmIzI5MTt8JiM0ODU7fCYjNjA4O3wmIzQyOTEzO3wmIzc1NDU7fCYjNDI4Nzk7fFtcXHUwMDY3XFx1MjRENlxcdUZGNDdcXHUwMUY1XFx1MDExRFxcdTFFMjFcXHUwMTFGXFx1MDEyMVxcdTAxRTdcXHUwMTIzXFx1MDFFNVxcdTAyNjBcXHVBN0ExXFx1MUQ3OVxcdUE3N0ZdKS9nXG59LCB7XG4gIGJhc2U6ICdoJyxcbiAgbGV0dGVyczogLygmIzEwNDt8JiM5NDMxO3wmIzY1MzUyO3wmIzI5Mzt8JiM3NzE1O3wmIzc3MTk7fCYjNTQzO3wmIzc3MTc7fCYjNzcyMTt8JiM3NzIzO3wmIzc4MzA7fCYjMjk1O3wmIzExMzY4O3wmIzExMzgyO3wmIzYxMzt8W1xcdTAwNjhcXHUyNEQ3XFx1RkY0OFxcdTAxMjVcXHUxRTIzXFx1MUUyN1xcdTAyMUZcXHUxRTI1XFx1MUUyOVxcdTFFMkJcXHUxRTk2XFx1MDEyN1xcdTJDNjhcXHUyQzc2XFx1MDI2NV0pL2dcbn0sIHtcbiAgYmFzZTogJ2h2JyxcbiAgbGV0dGVyczogLygmIzQwNTt8W1xcdTAxOTVdKS9nXG59LCB7XG4gIGJhc2U6ICdpJyxcbiAgbGV0dGVyczogLygmIzEwNTt8JiM5NDMyO3wmIzY1MzUzO3wmIzIzNjt8JiMyMzc7fCYjMjM4O3wmIzI5Nzt8JiMyOTk7fCYjMzAxO3wmIzIzOTt8JiM3NzI3O3wmIzc4ODE7fCYjNDY0O3wmIzUyMTt8JiM1MjM7fCYjNzg4Mzt8JiMzMDM7fCYjNzcyNTt8JiM2MTY7fCYjMzA1O3xbXFx1MDA2OVxcdTI0RDhcXHVGRjQ5XFx1MDBFQ1xcdTAwRURcXHUwMEVFXFx1MDEyOVxcdTAxMkJcXHUwMTJEXFx1MDBFRlxcdTFFMkZcXHUxRUM5XFx1MDFEMFxcdTAyMDlcXHUwMjBCXFx1MUVDQlxcdTAxMkZcXHUxRTJEXFx1MDI2OFxcdTAxMzFdKS9nXG59LCB7XG4gIGJhc2U6ICdpaicsXG4gIGxldHRlcnM6IC8oJiMzMDc7fFtcXHUwMTMzXSkvZ1xufSwge1xuICBiYXNlOiAnaicsXG4gIGxldHRlcnM6IC8oJiMxMDY7fCYjOTQzMzt8JiM2NTM1NDt8JiMzMDk7fCYjNDk2O3wmIzU4NTt8W1xcdTAwNkFcXHUyNEQ5XFx1RkY0QVxcdTAxMzVcXHUwMUYwXFx1MDI0OV0pL2dcbn0sIHtcbiAgYmFzZTogJ2snLFxuICBsZXR0ZXJzOiAvKCYjMTA3O3wmIzk0MzQ7fCYjNjUzNTU7fCYjNzcyOTt8JiM0ODk7fCYjNzczMTt8JiMzMTE7fCYjNzczMzt8JiM0MDk7fCYjMTEzNzA7fCYjNDI4MTc7fCYjNDI4MTk7fCYjNDI4MjE7fCYjNDI5MTU7fFtcXHUwMDZCXFx1MjREQVxcdUZGNEJcXHUxRTMxXFx1MDFFOVxcdTFFMzNcXHUwMTM3XFx1MUUzNVxcdTAxOTlcXHUyQzZBXFx1QTc0MVxcdUE3NDNcXHVBNzQ1XFx1QTdBM10pL2dcbn0sIHtcbiAgYmFzZTogJ2wnLFxuICBsZXR0ZXJzOiAvKCYjMTA4O3wmIzk0MzU7fCYjNjUzNTY7fCYjMzIwO3wmIzMxNDt8JiMzMTg7fCYjNzczNTt8JiM3NzM3O3wmIzMxNjt8JiM3NzQxO3wmIzc3Mzk7fCYjMzIyO3wmIzQxMDt8JiM2MTk7fCYjMTEzNjE7fCYjNDI4MjU7fCYjNDI4ODE7fCYjNDI4MjM7fFtcXHUwMDZDXFx1MjREQlxcdUZGNENcXHUwMTQwXFx1MDEzQVxcdTAxM0VcXHUxRTM3XFx1MUUzOVxcdTAxM0NcXHUxRTNEXFx1MUUzQlxcdTAxNDJcXHUwMTlBXFx1MDI2QlxcdTJDNjFcXHVBNzQ5XFx1QTc4MVxcdUE3NDddKS9nXG59LCB7XG4gIGJhc2U6ICdsaicsXG4gIGxldHRlcnM6IC8oJiM0NTc7fFtcXHUwMUM5XSkvZ1xufSwge1xuICBiYXNlOiAnbScsXG4gIGxldHRlcnM6IC8oJiMxMDk7fCYjOTQzNjt8JiM2NTM1Nzt8JiM3NzQzO3wmIzc3NDU7fCYjNzc0Nzt8JiM2MjU7fCYjNjIzO3xbXFx1MDA2RFxcdTI0RENcXHVGRjREXFx1MUUzRlxcdTFFNDFcXHUxRTQzXFx1MDI3MVxcdTAyNkZdKS9nXG59LCB7XG4gIGJhc2U6ICduJyxcbiAgbGV0dGVyczogLygmIzExMDt8JiM5NDM3O3wmIzY1MzU4O3wmIzUwNTt8JiMzMjQ7fCYjMjQxO3wmIzc3NDk7fCYjMzI4O3wmIzc3NTE7fCYjMzI2O3wmIzc3NTU7fCYjNzc1Mzt8JiM0MTQ7fCYjNjI2O3wmIzMyOTt8JiM0Mjg5Nzt8JiM0MjkxNzt8JiMzMzE7fFtcXHUwMDZFXFx1MjRERFxcdUZGNEVcXHUwMUY5XFx1MDE0NFxcdTAwRjFcXHUxRTQ1XFx1MDE0OFxcdTFFNDdcXHUwMTQ2XFx1MUU0QlxcdTFFNDlcXHUwMTlFXFx1MDI3MlxcdTAxNDlcXHVBNzkxXFx1QTdBNVxcdTAxNEJdKS9nXG59LCB7XG4gIGJhc2U6ICduaicsXG4gIGxldHRlcnM6IC8oJiM0NjA7fFtcXHUwMUNDXSkvZ1xufSwge1xuICBiYXNlOiAnbycsXG4gIGxldHRlcnM6IC8oJiMxMTE7fCYjOTQzODt8JiM2NTM1OTt8JiMyNDI7fCYjMjQzO3wmIzI0NDt8JiM3ODkxO3wmIzc4ODk7fCYjNzg5NTt8JiM3ODkzO3wmIzI0NTt8JiM3NzU3O3wmIzU1Nzt8JiM3NzU5O3wmIzMzMzt8JiM3NzYxO3wmIzc3NjM7fCYjMzM1O3wmIzU1OTt8JiM1NjE7fCYjMjQ2O3wmIzU1NTt8JiM3ODg3O3wmIzMzNzt8JiM0NjY7fCYjNTI1O3wmIzUyNzt8JiM0MTc7fCYjNzkwMTt8JiM3ODk5O3wmIzc5MDU7fCYjNzkwMzt8JiM3OTA3O3wmIzc4ODU7fCYjNzg5Nzt8JiM0OTE7fCYjNDkzO3wmIzI0ODt8JiM1MTE7fCYjNTk2O3wmIzQyODI3O3wmIzQyODI5O3wmIzYyOTt8W1xcdTAwNkZcXHUyNERFXFx1RkY0RlxcdTAwRjJcXHUwMEYzXFx1MDBGNFxcdTFFRDNcXHUxRUQxXFx1MUVEN1xcdTFFRDVcXHUwMEY1XFx1MUU0RFxcdTAyMkRcXHUxRTRGXFx1MDE0RFxcdTFFNTFcXHUxRTUzXFx1MDE0RlxcdTAyMkZcXHUwMjMxXFx1MDBGNlxcdTAyMkJcXHUxRUNGXFx1MDE1MVxcdTAxRDJcXHUwMjBEXFx1MDIwRlxcdTAxQTFcXHUxRUREXFx1MUVEQlxcdTFFRTFcXHUxRURGXFx1MUVFM1xcdTFFQ0RcXHUxRUQ5XFx1MDFFQlxcdTAxRURcXHUwMEY4XFx1MDFGRlxcdTAyNTRcXHVBNzRCXFx1QTc0RFxcdTAyNzVdKS9nXG59LCB7XG4gIGJhc2U6ICdvZScsXG4gIGxldHRlcnM6IC8oJiMzMzk7fFtcXHUwMTUzXSkvZ1xufSwge1xuICBiYXNlOiAnb2knLFxuICBsZXR0ZXJzOiAvKCYjNDE5O3xbXFx1MDFBM10pL2dcbn0sIHtcbiAgYmFzZTogJ291JyxcbiAgbGV0dGVyczogLygmIzU0Nzt8W1xcdTAyMjNdKS9nXG59LCB7XG4gIGJhc2U6ICdvbycsXG4gIGxldHRlcnM6IC8oJiM0MjgzMTt8W1xcdUE3NEZdKS9nXG59LCB7XG4gIGJhc2U6ICdwJyxcbiAgbGV0dGVyczogLygmIzExMjt8JiM5NDM5O3wmIzY1MzYwO3wmIzc3NjU7fCYjNzc2Nzt8JiM0MjE7fCYjNzU0OTt8JiM0MjgzMzt8JiM0MjgzNTt8JiM0MjgzNzt8W1xcdTAwNzBcXHUyNERGXFx1RkY1MFxcdTFFNTVcXHUxRTU3XFx1MDFBNVxcdTFEN0RcXHVBNzUxXFx1QTc1M1xcdUE3NTVdKS9nXG59LCB7XG4gIGJhc2U6ICdxJyxcbiAgbGV0dGVyczogLygmIzExMzt8JiM5NDQwO3wmIzY1MzYxO3wmIzU4Nzt8JiM0MjgzOTt8JiM0Mjg0MTt8W1xcdTAwNzFcXHUyNEUwXFx1RkY1MVxcdTAyNEJcXHVBNzU3XFx1QTc1OV0pL2dcbn0sIHtcbiAgYmFzZTogJ3InLFxuICBsZXR0ZXJzOiAvKCYjMTE0O3wmIzk0NDE7fCYjNjUzNjI7fCYjMzQxO3wmIzc3Njk7fCYjMzQ1O3wmIzUyOTt8JiM1MzE7fCYjNzc3MTt8JiM3NzczO3wmIzM0Mzt8JiM3Nzc1O3wmIzU4OTt8JiM2Mzc7fCYjNDI4NDM7fCYjNDI5MTk7fCYjNDI4ODM7fFtcXHUwMDcyXFx1MjRFMVxcdUZGNTJcXHUwMTU1XFx1MUU1OVxcdTAxNTlcXHUwMjExXFx1MDIxM1xcdTFFNUJcXHUxRTVEXFx1MDE1N1xcdTFFNUZcXHUwMjREXFx1MDI3RFxcdUE3NUJcXHVBN0E3XFx1QTc4M10pL2dcbn0sIHtcbiAgYmFzZTogJ3MnLFxuICBsZXR0ZXJzOiAvKCYjMTE1O3wmIzk0NDI7fCYjNjUzNjM7fCYjMzQ3O3wmIzc3ODE7fCYjMzQ5O3wmIzc3Nzc7fCYjMzUzO3wmIzc3ODM7fCYjNzc3OTt8JiM3Nzg1O3wmIzUzNzt8JiMzNTE7fCYjNTc1O3wmIzQyOTIxO3wmIzQyODg1O3wmIzc4MzU7fCYjMzgzO3xbXFx1MDA3M1xcdTI0RTJcXHVGRjUzXFx1MDE1QlxcdTFFNjVcXHUwMTVEXFx1MUU2MVxcdTAxNjFcXHUxRTY3XFx1MUU2M1xcdTFFNjlcXHUwMjE5XFx1MDE1RlxcdTAyM0ZcXHVBN0E5XFx1QTc4NVxcdTFFOUJcXHUwMTdGXSkvZ1xufSwge1xuICBiYXNlOiAnc3MnLFxuICBsZXR0ZXJzOiAvKCYjMjIzO3xbXFx1MDBERl0pL2dcbn0sIHtcbiAgYmFzZTogJ3QnLFxuICBsZXR0ZXJzOiAvKCYjMTE2O3wmIzk0NDM7fCYjNjUzNjQ7fCYjNzc4Nzt8JiM3ODMxO3wmIzM1Nzt8JiM3Nzg5O3wmIzUzOTt8JiMzNTU7fCYjNzc5Mzt8JiM3NzkxO3wmIzM1OTt8JiM0Mjk7fCYjNjQ4O3wmIzExMzY2O3wmIzQyODg3O3xbXFx1MDA3NFxcdTI0RTNcXHVGRjU0XFx1MUU2QlxcdTFFOTdcXHUwMTY1XFx1MUU2RFxcdTAyMUJcXHUwMTYzXFx1MUU3MVxcdTFFNkZcXHUwMTY3XFx1MDFBRFxcdTAyODhcXHUyQzY2XFx1QTc4N10pL2dcbn0sIHtcbiAgYmFzZTogJ3RoJyxcbiAgbGV0dGVyczogLygmIzI1NDt8W1xcdTAwRkVdKS9nXG59LCB7XG4gIGJhc2U6ICd0eicsXG4gIGxldHRlcnM6IC8oJiM0Mjc5Mzt8W1xcdUE3MjldKS9nXG59LCB7XG4gIGJhc2U6ICd1JyxcbiAgbGV0dGVyczogLygmIzExNzt8JiM5NDQ0O3wmIzY1MzY1O3wmIzI0OTt8JiMyNTA7fCYjMjUxO3wmIzM2MTt8JiM3ODAxO3wmIzM2Mzt8JiM3ODAzO3wmIzM2NTt8JiMyNTI7fCYjNDc2O3wmIzQ3Mjt8JiM0NzA7fCYjNDc0O3wmIzc5MTE7fCYjMzY3O3wmIzM2OTt8JiM0Njg7fCYjNTMzO3wmIzUzNTt8JiM0MzI7fCYjNzkxNTt8JiM3OTEzO3wmIzc5MTk7fCYjNzkxNzt8JiM3OTIxO3wmIzc5MDk7fCYjNzc5NTt8JiMzNzE7fCYjNzc5OTt8JiM3Nzk3O3wmIzY0OTt8W1xcdTAwNzVcXHUyNEU0XFx1RkY1NVxcdTAwRjlcXHUwMEZBXFx1MDBGQlxcdTAxNjlcXHUxRTc5XFx1MDE2QlxcdTFFN0JcXHUwMTZEXFx1MDBGQ1xcdTAxRENcXHUwMUQ4XFx1MDFENlxcdTAxREFcXHUxRUU3XFx1MDE2RlxcdTAxNzFcXHUwMUQ0XFx1MDIxNVxcdTAyMTdcXHUwMUIwXFx1MUVFQlxcdTFFRTlcXHUxRUVGXFx1MUVFRFxcdTFFRjFcXHUxRUU1XFx1MUU3M1xcdTAxNzNcXHUxRTc3XFx1MUU3NVxcdTAyODldKS9nXG59LCB7XG4gIGJhc2U6ICd2JyxcbiAgbGV0dGVyczogLygmIzExODt8JiM5NDQ1O3wmIzY1MzY2O3wmIzc4MDU7fCYjNzgwNzt8JiM2NTE7fCYjNDI4NDc7fCYjNjUyO3xbXFx1MDA3NlxcdTI0RTVcXHVGRjU2XFx1MUU3RFxcdTFFN0ZcXHUwMjhCXFx1QTc1RlxcdTAyOENdKS9nXG59LCB7XG4gIGJhc2U6ICd2eScsXG4gIGxldHRlcnM6IC8oJiM0Mjg0OTt8W1xcdUE3NjFdKS9nXG59LCB7XG4gIGJhc2U6ICd3JyxcbiAgbGV0dGVyczogLygmIzExOTt8JiM5NDQ2O3wmIzY1MzY3O3wmIzc4MDk7fCYjNzgxMTt8JiMzNzM7fCYjNzgxNTt8JiM3ODEzO3wmIzc4MzI7fCYjNzgxNzt8JiMxMTM3OTt8W1xcdTAwNzdcXHUyNEU2XFx1RkY1N1xcdTFFODFcXHUxRTgzXFx1MDE3NVxcdTFFODdcXHUxRTg1XFx1MUU5OFxcdTFFODlcXHUyQzczXSkvZ1xufSwge1xuICBiYXNlOiAneCcsXG4gIGxldHRlcnM6IC8oJiMxMjA7fCYjOTQ0Nzt8JiM2NTM2ODt8JiM3ODE5O3wmIzc4MjE7fFtcXHUwMDc4XFx1MjRFN1xcdUZGNThcXHUxRThCXFx1MUU4RF0pL2dcbn0sIHtcbiAgYmFzZTogJ3knLFxuICBsZXR0ZXJzOiAvKCYjMTIxO3wmIzk0NDg7fCYjNjUzNjk7fCYjNzkyMzt8JiMyNTM7fCYjMzc1O3wmIzc5Mjk7fCYjNTYzO3wmIzc4MjM7fCYjMjU1O3wmIzc5Mjc7fCYjNzgzMzt8JiM3OTI1O3wmIzQzNjt8JiM1OTE7fCYjNzkzNTt8W1xcdTAwNzlcXHUyNEU4XFx1RkY1OVxcdTFFRjNcXHUwMEZEXFx1MDE3N1xcdTFFRjlcXHUwMjMzXFx1MUU4RlxcdTAwRkZcXHUxRUY3XFx1MUU5OVxcdTFFRjVcXHUwMUI0XFx1MDI0RlxcdTFFRkZdKS9nXG59LCB7XG4gIGJhc2U6ICd6JyxcbiAgbGV0dGVyczogLygmIzEyMjt8JiM5NDQ5O3wmIzY1MzcwO3wmIzM3ODt8JiM3ODI1O3wmIzM4MDt8JiMzODI7fCYjNzgyNzt8JiM3ODI5O3wmIzQzODt8JiM1NDk7fCYjNTc2O3wmIzExMzcyO3wmIzQyODUxO3xbXFx1MDA3QVxcdTI0RTlcXHVGRjVBXFx1MDE3QVxcdTFFOTFcXHUwMTdDXFx1MDE3RVxcdTFFOTNcXHUxRTk1XFx1MDFCNlxcdTAyMjVcXHUwMjQwXFx1MkM2Q1xcdUE3NjNdKS9nXG59XTtcblxudmFyIHJlbW92ZUFjY2VudHMgPSBmdW5jdGlvbiByZW1vdmVBY2NlbnRzKHN0cikge1xuICB2YXIgZm9ybWF0dGVkU3RyID0gc3RyO1xuICBsZXR0ZXJzRGlhY3JpdGljcy5mb3JFYWNoKGZ1bmN0aW9uIChsZXR0ZXJEaWFjcml0aWNzKSB7XG4gICAgZm9ybWF0dGVkU3RyID0gZm9ybWF0dGVkU3RyLnJlcGxhY2UobGV0dGVyRGlhY3JpdGljcy5sZXR0ZXJzLCBsZXR0ZXJEaWFjcml0aWNzLmJhc2UpO1xuICB9KTtcbiAgcmV0dXJuIGZvcm1hdHRlZFN0cjtcbn07XG5cbnZhciBub3JtYWxpemVTdHJpbmcgPSBmdW5jdGlvbiBub3JtYWxpemVTdHJpbmcoc3RyKSB7XG4gIHJldHVybiByZW1vdmVBY2NlbnRzKHN0cikudG9Mb3dlckNhc2UoKTtcbn07XG5cbnZhciBnZXRTdWJzdHJpbmdJbmRleCA9IGZ1bmN0aW9uIGdldFN1YnN0cmluZ0luZGV4KHN0ciwgc3Vic3RyLCBpZ25vcmVBY2NlbnRzKSB7XG4gIGlmICghaWdub3JlQWNjZW50cykge1xuICAgIHJldHVybiBzdHIudG9Mb3dlckNhc2UoKS5pbmRleE9mKHN1YnN0ci50b0xvd2VyQ2FzZSgpKTtcbiAgfVxuXG4gIHJldHVybiBub3JtYWxpemVTdHJpbmcoc3RyKS5pbmRleE9mKG5vcm1hbGl6ZVN0cmluZyhzdWJzdHIpKTtcbn07XG5cbnZhciBpc051bWJlciA9IGZ1bmN0aW9uIGlzTnVtYmVyKHZhbCkge1xuICByZXR1cm4gdHlwZW9mIHZhbCA9PT0gJ251bWJlcic7XG59O1xuXG52YXIga2V5cyA9IGZ1bmN0aW9uIGtleXMob2JqKSB7XG4gIHJldHVybiBvYmogPT09IE9iamVjdChvYmopID8gT2JqZWN0LmtleXMob2JqKSA6IFtdO1xufTtcblxudmFyIG9taXQgPSBmdW5jdGlvbiBvbWl0KG9iaikge1xuICB2YXIgX3JlZjtcblxuICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgcmVzdCA9IG5ldyBBcnJheShfbGVuID4gMSA/IF9sZW4gLSAxIDogMCksIF9rZXkgPSAxOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgcmVzdFtfa2V5IC0gMV0gPSBhcmd1bWVudHNbX2tleV07XG4gIH1cblxuICB2YXIga2V5cyA9IChfcmVmID0gW10pLmNvbmNhdC5hcHBseShfcmVmLCByZXN0KTtcblxuICByZXR1cm4gT2JqZWN0LmtleXMob2JqKS5yZWR1Y2UoZnVuY3Rpb24gKGFjYywgaykge1xuICAgIGlmIChvYmouaGFzT3duUHJvcGVydHkoaykgJiYgIWtleXMuaW5jbHVkZXMoaykgJiYgb2JqW2tdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIGFjY1trXSA9IG9ialtrXTtcbiAgICB9XG5cbiAgICByZXR1cm4gYWNjO1xuICB9LCB7fSk7XG59O1xuXG5mdW5jdGlvbiBjcmVhdGVEZWZhdWx0U3R5bGUoZGVmYXVsdFN0eWxlLCBnZXRNb2RpZmllcnMpIHtcbiAgdmFyIGVuaGFuY2UgPSBmdW5jdGlvbiBlbmhhbmNlKENvbXBvbmVudFRvV3JhcCkge1xuICAgIHZhciBEZWZhdWx0U3R5bGVFbmhhbmNlciA9IGZ1bmN0aW9uIERlZmF1bHRTdHlsZUVuaGFuY2VyKF9yZWYpIHtcbiAgICAgIHZhciBzdHlsZSA9IF9yZWYuc3R5bGUsXG4gICAgICAgICAgY2xhc3NOYW1lID0gX3JlZi5jbGFzc05hbWUsXG4gICAgICAgICAgY2xhc3NOYW1lcyA9IF9yZWYuY2xhc3NOYW1lcyxcbiAgICAgICAgICByZXN0ID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzKF9yZWYsIFtcInN0eWxlXCIsIFwiY2xhc3NOYW1lXCIsIFwiY2xhc3NOYW1lc1wiXSk7XG5cbiAgICAgIHZhciBtb2RpZmllcnMgPSBnZXRNb2RpZmllcnMgPyBnZXRNb2RpZmllcnMocmVzdCkgOiB1bmRlZmluZWQ7XG4gICAgICB2YXIgc3R5bGVzID0gdXNlU3R5bGVzKGRlZmF1bHRTdHlsZSwge1xuICAgICAgICBzdHlsZTogc3R5bGUsXG4gICAgICAgIGNsYXNzTmFtZTogY2xhc3NOYW1lLFxuICAgICAgICBjbGFzc05hbWVzOiBjbGFzc05hbWVzXG4gICAgICB9LCBtb2RpZmllcnMpO1xuICAgICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoQ29tcG9uZW50VG9XcmFwLCBfZXh0ZW5kcyh7fSwgcmVzdCwge1xuICAgICAgICBzdHlsZTogc3R5bGVzXG4gICAgICB9KSk7XG4gICAgfTtcblxuICAgIHZhciBkaXNwbGF5TmFtZSA9IENvbXBvbmVudFRvV3JhcC5kaXNwbGF5TmFtZSB8fCBDb21wb25lbnRUb1dyYXAubmFtZSB8fCAnQ29tcG9uZW50JztcbiAgICBEZWZhdWx0U3R5bGVFbmhhbmNlci5kaXNwbGF5TmFtZSA9IFwiZGVmYXVsdFN0eWxlKFwiLmNvbmNhdChkaXNwbGF5TmFtZSwgXCIpXCIpO1xuICAgIHJldHVybiBEZWZhdWx0U3R5bGVFbmhhbmNlcjtcbiAgfTtcblxuICByZXR1cm4gZW5oYW5jZTtcbn1cblxudmFyIF9nZW5lcmF0ZUNvbXBvbmVudEtleSA9IGZ1bmN0aW9uIF9nZW5lcmF0ZUNvbXBvbmVudEtleSh1c2VkS2V5cywgaWQpIHtcbiAgaWYgKCF1c2VkS2V5cy5oYXNPd25Qcm9wZXJ0eShpZCkpIHtcbiAgICB1c2VkS2V5c1tpZF0gPSAwO1xuICB9IGVsc2Uge1xuICAgIHVzZWRLZXlzW2lkXSsrO1xuICB9XG5cbiAgcmV0dXJuIGlkICsgJ18nICsgdXNlZEtleXNbaWRdO1xufTtcblxudmFyIEhpZ2hsaWdodGVyID1cbi8qI19fUFVSRV9fKi9cbmZ1bmN0aW9uIChfQ29tcG9uZW50KSB7XG4gIF9pbmhlcml0cyhIaWdobGlnaHRlciwgX0NvbXBvbmVudCk7XG5cbiAgZnVuY3Rpb24gSGlnaGxpZ2h0ZXIoKSB7XG4gICAgdmFyIF90aGlzO1xuXG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEhpZ2hsaWdodGVyKTtcblxuICAgIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgX2dldFByb3RvdHlwZU9mKEhpZ2hsaWdodGVyKS5hcHBseSh0aGlzLCBhcmd1bWVudHMpKTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgXCJzZXRDYXJldEVsZW1lbnRcIiwgZnVuY3Rpb24gKGVsKSB7XG4gICAgICBfdGhpcy5jYXJldEVsZW1lbnQgPSBlbDtcbiAgICB9KTtcblxuICAgIF90aGlzLnN0YXRlID0ge1xuICAgICAgbGVmdDogdW5kZWZpbmVkLFxuICAgICAgdG9wOiB1bmRlZmluZWRcbiAgICB9O1xuICAgIHJldHVybiBfdGhpcztcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhIaWdobGlnaHRlciwgW3tcbiAgICBrZXk6IFwiY29tcG9uZW50RGlkTW91bnRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgICB0aGlzLm5vdGlmeUNhcmV0UG9zaXRpb24oKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiY29tcG9uZW50RGlkVXBkYXRlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudERpZFVwZGF0ZSgpIHtcbiAgICAgIHRoaXMubm90aWZ5Q2FyZXRQb3NpdGlvbigpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJub3RpZnlDYXJldFBvc2l0aW9uXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG5vdGlmeUNhcmV0UG9zaXRpb24oKSB7XG4gICAgICBpZiAoIXRoaXMuY2FyZXRFbGVtZW50KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdmFyIF90aGlzJGNhcmV0RWxlbWVudCA9IHRoaXMuY2FyZXRFbGVtZW50LFxuICAgICAgICAgIG9mZnNldExlZnQgPSBfdGhpcyRjYXJldEVsZW1lbnQub2Zmc2V0TGVmdCxcbiAgICAgICAgICBvZmZzZXRUb3AgPSBfdGhpcyRjYXJldEVsZW1lbnQub2Zmc2V0VG9wO1xuXG4gICAgICBpZiAodGhpcy5zdGF0ZS5sZWZ0ID09PSBvZmZzZXRMZWZ0ICYmIHRoaXMuc3RhdGUudG9wID09PSBvZmZzZXRUb3ApIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB2YXIgbmV3UG9zaXRpb24gPSB7XG4gICAgICAgIGxlZnQ6IG9mZnNldExlZnQsXG4gICAgICAgIHRvcDogb2Zmc2V0VG9wXG4gICAgICB9O1xuICAgICAgdGhpcy5zZXRTdGF0ZShuZXdQb3NpdGlvbik7XG4gICAgICB0aGlzLnByb3BzLm9uQ2FyZXRQb3NpdGlvbkNoYW5nZShuZXdQb3NpdGlvbik7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInJlbmRlclwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgICAgdmFyIF90aGlzJHByb3BzID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICBzZWxlY3Rpb25TdGFydCA9IF90aGlzJHByb3BzLnNlbGVjdGlvblN0YXJ0LFxuICAgICAgICAgIHNlbGVjdGlvbkVuZCA9IF90aGlzJHByb3BzLnNlbGVjdGlvbkVuZCxcbiAgICAgICAgICB2YWx1ZSA9IF90aGlzJHByb3BzLnZhbHVlLFxuICAgICAgICAgIHN0eWxlID0gX3RoaXMkcHJvcHMuc3R5bGUsXG4gICAgICAgICAgY2hpbGRyZW4gPSBfdGhpcyRwcm9wcy5jaGlsZHJlbixcbiAgICAgICAgICBjb250YWluZXJSZWYgPSBfdGhpcyRwcm9wcy5jb250YWluZXJSZWY7XG4gICAgICB2YXIgY29uZmlnID0gcmVhZENvbmZpZ0Zyb21DaGlsZHJlbihjaGlsZHJlbik7IC8vIElmIHRoZXJlJ3MgYSBjYXJldCAoaS5lLiBubyByYW5nZSBzZWxlY3Rpb24pLCBtYXAgdGhlIGNhcmV0IHBvc2l0aW9uIGludG8gdGhlIG1hcmtlZCB1cCB2YWx1ZVxuXG4gICAgICB2YXIgY2FyZXRQb3NpdGlvbkluTWFya3VwO1xuXG4gICAgICBpZiAoc2VsZWN0aW9uU3RhcnQgPT09IHNlbGVjdGlvbkVuZCkge1xuICAgICAgICBjYXJldFBvc2l0aW9uSW5NYXJrdXAgPSBtYXBQbGFpblRleHRJbmRleCh2YWx1ZSwgY29uZmlnLCBzZWxlY3Rpb25TdGFydCwgJ1NUQVJUJyk7XG4gICAgICB9XG5cbiAgICAgIHZhciByZXN1bHRDb21wb25lbnRzID0gW107XG4gICAgICB2YXIgY29tcG9uZW50S2V5cyA9IHt9OyAvLyBzdGFydCBieSBhcHBlbmRpbmcgZGlyZWN0bHkgdG8gdGhlIHJlc3VsdENvbXBvbmVudHNcblxuICAgICAgdmFyIGNvbXBvbmVudHMgPSByZXN1bHRDb21wb25lbnRzO1xuICAgICAgdmFyIHN1YnN0cmluZ0NvbXBvbmVudEtleSA9IDA7XG5cbiAgICAgIHZhciB0ZXh0SXRlcmF0ZWUgPSBmdW5jdGlvbiB0ZXh0SXRlcmF0ZWUoc3Vic3RyLCBpbmRleCwgaW5kZXhJblBsYWluVGV4dCkge1xuICAgICAgICAvLyBjaGVjayB3aGV0aGVyIHRoZSBjYXJldCBlbGVtZW50IGhhcyB0byBiZSBpbnNlcnRlZCBpbnNpZGUgdGhlIGN1cnJlbnQgcGxhaW4gc3Vic3RyaW5nXG4gICAgICAgIGlmIChpc051bWJlcihjYXJldFBvc2l0aW9uSW5NYXJrdXApICYmIGNhcmV0UG9zaXRpb25Jbk1hcmt1cCA+PSBpbmRleCAmJiBjYXJldFBvc2l0aW9uSW5NYXJrdXAgPD0gaW5kZXggKyBzdWJzdHIubGVuZ3RoKSB7XG4gICAgICAgICAgLy8gaWYgeWVzLCBzcGxpdCBzdWJzdHIgYXQgdGhlIGNhcmV0IHBvc2l0aW9uIGFuZCBpbnNlcnQgdGhlIGNhcmV0IGNvbXBvbmVudFxuICAgICAgICAgIHZhciBzcGxpdEluZGV4ID0gY2FyZXRQb3NpdGlvbkluTWFya3VwIC0gaW5kZXg7XG4gICAgICAgICAgY29tcG9uZW50cy5wdXNoKF90aGlzMi5yZW5kZXJTdWJzdHJpbmcoc3Vic3RyLnN1YnN0cmluZygwLCBzcGxpdEluZGV4KSwgc3Vic3RyaW5nQ29tcG9uZW50S2V5KSk7IC8vIGFkZCBhbGwgZm9sbG93aW5nIHN1YnN0cmluZ3MgYW5kIG1lbnRpb24gY29tcG9uZW50cyBhcyBjaGlsZHJlbiBvZiB0aGUgY2FyZXQgY29tcG9uZW50XG5cbiAgICAgICAgICBjb21wb25lbnRzID0gW190aGlzMi5yZW5kZXJTdWJzdHJpbmcoc3Vic3RyLnN1YnN0cmluZyhzcGxpdEluZGV4KSwgc3Vic3RyaW5nQ29tcG9uZW50S2V5KV07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gb3RoZXJ3aXNlIGp1c3QgcHVzaCB0aGUgcGxhaW4gdGV4dCBzdWJzdHJpbmdcbiAgICAgICAgICBjb21wb25lbnRzLnB1c2goX3RoaXMyLnJlbmRlclN1YnN0cmluZyhzdWJzdHIsIHN1YnN0cmluZ0NvbXBvbmVudEtleSkpO1xuICAgICAgICB9XG5cbiAgICAgICAgc3Vic3RyaW5nQ29tcG9uZW50S2V5Kys7XG4gICAgICB9O1xuXG4gICAgICB2YXIgbWVudGlvbkl0ZXJhdGVlID0gZnVuY3Rpb24gbWVudGlvbkl0ZXJhdGVlKG1hcmt1cCwgaW5kZXgsIGluZGV4SW5QbGFpblRleHQsIGlkLCBkaXNwbGF5LCBtZW50aW9uQ2hpbGRJbmRleCwgbGFzdE1lbnRpb25FbmRJbmRleCkge1xuICAgICAgICAvLyBnZW5lcmF0ZSBhIGNvbXBvbmVudCBrZXkgYmFzZWQgb24gdGhlIGlkXG4gICAgICAgIHZhciBrZXkgPSBfZ2VuZXJhdGVDb21wb25lbnRLZXkoY29tcG9uZW50S2V5cywgaWQpO1xuXG4gICAgICAgIGNvbXBvbmVudHMucHVzaChfdGhpczIuZ2V0TWVudGlvbkNvbXBvbmVudEZvck1hdGNoKGlkLCBkaXNwbGF5LCBtZW50aW9uQ2hpbGRJbmRleCwga2V5KSk7XG4gICAgICB9O1xuXG4gICAgICBpdGVyYXRlTWVudGlvbnNNYXJrdXAodmFsdWUsIGNvbmZpZywgbWVudGlvbkl0ZXJhdGVlLCB0ZXh0SXRlcmF0ZWUpOyAvLyBhcHBlbmQgYSBzcGFuIGNvbnRhaW5pbmcgYSBzcGFjZSwgdG8gZW5zdXJlIHRoZSBsYXN0IHRleHQgbGluZSBoYXMgdGhlIGNvcnJlY3QgaGVpZ2h0XG5cbiAgICAgIGNvbXBvbmVudHMucHVzaCgnICcpO1xuXG4gICAgICBpZiAoY29tcG9uZW50cyAhPT0gcmVzdWx0Q29tcG9uZW50cykge1xuICAgICAgICAvLyBpZiBhIGNhcmV0IGNvbXBvbmVudCBpcyB0byBiZSByZW5kZXJlZCwgYWRkIGFsbCBjb21wb25lbnRzIHRoYXQgZm9sbG93ZWQgYXMgaXRzIGNoaWxkcmVuXG4gICAgICAgIHJlc3VsdENvbXBvbmVudHMucHVzaCh0aGlzLnJlbmRlckhpZ2hsaWdodGVyQ2FyZXQoY29tcG9uZW50cykpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCBfZXh0ZW5kcyh7fSwgc3R5bGUsIHtcbiAgICAgICAgcmVmOiBjb250YWluZXJSZWZcbiAgICAgIH0pLCByZXN1bHRDb21wb25lbnRzKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwicmVuZGVyU3Vic3RyaW5nXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlclN1YnN0cmluZyhzdHJpbmcsIGtleSkge1xuICAgICAgLy8gc2V0IHN1YnN0cmluZyBzcGFuIHRvIGhpZGRlbiwgc28gdGhhdCBFbW9qaXMgYXJlIG5vdCBzaG93biBkb3VibGUgaW4gTW9iaWxlIFNhZmFyaVxuICAgICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIsIF9leHRlbmRzKHt9LCB0aGlzLnByb3BzLnN0eWxlKCdzdWJzdHJpbmcnKSwge1xuICAgICAgICBrZXk6IGtleVxuICAgICAgfSksIHN0cmluZyk7XG4gICAgfSAvLyBSZXR1cm5zIGEgY2xvbmUgb2YgdGhlIE1lbnRpb24gY2hpbGQgYXBwbGljYWJsZSBmb3IgdGhlIHNwZWNpZmllZCB0eXBlIHRvIGJlIHJlbmRlcmVkIGluc2lkZSB0aGUgaGlnaGxpZ2h0ZXJcblxuICB9LCB7XG4gICAga2V5OiBcImdldE1lbnRpb25Db21wb25lbnRGb3JNYXRjaFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRNZW50aW9uQ29tcG9uZW50Rm9yTWF0Y2goaWQsIGRpc3BsYXksIG1lbnRpb25DaGlsZEluZGV4LCBrZXkpIHtcbiAgICAgIHZhciBwcm9wcyA9IHtcbiAgICAgICAgaWQ6IGlkLFxuICAgICAgICBkaXNwbGF5OiBkaXNwbGF5LFxuICAgICAgICBrZXk6IGtleVxuICAgICAgfTtcbiAgICAgIHZhciBjaGlsZCA9IENoaWxkcmVuLnRvQXJyYXkodGhpcy5wcm9wcy5jaGlsZHJlbilbbWVudGlvbkNoaWxkSW5kZXhdO1xuICAgICAgcmV0dXJuIFJlYWN0LmNsb25lRWxlbWVudChjaGlsZCwgcHJvcHMpO1xuICAgIH0gLy8gUmVuZGVycyBhbiBjb21wb25lbnQgdG8gYmUgaW5zZXJ0ZWQgaW4gdGhlIGhpZ2hsaWdodGVyIGF0IHRoZSBjdXJyZW50IGNhcmV0IHBvc2l0aW9uXG5cbiAgfSwge1xuICAgIGtleTogXCJyZW5kZXJIaWdobGlnaHRlckNhcmV0XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlckhpZ2hsaWdodGVyQ2FyZXQoY2hpbGRyZW4pIHtcbiAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFwic3BhblwiLCBfZXh0ZW5kcyh7fSwgdGhpcy5wcm9wcy5zdHlsZSgnY2FyZXQnKSwge1xuICAgICAgICByZWY6IHRoaXMuc2V0Q2FyZXRFbGVtZW50LFxuICAgICAgICBrZXk6IFwiY2FyZXRcIlxuICAgICAgfSksIGNoaWxkcmVuKTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gSGlnaGxpZ2h0ZXI7XG59KENvbXBvbmVudCk7XG5cbl9kZWZpbmVQcm9wZXJ0eShIaWdobGlnaHRlciwgXCJwcm9wVHlwZXNcIiwge1xuICBzZWxlY3Rpb25TdGFydDogUHJvcFR5cGVzLm51bWJlcixcbiAgc2VsZWN0aW9uRW5kOiBQcm9wVHlwZXMubnVtYmVyLFxuICB2YWx1ZTogUHJvcFR5cGVzLnN0cmluZy5pc1JlcXVpcmVkLFxuICBvbkNhcmV0UG9zaXRpb25DaGFuZ2U6IFByb3BUeXBlcy5mdW5jLmlzUmVxdWlyZWQsXG4gIGNvbnRhaW5lclJlZjogUHJvcFR5cGVzLm9uZU9mVHlwZShbUHJvcFR5cGVzLmZ1bmMsIFByb3BUeXBlcy5zaGFwZSh7XG4gICAgY3VycmVudDogdHlwZW9mIEVsZW1lbnQgPT09ICd1bmRlZmluZWQnID8gUHJvcFR5cGVzLmFueSA6IFByb3BUeXBlcy5pbnN0YW5jZU9mKEVsZW1lbnQpXG4gIH0pXSksXG4gIGNoaWxkcmVuOiBQcm9wVHlwZXMub25lT2ZUeXBlKFtQcm9wVHlwZXMuZWxlbWVudCwgUHJvcFR5cGVzLmFycmF5T2YoUHJvcFR5cGVzLmVsZW1lbnQpXSkuaXNSZXF1aXJlZFxufSk7XG5cbl9kZWZpbmVQcm9wZXJ0eShIaWdobGlnaHRlciwgXCJkZWZhdWx0UHJvcHNcIiwge1xuICB2YWx1ZTogJydcbn0pO1xuXG52YXIgc3R5bGVkID0gY3JlYXRlRGVmYXVsdFN0eWxlKHtcbiAgcG9zaXRpb246ICdyZWxhdGl2ZScsXG4gIGJveFNpemluZzogJ2JvcmRlci1ib3gnLFxuICB3aWR0aDogJzEwMCUnLFxuICBjb2xvcjogJ3RyYW5zcGFyZW50JyxcbiAgb3ZlcmZsb3c6ICdoaWRkZW4nLFxuICB3aGl0ZVNwYWNlOiAncHJlLXdyYXAnLFxuICB3b3JkV3JhcDogJ2JyZWFrLXdvcmQnLFxuICBib3JkZXI6ICcxcHggc29saWQgdHJhbnNwYXJlbnQnLFxuICB0ZXh0QWxpZ246ICdzdGFydCcsXG4gICcmc2luZ2xlTGluZSc6IHtcbiAgICB3aGl0ZVNwYWNlOiAncHJlJyxcbiAgICB3b3JkV3JhcDogbnVsbFxuICB9LFxuICBzdWJzdHJpbmc6IHtcbiAgICB2aXNpYmlsaXR5OiAnaGlkZGVuJ1xuICB9XG59LCBmdW5jdGlvbiAocHJvcHMpIHtcbiAgcmV0dXJuIHtcbiAgICAnJnNpbmdsZUxpbmUnOiBwcm9wcy5zaW5nbGVMaW5lXG4gIH07XG59KTtcbnZhciBIaWdobGlnaHRlciQxID0gc3R5bGVkKEhpZ2hsaWdodGVyKTtcblxudmFyIFN1Z2dlc3Rpb24gPVxuLyojX19QVVJFX18qL1xuZnVuY3Rpb24gKF9Db21wb25lbnQpIHtcbiAgX2luaGVyaXRzKFN1Z2dlc3Rpb24sIF9Db21wb25lbnQpO1xuXG4gIGZ1bmN0aW9uIFN1Z2dlc3Rpb24oKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFN1Z2dlc3Rpb24pO1xuXG4gICAgcmV0dXJuIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9nZXRQcm90b3R5cGVPZihTdWdnZXN0aW9uKS5hcHBseSh0aGlzLCBhcmd1bWVudHMpKTtcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhTdWdnZXN0aW9uLCBbe1xuICAgIGtleTogXCJyZW5kZXJcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgdmFyIHJlc3QgPSBvbWl0KHRoaXMucHJvcHMsIFsnc3R5bGUnLCAnY2xhc3NOYW1lcycsICdjbGFzc05hbWUnXSwgLy8gc3Vic3R5bGUgcHJvcHNcbiAgICAgIGtleXMoU3VnZ2VzdGlvbi5wcm9wVHlwZXMpKTtcbiAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFwibGlcIiwgX2V4dGVuZHMoe1xuICAgICAgICBpZDogdGhpcy5wcm9wcy5pZCxcbiAgICAgICAgcm9sZTogXCJvcHRpb25cIixcbiAgICAgICAgXCJhcmlhLXNlbGVjdGVkXCI6IHRoaXMucHJvcHMuZm9jdXNlZFxuICAgICAgfSwgcmVzdCwgdGhpcy5wcm9wcy5zdHlsZSksIHRoaXMucmVuZGVyQ29udGVudCgpKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwicmVuZGVyQ29udGVudFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXJDb250ZW50KCkge1xuICAgICAgdmFyIF90aGlzJHByb3BzID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICBxdWVyeSA9IF90aGlzJHByb3BzLnF1ZXJ5LFxuICAgICAgICAgIHJlbmRlclN1Z2dlc3Rpb24gPSBfdGhpcyRwcm9wcy5yZW5kZXJTdWdnZXN0aW9uLFxuICAgICAgICAgIHN1Z2dlc3Rpb24gPSBfdGhpcyRwcm9wcy5zdWdnZXN0aW9uLFxuICAgICAgICAgIGluZGV4ID0gX3RoaXMkcHJvcHMuaW5kZXgsXG4gICAgICAgICAgZm9jdXNlZCA9IF90aGlzJHByb3BzLmZvY3VzZWQ7XG4gICAgICB2YXIgZGlzcGxheSA9IHRoaXMuZ2V0RGlzcGxheSgpO1xuICAgICAgdmFyIGhpZ2hsaWdodGVkRGlzcGxheSA9IHRoaXMucmVuZGVySGlnaGxpZ2h0ZWREaXNwbGF5KGRpc3BsYXksIHF1ZXJ5KTtcblxuICAgICAgaWYgKHJlbmRlclN1Z2dlc3Rpb24pIHtcbiAgICAgICAgcmV0dXJuIHJlbmRlclN1Z2dlc3Rpb24oc3VnZ2VzdGlvbiwgcXVlcnksIGhpZ2hsaWdodGVkRGlzcGxheSwgaW5kZXgsIGZvY3VzZWQpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gaGlnaGxpZ2h0ZWREaXNwbGF5O1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJnZXREaXNwbGF5XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldERpc3BsYXkoKSB7XG4gICAgICB2YXIgc3VnZ2VzdGlvbiA9IHRoaXMucHJvcHMuc3VnZ2VzdGlvbjtcblxuICAgICAgaWYgKHR5cGVvZiBzdWdnZXN0aW9uID09PSAnc3RyaW5nJykge1xuICAgICAgICByZXR1cm4gc3VnZ2VzdGlvbjtcbiAgICAgIH1cblxuICAgICAgdmFyIGlkID0gc3VnZ2VzdGlvbi5pZCxcbiAgICAgICAgICBkaXNwbGF5ID0gc3VnZ2VzdGlvbi5kaXNwbGF5O1xuXG4gICAgICBpZiAoaWQgPT09IHVuZGVmaW5lZCB8fCAhZGlzcGxheSkge1xuICAgICAgICByZXR1cm4gaWQ7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBkaXNwbGF5O1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJyZW5kZXJIaWdobGlnaHRlZERpc3BsYXlcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVySGlnaGxpZ2h0ZWREaXNwbGF5KGRpc3BsYXkpIHtcbiAgICAgIHZhciBfdGhpcyRwcm9wczIgPSB0aGlzLnByb3BzLFxuICAgICAgICAgIGlnbm9yZUFjY2VudHMgPSBfdGhpcyRwcm9wczIuaWdub3JlQWNjZW50cyxcbiAgICAgICAgICBxdWVyeSA9IF90aGlzJHByb3BzMi5xdWVyeSxcbiAgICAgICAgICBzdHlsZSA9IF90aGlzJHByb3BzMi5zdHlsZTtcbiAgICAgIHZhciBpID0gZ2V0U3Vic3RyaW5nSW5kZXgoZGlzcGxheSwgcXVlcnksIGlnbm9yZUFjY2VudHMpO1xuXG4gICAgICBpZiAoaSA9PT0gLTEpIHtcbiAgICAgICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIsIHN0eWxlKCdkaXNwbGF5JyksIGRpc3BsYXkpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChcInNwYW5cIiwgc3R5bGUoJ2Rpc3BsYXknKSwgZGlzcGxheS5zdWJzdHJpbmcoMCwgaSksIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJiXCIsIHN0eWxlKCdoaWdobGlnaHQnKSwgZGlzcGxheS5zdWJzdHJpbmcoaSwgaSArIHF1ZXJ5Lmxlbmd0aCkpLCBkaXNwbGF5LnN1YnN0cmluZyhpICsgcXVlcnkubGVuZ3RoKSk7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIFN1Z2dlc3Rpb247XG59KENvbXBvbmVudCk7XG5cbl9kZWZpbmVQcm9wZXJ0eShTdWdnZXN0aW9uLCBcInByb3BUeXBlc1wiLCB7XG4gIGlkOiBQcm9wVHlwZXMuc3RyaW5nLmlzUmVxdWlyZWQsXG4gIHF1ZXJ5OiBQcm9wVHlwZXMuc3RyaW5nLmlzUmVxdWlyZWQsXG4gIGluZGV4OiBQcm9wVHlwZXMubnVtYmVyLmlzUmVxdWlyZWQsXG4gIGlnbm9yZUFjY2VudHM6IFByb3BUeXBlcy5ib29sLFxuICBzdWdnZXN0aW9uOiBQcm9wVHlwZXMub25lT2ZUeXBlKFtQcm9wVHlwZXMuc3RyaW5nLCBQcm9wVHlwZXMuc2hhcGUoe1xuICAgIGlkOiBQcm9wVHlwZXMub25lT2ZUeXBlKFtQcm9wVHlwZXMuc3RyaW5nLCBQcm9wVHlwZXMubnVtYmVyXSkuaXNSZXF1aXJlZCxcbiAgICBkaXNwbGF5OiBQcm9wVHlwZXMuc3RyaW5nXG4gIH0pXSkuaXNSZXF1aXJlZCxcbiAgcmVuZGVyU3VnZ2VzdGlvbjogUHJvcFR5cGVzLmZ1bmMsXG4gIGZvY3VzZWQ6IFByb3BUeXBlcy5ib29sXG59KTtcblxudmFyIHN0eWxlZCQxID0gY3JlYXRlRGVmYXVsdFN0eWxlKHtcbiAgY3Vyc29yOiAncG9pbnRlcidcbn0sIGZ1bmN0aW9uIChwcm9wcykge1xuICByZXR1cm4ge1xuICAgICcmZm9jdXNlZCc6IHByb3BzLmZvY3VzZWRcbiAgfTtcbn0pO1xudmFyIFN1Z2dlc3Rpb24kMSA9IHN0eWxlZCQxKFN1Z2dlc3Rpb24pO1xuXG5mdW5jdGlvbiBMb2FkaW5nSW5kaWNhdG9yKCkge1xuICB2YXIgc3R5bGVzID0gdXNlU3R5bGVzKCk7XG4gIHZhciBzcGlubmVyU3R5bGVzID0gc3R5bGVzKCdzcGlubmVyJyk7XG4gIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHN0eWxlcywgUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCBzcGlubmVyU3R5bGVzLCBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHNwaW5uZXJTdHlsZXMoWydlbGVtZW50JywgJ2VsZW1lbnQxJ10pKSwgUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCBzcGlubmVyU3R5bGVzKFsnZWxlbWVudCcsICdlbGVtZW50MiddKSksIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgc3Bpbm5lclN0eWxlcyhbJ2VsZW1lbnQnLCAnZWxlbWVudDMnXSkpLCBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHNwaW5uZXJTdHlsZXMoWydlbGVtZW50JywgJ2VsZW1lbnQ0J10pKSwgUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCBzcGlubmVyU3R5bGVzKFsnZWxlbWVudCcsICdlbGVtZW50NSddKSkpKTtcbn1cblxudmFyIFN1Z2dlc3Rpb25zT3ZlcmxheSA9XG4vKiNfX1BVUkVfXyovXG5mdW5jdGlvbiAoX0NvbXBvbmVudCkge1xuICBfaW5oZXJpdHMoU3VnZ2VzdGlvbnNPdmVybGF5LCBfQ29tcG9uZW50KTtcblxuICBmdW5jdGlvbiBTdWdnZXN0aW9uc092ZXJsYXkoKSB7XG4gICAgdmFyIF9nZXRQcm90b3R5cGVPZjI7XG5cbiAgICB2YXIgX3RoaXM7XG5cbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgU3VnZ2VzdGlvbnNPdmVybGF5KTtcblxuICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgICAgYXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICB9XG5cbiAgICBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChfZ2V0UHJvdG90eXBlT2YyID0gX2dldFByb3RvdHlwZU9mKFN1Z2dlc3Rpb25zT3ZlcmxheSkpLmNhbGwuYXBwbHkoX2dldFByb3RvdHlwZU9mMiwgW3RoaXNdLmNvbmNhdChhcmdzKSkpO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCBcImhhbmRsZU1vdXNlRW50ZXJcIiwgZnVuY3Rpb24gKGluZGV4LCBldikge1xuICAgICAgaWYgKF90aGlzLnByb3BzLm9uTW91c2VFbnRlcikge1xuICAgICAgICBfdGhpcy5wcm9wcy5vbk1vdXNlRW50ZXIoaW5kZXgpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCBcInNlbGVjdFwiLCBmdW5jdGlvbiAoc3VnZ2VzdGlvbiwgcXVlcnlJbmZvKSB7XG4gICAgICBfdGhpcy5wcm9wcy5vblNlbGVjdChzdWdnZXN0aW9uLCBxdWVyeUluZm8pO1xuICAgIH0pO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCBcInNldFVsRWxlbWVudFwiLCBmdW5jdGlvbiAoZWwpIHtcbiAgICAgIF90aGlzLnVsRWxlbWVudCA9IGVsO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKFN1Z2dlc3Rpb25zT3ZlcmxheSwgW3tcbiAgICBrZXk6IFwiY29tcG9uZW50RGlkVXBkYXRlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudERpZFVwZGF0ZSgpIHtcbiAgICAgIGlmICghdGhpcy51bEVsZW1lbnQgfHwgdGhpcy51bEVsZW1lbnQub2Zmc2V0SGVpZ2h0ID49IHRoaXMudWxFbGVtZW50LnNjcm9sbEhlaWdodCB8fCAhdGhpcy5wcm9wcy5zY3JvbGxGb2N1c2VkSW50b1ZpZXcpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB2YXIgc2Nyb2xsVG9wID0gdGhpcy51bEVsZW1lbnQuc2Nyb2xsVG9wO1xuXG4gICAgICB2YXIgX3RoaXMkdWxFbGVtZW50JGNoaWxkID0gdGhpcy51bEVsZW1lbnQuY2hpbGRyZW5bdGhpcy5wcm9wcy5mb2N1c0luZGV4XS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSxcbiAgICAgICAgICB0b3AgPSBfdGhpcyR1bEVsZW1lbnQkY2hpbGQudG9wLFxuICAgICAgICAgIGJvdHRvbSA9IF90aGlzJHVsRWxlbWVudCRjaGlsZC5ib3R0b207XG5cbiAgICAgIHZhciBfdGhpcyR1bEVsZW1lbnQkZ2V0Qm8gPSB0aGlzLnVsRWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSxcbiAgICAgICAgICB0b3BDb250YWluZXIgPSBfdGhpcyR1bEVsZW1lbnQkZ2V0Qm8udG9wO1xuXG4gICAgICB0b3AgPSB0b3AgLSB0b3BDb250YWluZXIgKyBzY3JvbGxUb3A7XG4gICAgICBib3R0b20gPSBib3R0b20gLSB0b3BDb250YWluZXIgKyBzY3JvbGxUb3A7XG5cbiAgICAgIGlmICh0b3AgPCBzY3JvbGxUb3ApIHtcbiAgICAgICAgdGhpcy51bEVsZW1lbnQuc2Nyb2xsVG9wID0gdG9wO1xuICAgICAgfSBlbHNlIGlmIChib3R0b20gPiB0aGlzLnVsRWxlbWVudC5vZmZzZXRIZWlnaHQpIHtcbiAgICAgICAgdGhpcy51bEVsZW1lbnQuc2Nyb2xsVG9wID0gYm90dG9tIC0gdGhpcy51bEVsZW1lbnQub2Zmc2V0SGVpZ2h0O1xuICAgICAgfVxuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJyZW5kZXJcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgdmFyIF90aGlzJHByb3BzID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICBpZCA9IF90aGlzJHByb3BzLmlkLFxuICAgICAgICAgIGExMXlTdWdnZXN0aW9uc0xpc3RMYWJlbCA9IF90aGlzJHByb3BzLmExMXlTdWdnZXN0aW9uc0xpc3RMYWJlbCxcbiAgICAgICAgICBpc09wZW5lZCA9IF90aGlzJHByb3BzLmlzT3BlbmVkLFxuICAgICAgICAgIHN0eWxlID0gX3RoaXMkcHJvcHMuc3R5bGUsXG4gICAgICAgICAgb25Nb3VzZURvd24gPSBfdGhpcyRwcm9wcy5vbk1vdXNlRG93bixcbiAgICAgICAgICBjb250YWluZXJSZWYgPSBfdGhpcyRwcm9wcy5jb250YWluZXJSZWYsXG4gICAgICAgICAgcG9zaXRpb24gPSBfdGhpcyRwcm9wcy5wb3NpdGlvbixcbiAgICAgICAgICBsZWZ0ID0gX3RoaXMkcHJvcHMubGVmdCxcbiAgICAgICAgICB0b3AgPSBfdGhpcyRwcm9wcy50b3A7IC8vIGRvIG5vdCBzaG93IHN1Z2dlc3Rpb25zIHVudGlsIHRoZXJlIGlzIHNvbWUgZGF0YVxuXG4gICAgICBpZiAoIWlzT3BlbmVkKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCBfZXh0ZW5kcyh7fSwgaW5saW5lKHtcbiAgICAgICAgcG9zaXRpb246IHBvc2l0aW9uIHx8ICdhYnNvbHV0ZScsXG4gICAgICAgIGxlZnQ6IGxlZnQsXG4gICAgICAgIHRvcDogdG9wXG4gICAgICB9LCBzdHlsZSksIHtcbiAgICAgICAgb25Nb3VzZURvd246IG9uTW91c2VEb3duLFxuICAgICAgICByZWY6IGNvbnRhaW5lclJlZlxuICAgICAgfSksIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJ1bFwiLCBfZXh0ZW5kcyh7XG4gICAgICAgIHJlZjogdGhpcy5zZXRVbEVsZW1lbnQsXG4gICAgICAgIGlkOiBpZCxcbiAgICAgICAgcm9sZTogXCJsaXN0Ym94XCIsXG4gICAgICAgIFwiYXJpYS1sYWJlbFwiOiBhMTF5U3VnZ2VzdGlvbnNMaXN0TGFiZWxcbiAgICAgIH0sIHN0eWxlKCdsaXN0JykpLCB0aGlzLnJlbmRlclN1Z2dlc3Rpb25zKCkpLCB0aGlzLnJlbmRlckxvYWRpbmdJbmRpY2F0b3IoKSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInJlbmRlclN1Z2dlc3Rpb25zXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlclN1Z2dlc3Rpb25zKCkge1xuICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICAgIHJldHVybiBPYmplY3QudmFsdWVzKHRoaXMucHJvcHMuc3VnZ2VzdGlvbnMpLnJlZHVjZShmdW5jdGlvbiAoYWNjUmVzdWx0cywgX3JlZikge1xuICAgICAgICB2YXIgcmVzdWx0cyA9IF9yZWYucmVzdWx0cyxcbiAgICAgICAgICAgIHF1ZXJ5SW5mbyA9IF9yZWYucXVlcnlJbmZvO1xuICAgICAgICByZXR1cm4gW10uY29uY2F0KF90b0NvbnN1bWFibGVBcnJheShhY2NSZXN1bHRzKSwgX3RvQ29uc3VtYWJsZUFycmF5KHJlc3VsdHMubWFwKGZ1bmN0aW9uIChyZXN1bHQsIGluZGV4KSB7XG4gICAgICAgICAgcmV0dXJuIF90aGlzMi5yZW5kZXJTdWdnZXN0aW9uKHJlc3VsdCwgcXVlcnlJbmZvLCBhY2NSZXN1bHRzLmxlbmd0aCArIGluZGV4KTtcbiAgICAgICAgfSkpKTtcbiAgICAgIH0sIFtdKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwicmVuZGVyU3VnZ2VzdGlvblwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXJTdWdnZXN0aW9uKHJlc3VsdCwgcXVlcnlJbmZvLCBpbmRleCkge1xuICAgICAgdmFyIF90aGlzMyA9IHRoaXM7XG5cbiAgICAgIHZhciBpc0ZvY3VzZWQgPSBpbmRleCA9PT0gdGhpcy5wcm9wcy5mb2N1c0luZGV4O1xuICAgICAgdmFyIGNoaWxkSW5kZXggPSBxdWVyeUluZm8uY2hpbGRJbmRleCxcbiAgICAgICAgICBxdWVyeSA9IHF1ZXJ5SW5mby5xdWVyeTtcbiAgICAgIHZhciByZW5kZXJTdWdnZXN0aW9uID0gQ2hpbGRyZW4udG9BcnJheSh0aGlzLnByb3BzLmNoaWxkcmVuKVtjaGlsZEluZGV4XS5wcm9wcy5yZW5kZXJTdWdnZXN0aW9uO1xuICAgICAgdmFyIGlnbm9yZUFjY2VudHMgPSB0aGlzLnByb3BzLmlnbm9yZUFjY2VudHM7XG4gICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChTdWdnZXN0aW9uJDEsIHtcbiAgICAgICAgc3R5bGU6IHRoaXMucHJvcHMuc3R5bGUoJ2l0ZW0nKSxcbiAgICAgICAga2V5OiBcIlwiLmNvbmNhdChjaGlsZEluZGV4LCBcIi1cIikuY29uY2F0KGdldElEKHJlc3VsdCkpLFxuICAgICAgICBpZDogZ2V0U3VnZ2VzdGlvbkh0bWxJZCh0aGlzLnByb3BzLmlkLCBpbmRleCksXG4gICAgICAgIHF1ZXJ5OiBxdWVyeSxcbiAgICAgICAgaW5kZXg6IGluZGV4LFxuICAgICAgICBpZ25vcmVBY2NlbnRzOiBpZ25vcmVBY2NlbnRzLFxuICAgICAgICByZW5kZXJTdWdnZXN0aW9uOiByZW5kZXJTdWdnZXN0aW9uLFxuICAgICAgICBzdWdnZXN0aW9uOiByZXN1bHQsXG4gICAgICAgIGZvY3VzZWQ6IGlzRm9jdXNlZCxcbiAgICAgICAgb25DbGljazogZnVuY3Rpb24gb25DbGljaygpIHtcbiAgICAgICAgICByZXR1cm4gX3RoaXMzLnNlbGVjdChyZXN1bHQsIHF1ZXJ5SW5mbyk7XG4gICAgICAgIH0sXG4gICAgICAgIG9uTW91c2VFbnRlcjogZnVuY3Rpb24gb25Nb3VzZUVudGVyKCkge1xuICAgICAgICAgIHJldHVybiBfdGhpczMuaGFuZGxlTW91c2VFbnRlcihpbmRleCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJyZW5kZXJMb2FkaW5nSW5kaWNhdG9yXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlckxvYWRpbmdJbmRpY2F0b3IoKSB7XG4gICAgICBpZiAoIXRoaXMucHJvcHMuaXNMb2FkaW5nKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoTG9hZGluZ0luZGljYXRvciwge1xuICAgICAgICBzdHlsZTogdGhpcy5wcm9wcy5zdHlsZSgnbG9hZGluZ0luZGljYXRvcicpXG4gICAgICB9KTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gU3VnZ2VzdGlvbnNPdmVybGF5O1xufShDb21wb25lbnQpO1xuXG5fZGVmaW5lUHJvcGVydHkoU3VnZ2VzdGlvbnNPdmVybGF5LCBcInByb3BUeXBlc1wiLCB7XG4gIGlkOiBQcm9wVHlwZXMuc3RyaW5nLmlzUmVxdWlyZWQsXG4gIHN1Z2dlc3Rpb25zOiBQcm9wVHlwZXMub2JqZWN0LmlzUmVxdWlyZWQsXG4gIGExMXlTdWdnZXN0aW9uc0xpc3RMYWJlbDogUHJvcFR5cGVzLnN0cmluZyxcbiAgZm9jdXNJbmRleDogUHJvcFR5cGVzLm51bWJlcixcbiAgcG9zaXRpb246IFByb3BUeXBlcy5zdHJpbmcsXG4gIGxlZnQ6IFByb3BUeXBlcy5udW1iZXIsXG4gIHRvcDogUHJvcFR5cGVzLm51bWJlcixcbiAgc2Nyb2xsRm9jdXNlZEludG9WaWV3OiBQcm9wVHlwZXMuYm9vbCxcbiAgaXNMb2FkaW5nOiBQcm9wVHlwZXMuYm9vbCxcbiAgaXNPcGVuZWQ6IFByb3BUeXBlcy5ib29sLmlzUmVxdWlyZWQsXG4gIG9uU2VsZWN0OiBQcm9wVHlwZXMuZnVuYyxcbiAgaWdub3JlQWNjZW50czogUHJvcFR5cGVzLmJvb2wsXG4gIGNvbnRhaW5lclJlZjogUHJvcFR5cGVzLm9uZU9mVHlwZShbUHJvcFR5cGVzLmZ1bmMsIFByb3BUeXBlcy5zaGFwZSh7XG4gICAgY3VycmVudDogdHlwZW9mIEVsZW1lbnQgPT09ICd1bmRlZmluZWQnID8gUHJvcFR5cGVzLmFueSA6IFByb3BUeXBlcy5pbnN0YW5jZU9mKEVsZW1lbnQpXG4gIH0pXSksXG4gIGNoaWxkcmVuOiBQcm9wVHlwZXMub25lT2ZUeXBlKFtQcm9wVHlwZXMuZWxlbWVudCwgUHJvcFR5cGVzLmFycmF5T2YoUHJvcFR5cGVzLmVsZW1lbnQpXSkuaXNSZXF1aXJlZFxufSk7XG5cbl9kZWZpbmVQcm9wZXJ0eShTdWdnZXN0aW9uc092ZXJsYXksIFwiZGVmYXVsdFByb3BzXCIsIHtcbiAgc3VnZ2VzdGlvbnM6IHt9LFxuICBvblNlbGVjdDogZnVuY3Rpb24gb25TZWxlY3QoKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbn0pO1xuXG52YXIgZ2V0SUQgPSBmdW5jdGlvbiBnZXRJRChzdWdnZXN0aW9uKSB7XG4gIGlmICh0eXBlb2Ygc3VnZ2VzdGlvbiA9PT0gJ3N0cmluZycpIHtcbiAgICByZXR1cm4gc3VnZ2VzdGlvbjtcbiAgfVxuXG4gIHJldHVybiBzdWdnZXN0aW9uLmlkO1xufTtcblxudmFyIHN0eWxlZCQyID0gY3JlYXRlRGVmYXVsdFN0eWxlKHtcbiAgekluZGV4OiAxLFxuICBiYWNrZ3JvdW5kQ29sb3I6ICd3aGl0ZScsXG4gIG1hcmdpblRvcDogMTQsXG4gIG1pbldpZHRoOiAxMDAsXG4gIGxpc3Q6IHtcbiAgICBtYXJnaW46IDAsXG4gICAgcGFkZGluZzogMCxcbiAgICBsaXN0U3R5bGVUeXBlOiAnbm9uZSdcbiAgfVxufSk7XG52YXIgU3VnZ2VzdGlvbnNPdmVybGF5JDEgPSBzdHlsZWQkMihTdWdnZXN0aW9uc092ZXJsYXkpO1xuXG5mdW5jdGlvbiBvd25LZXlzKG9iamVjdCwgZW51bWVyYWJsZU9ubHkpIHsgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhvYmplY3QpOyBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykgeyB2YXIgc3ltYm9scyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMob2JqZWN0KTsgaWYgKGVudW1lcmFibGVPbmx5KSBzeW1ib2xzID0gc3ltYm9scy5maWx0ZXIoZnVuY3Rpb24gKHN5bSkgeyByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QsIHN5bSkuZW51bWVyYWJsZTsgfSk7IGtleXMucHVzaC5hcHBseShrZXlzLCBzeW1ib2xzKTsgfSByZXR1cm4ga2V5czsgfVxuXG5mdW5jdGlvbiBfb2JqZWN0U3ByZWFkKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldICE9IG51bGwgPyBhcmd1bWVudHNbaV0gOiB7fTsgaWYgKGkgJSAyKSB7IG93bktleXMoc291cmNlLCB0cnVlKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgX2RlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBzb3VyY2Vba2V5XSk7IH0pOyB9IGVsc2UgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMoc291cmNlKSk7IH0gZWxzZSB7IG93bktleXMoc291cmNlKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHNvdXJjZSwga2V5KSk7IH0pOyB9IH0gcmV0dXJuIHRhcmdldDsgfVxudmFyIG1ha2VUcmlnZ2VyUmVnZXggPSBmdW5jdGlvbiBtYWtlVHJpZ2dlclJlZ2V4KHRyaWdnZXIpIHtcbiAgdmFyIG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHt9O1xuXG4gIGlmICh0cmlnZ2VyIGluc3RhbmNlb2YgUmVnRXhwKSB7XG4gICAgcmV0dXJuIHRyaWdnZXI7XG4gIH0gZWxzZSB7XG4gICAgdmFyIGFsbG93U3BhY2VJblF1ZXJ5ID0gb3B0aW9ucy5hbGxvd1NwYWNlSW5RdWVyeTtcbiAgICB2YXIgZXNjYXBlZFRyaWdnZXJDaGFyID0gZXNjYXBlUmVnZXgodHJpZ2dlcik7IC8vIGZpcnN0IGNhcHR1cmUgZ3JvdXAgaXMgdGhlIHBhcnQgdG8gYmUgcmVwbGFjZWQgb24gY29tcGxldGlvblxuICAgIC8vIHNlY29uZCBjYXB0dXJlIGdyb3VwIGlzIGZvciBleHRyYWN0aW5nIHRoZSBzZWFyY2ggcXVlcnlcblxuICAgIHJldHVybiBuZXcgUmVnRXhwKFwiKD86XnxcXFxccykoXCIuY29uY2F0KGVzY2FwZWRUcmlnZ2VyQ2hhciwgXCIoW15cIikuY29uY2F0KGFsbG93U3BhY2VJblF1ZXJ5ID8gJycgOiAnXFxcXHMnKS5jb25jYXQoZXNjYXBlZFRyaWdnZXJDaGFyLCBcIl0qKSkkXCIpKTtcbiAgfVxufTtcblxudmFyIGdldERhdGFQcm92aWRlciA9IGZ1bmN0aW9uIGdldERhdGFQcm92aWRlcihkYXRhLCBpZ25vcmVBY2NlbnRzKSB7XG4gIGlmIChkYXRhIGluc3RhbmNlb2YgQXJyYXkpIHtcbiAgICAvLyBpZiBkYXRhIGlzIGFuIGFycmF5LCBjcmVhdGUgYSBmdW5jdGlvbiB0byBxdWVyeSB0aGF0XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChxdWVyeSwgY2FsbGJhY2spIHtcbiAgICAgIHZhciByZXN1bHRzID0gW107XG5cbiAgICAgIGZvciAodmFyIGkgPSAwLCBsID0gZGF0YS5sZW5ndGg7IGkgPCBsOyArK2kpIHtcbiAgICAgICAgdmFyIGRpc3BsYXkgPSBkYXRhW2ldLmRpc3BsYXkgfHwgZGF0YVtpXS5pZDtcblxuICAgICAgICBpZiAoZ2V0U3Vic3RyaW5nSW5kZXgoZGlzcGxheSwgcXVlcnksIGlnbm9yZUFjY2VudHMpID49IDApIHtcbiAgICAgICAgICByZXN1bHRzLnB1c2goZGF0YVtpXSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHJlc3VsdHM7XG4gICAgfTtcbiAgfSBlbHNlIHtcbiAgICAvLyBleHBlY3QgZGF0YSB0byBiZSBhIHF1ZXJ5IGZ1bmN0aW9uXG4gICAgcmV0dXJuIGRhdGE7XG4gIH1cbn07XG5cbnZhciBLRVkgPSB7XG4gIFRBQjogOSxcbiAgUkVUVVJOOiAxMyxcbiAgRVNDOiAyNyxcbiAgVVA6IDM4LFxuICBET1dOOiA0MFxufTtcbnZhciBpc0NvbXBvc2luZyA9IGZhbHNlO1xudmFyIHByb3BUeXBlcyA9IHtcbiAgLyoqXG4gICAqIElmIHNldCB0byBgdHJ1ZWAgYSByZWd1bGFyIHRleHQgaW5wdXQgZWxlbWVudCB3aWxsIGJlIHJlbmRlcmVkXG4gICAqIGluc3RlYWQgb2YgYSB0ZXh0YXJlYVxuICAgKi9cbiAgc2luZ2xlTGluZTogUHJvcFR5cGVzLmJvb2wsXG4gIGFsbG93U3BhY2VJblF1ZXJ5OiBQcm9wVHlwZXMuYm9vbCxcbiAgYWxsb3dTdWdnZXN0aW9uc0Fib3ZlQ3Vyc29yOiBQcm9wVHlwZXMuYm9vbCxcbiAgZm9yY2VTdWdnZXN0aW9uc0Fib3ZlQ3Vyc29yOiBQcm9wVHlwZXMuYm9vbCxcbiAgaWdub3JlQWNjZW50czogUHJvcFR5cGVzLmJvb2wsXG4gIGExMXlTdWdnZXN0aW9uc0xpc3RMYWJlbDogUHJvcFR5cGVzLnN0cmluZyxcbiAgdmFsdWU6IFByb3BUeXBlcy5zdHJpbmcsXG4gIG9uS2V5RG93bjogUHJvcFR5cGVzLmZ1bmMsXG4gIG9uU2VsZWN0OiBQcm9wVHlwZXMuZnVuYyxcbiAgb25CbHVyOiBQcm9wVHlwZXMuZnVuYyxcbiAgb25DaGFuZ2U6IFByb3BUeXBlcy5mdW5jLFxuICBzdWdnZXN0aW9uc1BvcnRhbEhvc3Q6IHR5cGVvZiBFbGVtZW50ID09PSAndW5kZWZpbmVkJyA/IFByb3BUeXBlcy5hbnkgOiBQcm9wVHlwZXMuUHJvcFR5cGVzLmluc3RhbmNlT2YoRWxlbWVudCksXG4gIGlucHV0UmVmOiBQcm9wVHlwZXMub25lT2ZUeXBlKFtQcm9wVHlwZXMuZnVuYywgUHJvcFR5cGVzLnNoYXBlKHtcbiAgICBjdXJyZW50OiB0eXBlb2YgRWxlbWVudCA9PT0gJ3VuZGVmaW5lZCcgPyBQcm9wVHlwZXMuYW55IDogUHJvcFR5cGVzLmluc3RhbmNlT2YoRWxlbWVudClcbiAgfSldKSxcbiAgY2hpbGRyZW46IFByb3BUeXBlcy5vbmVPZlR5cGUoW1Byb3BUeXBlcy5lbGVtZW50LCBQcm9wVHlwZXMuYXJyYXlPZihQcm9wVHlwZXMuZWxlbWVudCldKS5pc1JlcXVpcmVkXG59O1xuXG52YXIgTWVudGlvbnNJbnB1dCA9XG4vKiNfX1BVUkVfXyovXG5mdW5jdGlvbiAoX1JlYWN0JENvbXBvbmVudCkge1xuICBfaW5oZXJpdHMoTWVudGlvbnNJbnB1dCwgX1JlYWN0JENvbXBvbmVudCk7XG5cbiAgZnVuY3Rpb24gTWVudGlvbnNJbnB1dChfcHJvcHMpIHtcbiAgICB2YXIgX3RoaXM7XG5cbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgTWVudGlvbnNJbnB1dCk7XG5cbiAgICBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9nZXRQcm90b3R5cGVPZihNZW50aW9uc0lucHV0KS5jYWxsKHRoaXMsIF9wcm9wcykpO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCBcInNldENvbnRhaW5lckVsZW1lbnRcIiwgZnVuY3Rpb24gKGVsKSB7XG4gICAgICBfdGhpcy5jb250YWluZXJFbGVtZW50ID0gZWw7XG4gICAgfSk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksIFwiZ2V0SW5wdXRQcm9wc1wiLCBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgX3RoaXMkcHJvcHMgPSBfdGhpcy5wcm9wcyxcbiAgICAgICAgICByZWFkT25seSA9IF90aGlzJHByb3BzLnJlYWRPbmx5LFxuICAgICAgICAgIGRpc2FibGVkID0gX3RoaXMkcHJvcHMuZGlzYWJsZWQsXG4gICAgICAgICAgc3R5bGUgPSBfdGhpcyRwcm9wcy5zdHlsZTsgLy8gcGFzcyBhbGwgcHJvcHMgdGhhdCBuZWl0aGVyIHdlLCBub3Igc3Vic3R5bGUsIGNvbnN1bWUgdGhyb3VnaCB0byB0aGUgaW5wdXQgY29udHJvbFxuXG4gICAgICB2YXIgcHJvcHMgPSBvbWl0KF90aGlzLnByb3BzLCBbJ3N0eWxlJywgJ2NsYXNzTmFtZXMnLCAnY2xhc3NOYW1lJ10sIC8vIHN1YnN0eWxlIHByb3BzXG4gICAgICBrZXlzKHByb3BUeXBlcykpO1xuICAgICAgcmV0dXJuIF9vYmplY3RTcHJlYWQoe30sIHByb3BzLCB7fSwgc3R5bGUoJ2lucHV0JyksIHtcbiAgICAgICAgdmFsdWU6IF90aGlzLmdldFBsYWluVGV4dCgpXG4gICAgICB9LCAhcmVhZE9ubHkgJiYgIWRpc2FibGVkICYmIHtcbiAgICAgICAgb25DaGFuZ2U6IF90aGlzLmhhbmRsZUNoYW5nZSxcbiAgICAgICAgb25TZWxlY3Q6IF90aGlzLmhhbmRsZVNlbGVjdCxcbiAgICAgICAgb25LZXlEb3duOiBfdGhpcy5oYW5kbGVLZXlEb3duLFxuICAgICAgICBvbkJsdXI6IF90aGlzLmhhbmRsZUJsdXIsXG4gICAgICAgIG9uQ29tcG9zaXRpb25TdGFydDogX3RoaXMuaGFuZGxlQ29tcG9zaXRpb25TdGFydCxcbiAgICAgICAgb25Db21wb3NpdGlvbkVuZDogX3RoaXMuaGFuZGxlQ29tcG9zaXRpb25FbmQsXG4gICAgICAgIG9uU2Nyb2xsOiBfdGhpcy51cGRhdGVIaWdobGlnaHRlclNjcm9sbFxuICAgICAgfSwge30sIF90aGlzLmlzT3BlbmVkKCkgJiYge1xuICAgICAgICByb2xlOiAnY29tYm9ib3gnLFxuICAgICAgICAnYXJpYS1jb250cm9scyc6IF90aGlzLnV1aWRTdWdnZXN0aW9uc092ZXJsYXksXG4gICAgICAgICdhcmlhLWV4cGFuZGVkJzogdHJ1ZSxcbiAgICAgICAgJ2FyaWEtYXV0b2NvbXBsZXRlJzogJ2xpc3QnLFxuICAgICAgICAnYXJpYS1oYXNwb3B1cCc6ICdsaXN0Ym94JyxcbiAgICAgICAgJ2FyaWEtYWN0aXZlZGVzY2VuZGFudCc6IGdldFN1Z2dlc3Rpb25IdG1sSWQoX3RoaXMudXVpZFN1Z2dlc3Rpb25zT3ZlcmxheSwgX3RoaXMuc3RhdGUuZm9jdXNJbmRleClcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCBcInJlbmRlckNvbnRyb2xcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF90aGlzJHByb3BzMiA9IF90aGlzLnByb3BzLFxuICAgICAgICAgIHNpbmdsZUxpbmUgPSBfdGhpcyRwcm9wczIuc2luZ2xlTGluZSxcbiAgICAgICAgICBzdHlsZSA9IF90aGlzJHByb3BzMi5zdHlsZTtcblxuICAgICAgdmFyIGlucHV0UHJvcHMgPSBfdGhpcy5nZXRJbnB1dFByb3BzKCk7XG5cbiAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHN0eWxlKCdjb250cm9sJyksIF90aGlzLnJlbmRlckhpZ2hsaWdodGVyKCksIHNpbmdsZUxpbmUgPyBfdGhpcy5yZW5kZXJJbnB1dChpbnB1dFByb3BzKSA6IF90aGlzLnJlbmRlclRleHRhcmVhKGlucHV0UHJvcHMpKTtcbiAgICB9KTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgXCJyZW5kZXJJbnB1dFwiLCBmdW5jdGlvbiAocHJvcHMpIHtcbiAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIiwgX2V4dGVuZHMoe1xuICAgICAgICB0eXBlOiBcInRleHRcIixcbiAgICAgICAgcmVmOiBfdGhpcy5zZXRJbnB1dFJlZlxuICAgICAgfSwgcHJvcHMpKTtcbiAgICB9KTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgXCJyZW5kZXJUZXh0YXJlYVwiLCBmdW5jdGlvbiAocHJvcHMpIHtcbiAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFwidGV4dGFyZWFcIiwgX2V4dGVuZHMoe1xuICAgICAgICByZWY6IF90aGlzLnNldElucHV0UmVmXG4gICAgICB9LCBwcm9wcykpO1xuICAgIH0pO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCBcInNldElucHV0UmVmXCIsIGZ1bmN0aW9uIChlbCkge1xuICAgICAgX3RoaXMuaW5wdXRFbGVtZW50ID0gZWw7XG4gICAgICB2YXIgaW5wdXRSZWYgPSBfdGhpcy5wcm9wcy5pbnB1dFJlZjtcblxuICAgICAgaWYgKHR5cGVvZiBpbnB1dFJlZiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICBpbnB1dFJlZihlbCk7XG4gICAgICB9IGVsc2UgaWYgKGlucHV0UmVmKSB7XG4gICAgICAgIGlucHV0UmVmLmN1cnJlbnQgPSBlbDtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgXCJzZXRTdWdnZXN0aW9uc0VsZW1lbnRcIiwgZnVuY3Rpb24gKGVsKSB7XG4gICAgICBfdGhpcy5zdWdnZXN0aW9uc0VsZW1lbnQgPSBlbDtcbiAgICB9KTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgXCJyZW5kZXJTdWdnZXN0aW9uc092ZXJsYXlcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKCFpc051bWJlcihfdGhpcy5zdGF0ZS5zZWxlY3Rpb25TdGFydCkpIHtcbiAgICAgICAgLy8gZG8gbm90IHNob3cgc3VnZ2VzdGlvbnMgd2hlbiB0aGUgaW5wdXQgZG9lcyBub3QgaGF2ZSB0aGUgZm9jdXNcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG5cbiAgICAgIHZhciBfdGhpcyRzdGF0ZSRzdWdnZXN0aW8gPSBfdGhpcy5zdGF0ZS5zdWdnZXN0aW9uc1Bvc2l0aW9uLFxuICAgICAgICAgIHBvc2l0aW9uID0gX3RoaXMkc3RhdGUkc3VnZ2VzdGlvLnBvc2l0aW9uLFxuICAgICAgICAgIGxlZnQgPSBfdGhpcyRzdGF0ZSRzdWdnZXN0aW8ubGVmdCxcbiAgICAgICAgICB0b3AgPSBfdGhpcyRzdGF0ZSRzdWdnZXN0aW8udG9wO1xuICAgICAgdmFyIHN1Z2dlc3Rpb25zTm9kZSA9IFJlYWN0LmNyZWF0ZUVsZW1lbnQoU3VnZ2VzdGlvbnNPdmVybGF5JDEsIHtcbiAgICAgICAgaWQ6IF90aGlzLnV1aWRTdWdnZXN0aW9uc092ZXJsYXksXG4gICAgICAgIHN0eWxlOiBfdGhpcy5wcm9wcy5zdHlsZSgnc3VnZ2VzdGlvbnMnKSxcbiAgICAgICAgcG9zaXRpb246IHBvc2l0aW9uLFxuICAgICAgICBsZWZ0OiBsZWZ0LFxuICAgICAgICB0b3A6IHRvcCxcbiAgICAgICAgZm9jdXNJbmRleDogX3RoaXMuc3RhdGUuZm9jdXNJbmRleCxcbiAgICAgICAgc2Nyb2xsRm9jdXNlZEludG9WaWV3OiBfdGhpcy5zdGF0ZS5zY3JvbGxGb2N1c2VkSW50b1ZpZXcsXG4gICAgICAgIGNvbnRhaW5lclJlZjogX3RoaXMuc2V0U3VnZ2VzdGlvbnNFbGVtZW50LFxuICAgICAgICBzdWdnZXN0aW9uczogX3RoaXMuc3RhdGUuc3VnZ2VzdGlvbnMsXG4gICAgICAgIG9uU2VsZWN0OiBfdGhpcy5hZGRNZW50aW9uLFxuICAgICAgICBvbk1vdXNlRG93bjogX3RoaXMuaGFuZGxlU3VnZ2VzdGlvbnNNb3VzZURvd24sXG4gICAgICAgIG9uTW91c2VFbnRlcjogX3RoaXMuaGFuZGxlU3VnZ2VzdGlvbnNNb3VzZUVudGVyLFxuICAgICAgICBpc0xvYWRpbmc6IF90aGlzLmlzTG9hZGluZygpLFxuICAgICAgICBpc09wZW5lZDogX3RoaXMuaXNPcGVuZWQoKSxcbiAgICAgICAgaWdub3JlQWNjZW50czogX3RoaXMucHJvcHMuaWdub3JlQWNjZW50cyxcbiAgICAgICAgYTExeVN1Z2dlc3Rpb25zTGlzdExhYmVsOiBfdGhpcy5wcm9wcy5hMTF5U3VnZ2VzdGlvbnNMaXN0TGFiZWxcbiAgICAgIH0sIF90aGlzLnByb3BzLmNoaWxkcmVuKTtcblxuICAgICAgaWYgKF90aGlzLnByb3BzLnN1Z2dlc3Rpb25zUG9ydGFsSG9zdCkge1xuICAgICAgICByZXR1cm4gUmVhY3RET00uY3JlYXRlUG9ydGFsKHN1Z2dlc3Rpb25zTm9kZSwgX3RoaXMucHJvcHMuc3VnZ2VzdGlvbnNQb3J0YWxIb3N0KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBzdWdnZXN0aW9uc05vZGU7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksIFwicmVuZGVySGlnaGxpZ2h0ZXJcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF90aGlzJHN0YXRlID0gX3RoaXMuc3RhdGUsXG4gICAgICAgICAgc2VsZWN0aW9uU3RhcnQgPSBfdGhpcyRzdGF0ZS5zZWxlY3Rpb25TdGFydCxcbiAgICAgICAgICBzZWxlY3Rpb25FbmQgPSBfdGhpcyRzdGF0ZS5zZWxlY3Rpb25FbmQ7XG4gICAgICB2YXIgX3RoaXMkcHJvcHMzID0gX3RoaXMucHJvcHMsXG4gICAgICAgICAgc2luZ2xlTGluZSA9IF90aGlzJHByb3BzMy5zaW5nbGVMaW5lLFxuICAgICAgICAgIGNoaWxkcmVuID0gX3RoaXMkcHJvcHMzLmNoaWxkcmVuLFxuICAgICAgICAgIHZhbHVlID0gX3RoaXMkcHJvcHMzLnZhbHVlLFxuICAgICAgICAgIHN0eWxlID0gX3RoaXMkcHJvcHMzLnN0eWxlO1xuICAgICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoSGlnaGxpZ2h0ZXIkMSwge1xuICAgICAgICBjb250YWluZXJSZWY6IF90aGlzLnNldEhpZ2hsaWdodGVyRWxlbWVudCxcbiAgICAgICAgc3R5bGU6IHN0eWxlKCdoaWdobGlnaHRlcicpLFxuICAgICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICAgIHNpbmdsZUxpbmU6IHNpbmdsZUxpbmUsXG4gICAgICAgIHNlbGVjdGlvblN0YXJ0OiBzZWxlY3Rpb25TdGFydCxcbiAgICAgICAgc2VsZWN0aW9uRW5kOiBzZWxlY3Rpb25FbmQsXG4gICAgICAgIG9uQ2FyZXRQb3NpdGlvbkNoYW5nZTogX3RoaXMuaGFuZGxlQ2FyZXRQb3NpdGlvbkNoYW5nZVxuICAgICAgfSwgY2hpbGRyZW4pO1xuICAgIH0pO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCBcInNldEhpZ2hsaWdodGVyRWxlbWVudFwiLCBmdW5jdGlvbiAoZWwpIHtcbiAgICAgIF90aGlzLmhpZ2hsaWdodGVyRWxlbWVudCA9IGVsO1xuICAgIH0pO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCBcImhhbmRsZUNhcmV0UG9zaXRpb25DaGFuZ2VcIiwgZnVuY3Rpb24gKHBvc2l0aW9uKSB7XG4gICAgICBfdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIGNhcmV0UG9zaXRpb246IHBvc2l0aW9uXG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgXCJnZXRQbGFpblRleHRcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIGdldFBsYWluVGV4dChfdGhpcy5wcm9wcy52YWx1ZSB8fCAnJywgcmVhZENvbmZpZ0Zyb21DaGlsZHJlbihfdGhpcy5wcm9wcy5jaGlsZHJlbikpO1xuICAgIH0pO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCBcImV4ZWN1dGVPbkNoYW5nZVwiLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW4gPiAxID8gX2xlbiAtIDEgOiAwKSwgX2tleSA9IDE7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgICAgYXJnc1tfa2V5IC0gMV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgICB9XG5cbiAgICAgIGlmIChfdGhpcy5wcm9wcy5vbkNoYW5nZSkge1xuICAgICAgICB2YXIgX3RoaXMkcHJvcHM0O1xuXG4gICAgICAgIHJldHVybiAoX3RoaXMkcHJvcHM0ID0gX3RoaXMucHJvcHMpLm9uQ2hhbmdlLmFwcGx5KF90aGlzJHByb3BzNCwgW2V2ZW50XS5jb25jYXQoYXJncykpO1xuICAgICAgfVxuXG4gICAgICBpZiAoX3RoaXMucHJvcHMudmFsdWVMaW5rKSB7XG4gICAgICAgIHZhciBfdGhpcyRwcm9wcyR2YWx1ZUxpbms7XG5cbiAgICAgICAgcmV0dXJuIChfdGhpcyRwcm9wcyR2YWx1ZUxpbmsgPSBfdGhpcy5wcm9wcy52YWx1ZUxpbmspLnJlcXVlc3RDaGFuZ2UuYXBwbHkoX3RoaXMkcHJvcHMkdmFsdWVMaW5rLCBbZXZlbnQudGFyZ2V0LnZhbHVlXS5jb25jYXQoYXJncykpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCBcImhhbmRsZUNoYW5nZVwiLCBmdW5jdGlvbiAoZXYpIHtcbiAgICAgIGlzQ29tcG9zaW5nID0gZmFsc2U7IC8vIGlmIHdlIGFyZSBpbnNpZGUgaWZyYW1lLCB3ZSBuZWVkIHRvIGZpbmQgYWN0aXZlRWxlbWVudCB3aXRoaW4gaXRzIGNvbnRlbnREb2N1bWVudFxuXG4gICAgICB2YXIgY3VycmVudERvY3VtZW50ID0gZG9jdW1lbnQuYWN0aXZlRWxlbWVudCAmJiBkb2N1bWVudC5hY3RpdmVFbGVtZW50LmNvbnRlbnREb2N1bWVudCB8fCBkb2N1bWVudDtcblxuICAgICAgaWYgKGN1cnJlbnREb2N1bWVudC5hY3RpdmVFbGVtZW50ICE9PSBldi50YXJnZXQpIHtcbiAgICAgICAgLy8gZml4IGFuIElFIGJ1ZyAoYmx1ciBmcm9tIGVtcHR5IGlucHV0IGVsZW1lbnQgd2l0aCBwbGFjZWhvbGRlciBhdHRyaWJ1dGUgdHJpZ2dlciBcImlucHV0XCIgZXZlbnQpXG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdmFyIHZhbHVlID0gX3RoaXMucHJvcHMudmFsdWUgfHwgJyc7XG4gICAgICB2YXIgY29uZmlnID0gcmVhZENvbmZpZ0Zyb21DaGlsZHJlbihfdGhpcy5wcm9wcy5jaGlsZHJlbik7XG4gICAgICB2YXIgbmV3UGxhaW5UZXh0VmFsdWUgPSBldi50YXJnZXQudmFsdWU7IC8vIERlcml2ZSB0aGUgbmV3IHZhbHVlIHRvIHNldCBieSBhcHBseWluZyB0aGUgbG9jYWwgY2hhbmdlIGluIHRoZSB0ZXh0YXJlYSdzIHBsYWluIHRleHRcblxuICAgICAgdmFyIG5ld1ZhbHVlID0gYXBwbHlDaGFuZ2VUb1ZhbHVlKHZhbHVlLCBuZXdQbGFpblRleHRWYWx1ZSwge1xuICAgICAgICBzZWxlY3Rpb25TdGFydEJlZm9yZTogX3RoaXMuc3RhdGUuc2VsZWN0aW9uU3RhcnQsXG4gICAgICAgIHNlbGVjdGlvbkVuZEJlZm9yZTogX3RoaXMuc3RhdGUuc2VsZWN0aW9uRW5kLFxuICAgICAgICBzZWxlY3Rpb25FbmRBZnRlcjogZXYudGFyZ2V0LnNlbGVjdGlvbkVuZFxuICAgICAgfSwgY29uZmlnKTsgLy8gSW4gY2FzZSBhIG1lbnRpb24gaXMgZGVsZXRlZCwgYWxzbyBhZGp1c3QgdGhlIG5ldyBwbGFpbiB0ZXh0IHZhbHVlXG5cbiAgICAgIG5ld1BsYWluVGV4dFZhbHVlID0gZ2V0UGxhaW5UZXh0KG5ld1ZhbHVlLCBjb25maWcpOyAvLyBTYXZlIGN1cnJlbnQgc2VsZWN0aW9uIGFmdGVyIGNoYW5nZSB0byBiZSBhYmxlIHRvIHJlc3RvcmUgY2FyZXQgcG9zaXRpb24gYWZ0ZXIgcmVyZW5kZXJpbmdcblxuICAgICAgdmFyIHNlbGVjdGlvblN0YXJ0ID0gZXYudGFyZ2V0LnNlbGVjdGlvblN0YXJ0O1xuICAgICAgdmFyIHNlbGVjdGlvbkVuZCA9IGV2LnRhcmdldC5zZWxlY3Rpb25FbmQ7XG4gICAgICB2YXIgc2V0U2VsZWN0aW9uQWZ0ZXJNZW50aW9uQ2hhbmdlID0gZmFsc2U7IC8vIEFkanVzdCBzZWxlY3Rpb24gcmFuZ2UgaW4gY2FzZSBhIG1lbnRpb24gd2lsbCBiZSBkZWxldGVkIGJ5IHRoZSBjaGFyYWN0ZXJzIG91dHNpZGUgb2YgdGhlXG4gICAgICAvLyBzZWxlY3Rpb24gcmFuZ2UgdGhhdCBhcmUgYXV0b21hdGljYWxseSBkZWxldGVkXG5cbiAgICAgIHZhciBzdGFydE9mTWVudGlvbiA9IGZpbmRTdGFydE9mTWVudGlvbkluUGxhaW5UZXh0KHZhbHVlLCBjb25maWcsIHNlbGVjdGlvblN0YXJ0KTtcblxuICAgICAgaWYgKHN0YXJ0T2ZNZW50aW9uICE9PSB1bmRlZmluZWQgJiYgX3RoaXMuc3RhdGUuc2VsZWN0aW9uRW5kID4gc3RhcnRPZk1lbnRpb24pIHtcbiAgICAgICAgLy8gb25seSBpZiBhIGRlbGV0aW9uIGhhcyB0YWtlbiBwbGFjZVxuICAgICAgICBzZWxlY3Rpb25TdGFydCA9IHN0YXJ0T2ZNZW50aW9uO1xuICAgICAgICBzZWxlY3Rpb25FbmQgPSBzZWxlY3Rpb25TdGFydDtcbiAgICAgICAgc2V0U2VsZWN0aW9uQWZ0ZXJNZW50aW9uQ2hhbmdlID0gdHJ1ZTtcbiAgICAgIH1cblxuICAgICAgX3RoaXMuc2V0U3RhdGUoe1xuICAgICAgICBzZWxlY3Rpb25TdGFydDogc2VsZWN0aW9uU3RhcnQsXG4gICAgICAgIHNlbGVjdGlvbkVuZDogc2VsZWN0aW9uRW5kLFxuICAgICAgICBzZXRTZWxlY3Rpb25BZnRlck1lbnRpb25DaGFuZ2U6IHNldFNlbGVjdGlvbkFmdGVyTWVudGlvbkNoYW5nZVxuICAgICAgfSk7XG5cbiAgICAgIHZhciBtZW50aW9ucyA9IGdldE1lbnRpb25zKG5ld1ZhbHVlLCBjb25maWcpOyAvLyBQcm9wYWdhdGUgY2hhbmdlXG4gICAgICAvLyBsZXQgaGFuZGxlQ2hhbmdlID0gdGhpcy5nZXRPbkNoYW5nZSh0aGlzLnByb3BzKSB8fCBlbXB0eUZ1bmN0aW9uO1xuXG4gICAgICB2YXIgZXZlbnRNb2NrID0ge1xuICAgICAgICB0YXJnZXQ6IHtcbiAgICAgICAgICB2YWx1ZTogbmV3VmFsdWVcbiAgICAgICAgfVxuICAgICAgfTsgLy8gdGhpcy5wcm9wcy5vbkNoYW5nZS5jYWxsKHRoaXMsIGV2ZW50TW9jaywgbmV3VmFsdWUsIG5ld1BsYWluVGV4dFZhbHVlLCBtZW50aW9ucyk7XG5cbiAgICAgIF90aGlzLmV4ZWN1dGVPbkNoYW5nZShldmVudE1vY2ssIG5ld1ZhbHVlLCBuZXdQbGFpblRleHRWYWx1ZSwgbWVudGlvbnMpO1xuICAgIH0pO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCBcImhhbmRsZVNlbGVjdFwiLCBmdW5jdGlvbiAoZXYpIHtcbiAgICAgIC8vIGtlZXAgdHJhY2sgb2Ygc2VsZWN0aW9uIHJhbmdlIC8gY2FyZXQgcG9zaXRpb25cbiAgICAgIF90aGlzLnNldFN0YXRlKHtcbiAgICAgICAgc2VsZWN0aW9uU3RhcnQ6IGV2LnRhcmdldC5zZWxlY3Rpb25TdGFydCxcbiAgICAgICAgc2VsZWN0aW9uRW5kOiBldi50YXJnZXQuc2VsZWN0aW9uRW5kXG4gICAgICB9KTsgLy8gZG8gbm90aGluZyB3aGlsZSBhIElNRSBjb21wb3NpdGlvbiBzZXNzaW9uIGlzIGFjdGl2ZVxuXG5cbiAgICAgIGlmIChpc0NvbXBvc2luZykgcmV0dXJuOyAvLyByZWZyZXNoIHN1Z2dlc3Rpb25zIHF1ZXJpZXNcblxuICAgICAgdmFyIGVsID0gX3RoaXMuaW5wdXRFbGVtZW50O1xuXG4gICAgICBpZiAoZXYudGFyZ2V0LnNlbGVjdGlvblN0YXJ0ID09PSBldi50YXJnZXQuc2VsZWN0aW9uRW5kKSB7XG4gICAgICAgIF90aGlzLnVwZGF0ZU1lbnRpb25zUXVlcmllcyhlbC52YWx1ZSwgZXYudGFyZ2V0LnNlbGVjdGlvblN0YXJ0KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIF90aGlzLmNsZWFyU3VnZ2VzdGlvbnMoKTtcbiAgICAgIH0gLy8gc3luYyBoaWdobGlnaHRlcnMgc2Nyb2xsIHBvc2l0aW9uXG5cblxuICAgICAgX3RoaXMudXBkYXRlSGlnaGxpZ2h0ZXJTY3JvbGwoKTtcblxuICAgICAgX3RoaXMucHJvcHMub25TZWxlY3QoZXYpO1xuICAgIH0pO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCBcImhhbmRsZUtleURvd25cIiwgZnVuY3Rpb24gKGV2KSB7XG4gICAgICAvLyBkbyBub3QgaW50ZXJjZXB0IGtleSBldmVudHMgaWYgdGhlIHN1Z2dlc3Rpb25zIG92ZXJsYXkgaXMgbm90IHNob3duXG4gICAgICB2YXIgc3VnZ2VzdGlvbnNDb3VudCA9IGNvdW50U3VnZ2VzdGlvbnMoX3RoaXMuc3RhdGUuc3VnZ2VzdGlvbnMpO1xuXG4gICAgICBpZiAoc3VnZ2VzdGlvbnNDb3VudCA9PT0gMCB8fCAhX3RoaXMuc3VnZ2VzdGlvbnNFbGVtZW50KSB7XG4gICAgICAgIF90aGlzLnByb3BzLm9uS2V5RG93bihldik7XG5cbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBpZiAoT2JqZWN0LnZhbHVlcyhLRVkpLmluZGV4T2YoZXYua2V5Q29kZSkgPj0gMCkge1xuICAgICAgICBldi5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBldi5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgIH1cblxuICAgICAgc3dpdGNoIChldi5rZXlDb2RlKSB7XG4gICAgICAgIGNhc2UgS0VZLkVTQzpcbiAgICAgICAgICB7XG4gICAgICAgICAgICBfdGhpcy5jbGVhclN1Z2dlc3Rpb25zKCk7XG5cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG5cbiAgICAgICAgY2FzZSBLRVkuRE9XTjpcbiAgICAgICAgICB7XG4gICAgICAgICAgICBfdGhpcy5zaGlmdEZvY3VzKCsxKTtcblxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cblxuICAgICAgICBjYXNlIEtFWS5VUDpcbiAgICAgICAgICB7XG4gICAgICAgICAgICBfdGhpcy5zaGlmdEZvY3VzKC0xKTtcblxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cblxuICAgICAgICBjYXNlIEtFWS5SRVRVUk46XG4gICAgICAgICAge1xuICAgICAgICAgICAgX3RoaXMuc2VsZWN0Rm9jdXNlZCgpO1xuXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuXG4gICAgICAgIGNhc2UgS0VZLlRBQjpcbiAgICAgICAgICB7XG4gICAgICAgICAgICBfdGhpcy5zZWxlY3RGb2N1c2VkKCk7XG5cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG5cbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCBcInNoaWZ0Rm9jdXNcIiwgZnVuY3Rpb24gKGRlbHRhKSB7XG4gICAgICB2YXIgc3VnZ2VzdGlvbnNDb3VudCA9IGNvdW50U3VnZ2VzdGlvbnMoX3RoaXMuc3RhdGUuc3VnZ2VzdGlvbnMpO1xuXG4gICAgICBfdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIGZvY3VzSW5kZXg6IChzdWdnZXN0aW9uc0NvdW50ICsgX3RoaXMuc3RhdGUuZm9jdXNJbmRleCArIGRlbHRhKSAlIHN1Z2dlc3Rpb25zQ291bnQsXG4gICAgICAgIHNjcm9sbEZvY3VzZWRJbnRvVmlldzogdHJ1ZVxuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksIFwic2VsZWN0Rm9jdXNlZFwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgX3RoaXMkc3RhdGUyID0gX3RoaXMuc3RhdGUsXG4gICAgICAgICAgc3VnZ2VzdGlvbnMgPSBfdGhpcyRzdGF0ZTIuc3VnZ2VzdGlvbnMsXG4gICAgICAgICAgZm9jdXNJbmRleCA9IF90aGlzJHN0YXRlMi5mb2N1c0luZGV4O1xuICAgICAgdmFyIF9PYmplY3QkdmFsdWVzJHJlZHVjZSA9IE9iamVjdC52YWx1ZXMoc3VnZ2VzdGlvbnMpLnJlZHVjZShmdW5jdGlvbiAoYWNjLCBfcmVmKSB7XG4gICAgICAgIHZhciByZXN1bHRzID0gX3JlZi5yZXN1bHRzLFxuICAgICAgICAgICAgcXVlcnlJbmZvID0gX3JlZi5xdWVyeUluZm87XG4gICAgICAgIHJldHVybiBbXS5jb25jYXQoX3RvQ29uc3VtYWJsZUFycmF5KGFjYyksIF90b0NvbnN1bWFibGVBcnJheShyZXN1bHRzLm1hcChmdW5jdGlvbiAocmVzdWx0KSB7XG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHJlc3VsdDogcmVzdWx0LFxuICAgICAgICAgICAgcXVlcnlJbmZvOiBxdWVyeUluZm9cbiAgICAgICAgICB9O1xuICAgICAgICB9KSkpO1xuICAgICAgfSwgW10pW2ZvY3VzSW5kZXhdLFxuICAgICAgICAgIHJlc3VsdCA9IF9PYmplY3QkdmFsdWVzJHJlZHVjZS5yZXN1bHQsXG4gICAgICAgICAgcXVlcnlJbmZvID0gX09iamVjdCR2YWx1ZXMkcmVkdWNlLnF1ZXJ5SW5mbztcblxuICAgICAgX3RoaXMuYWRkTWVudGlvbihyZXN1bHQsIHF1ZXJ5SW5mbyk7XG5cbiAgICAgIF90aGlzLnNldFN0YXRlKHtcbiAgICAgICAgZm9jdXNJbmRleDogMFxuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksIFwiaGFuZGxlQmx1clwiLCBmdW5jdGlvbiAoZXYpIHtcbiAgICAgIHZhciBjbGlja2VkU3VnZ2VzdGlvbiA9IF90aGlzLl9zdWdnZXN0aW9uc01vdXNlRG93bjtcbiAgICAgIF90aGlzLl9zdWdnZXN0aW9uc01vdXNlRG93biA9IGZhbHNlOyAvLyBvbmx5IHJlc2V0IHNlbGVjdGlvbiBpZiB0aGUgbW91c2Vkb3duIGhhcHBlbmVkIG9uIGFuIGVsZW1lbnRcbiAgICAgIC8vIG90aGVyIHRoYW4gdGhlIHN1Z2dlc3Rpb25zIG92ZXJsYXlcblxuICAgICAgaWYgKCFjbGlja2VkU3VnZ2VzdGlvbikge1xuICAgICAgICBfdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgc2VsZWN0aW9uU3RhcnQ6IG51bGwsXG4gICAgICAgICAgc2VsZWN0aW9uRW5kOiBudWxsXG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICB3aW5kb3cuc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgIF90aGlzLnVwZGF0ZUhpZ2hsaWdodGVyU2Nyb2xsKCk7XG4gICAgICB9LCAxKTtcblxuICAgICAgX3RoaXMucHJvcHMub25CbHVyKGV2LCBjbGlja2VkU3VnZ2VzdGlvbik7XG4gICAgfSk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksIFwiaGFuZGxlU3VnZ2VzdGlvbnNNb3VzZURvd25cIiwgZnVuY3Rpb24gKGV2KSB7XG4gICAgICBfdGhpcy5fc3VnZ2VzdGlvbnNNb3VzZURvd24gPSB0cnVlO1xuICAgIH0pO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCBcImhhbmRsZVN1Z2dlc3Rpb25zTW91c2VFbnRlclwiLCBmdW5jdGlvbiAoZm9jdXNJbmRleCkge1xuICAgICAgX3RoaXMuc2V0U3RhdGUoe1xuICAgICAgICBmb2N1c0luZGV4OiBmb2N1c0luZGV4LFxuICAgICAgICBzY3JvbGxGb2N1c2VkSW50b1ZpZXc6IGZhbHNlXG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgXCJ1cGRhdGVTdWdnZXN0aW9uc1Bvc2l0aW9uXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBjYXJldFBvc2l0aW9uID0gX3RoaXMuc3RhdGUuY2FyZXRQb3NpdGlvbjtcbiAgICAgIHZhciBfdGhpcyRwcm9wczUgPSBfdGhpcy5wcm9wcyxcbiAgICAgICAgICBzdWdnZXN0aW9uc1BvcnRhbEhvc3QgPSBfdGhpcyRwcm9wczUuc3VnZ2VzdGlvbnNQb3J0YWxIb3N0LFxuICAgICAgICAgIGFsbG93U3VnZ2VzdGlvbnNBYm92ZUN1cnNvciA9IF90aGlzJHByb3BzNS5hbGxvd1N1Z2dlc3Rpb25zQWJvdmVDdXJzb3IsXG4gICAgICAgICAgZm9yY2VTdWdnZXN0aW9uc0Fib3ZlQ3Vyc29yID0gX3RoaXMkcHJvcHM1LmZvcmNlU3VnZ2VzdGlvbnNBYm92ZUN1cnNvcjtcblxuICAgICAgaWYgKCFjYXJldFBvc2l0aW9uIHx8ICFfdGhpcy5zdWdnZXN0aW9uc0VsZW1lbnQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB2YXIgc3VnZ2VzdGlvbnMgPSBfdGhpcy5zdWdnZXN0aW9uc0VsZW1lbnQ7XG4gICAgICB2YXIgaGlnaGxpZ2h0ZXIgPSBfdGhpcy5oaWdobGlnaHRlckVsZW1lbnQ7IC8vIGZpcnN0IGdldCB2aWV3cG9ydC1yZWxhdGl2ZSBwb3NpdGlvbiAoaGlnaGxpZ2h0ZXIgaXMgb2Zmc2V0UGFyZW50IG9mIGNhcmV0KTpcblxuICAgICAgdmFyIGNhcmV0T2Zmc2V0UGFyZW50UmVjdCA9IGhpZ2hsaWdodGVyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgdmFyIGNhcmV0SGVpZ2h0ID0gZ2V0Q29tcHV0ZWRTdHlsZUxlbmd0aFByb3AoaGlnaGxpZ2h0ZXIsICdmb250LXNpemUnKTtcbiAgICAgIHZhciB2aWV3cG9ydFJlbGF0aXZlID0ge1xuICAgICAgICBsZWZ0OiBjYXJldE9mZnNldFBhcmVudFJlY3QubGVmdCArIGNhcmV0UG9zaXRpb24ubGVmdCxcbiAgICAgICAgdG9wOiBjYXJldE9mZnNldFBhcmVudFJlY3QudG9wICsgY2FyZXRQb3NpdGlvbi50b3AgKyBjYXJldEhlaWdodFxuICAgICAgfTtcbiAgICAgIHZhciB2aWV3cG9ydEhlaWdodCA9IE1hdGgubWF4KGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQsIHdpbmRvdy5pbm5lckhlaWdodCB8fCAwKTtcblxuICAgICAgaWYgKCFzdWdnZXN0aW9ucykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHZhciBwb3NpdGlvbiA9IHt9OyAvLyBpZiBzdWdnZXN0aW9ucyBtZW51IGlzIGluIGEgcG9ydGFsLCB1cGRhdGUgcG9zaXRpb24gdG8gYmUgcmVsZWF0aXZlIHRvIGl0cyBwb3J0YWwgbm9kZVxuXG4gICAgICBpZiAoc3VnZ2VzdGlvbnNQb3J0YWxIb3N0KSB7XG4gICAgICAgIHBvc2l0aW9uLnBvc2l0aW9uID0gJ2ZpeGVkJztcbiAgICAgICAgdmFyIGxlZnQgPSB2aWV3cG9ydFJlbGF0aXZlLmxlZnQ7XG4gICAgICAgIHZhciB0b3AgPSB2aWV3cG9ydFJlbGF0aXZlLnRvcDsgLy8gYWJzb2x1dGUvZml4ZWQgcG9zaXRpb25lZCBlbGVtZW50cyBhcmUgcG9zaXRpb25lZCBhY2NvcmRpbmcgdG8gdGhlaXIgZW50aXJlIGJveCBpbmNsdWRpbmcgbWFyZ2luczsgc28gd2UgcmVtb3ZlIG1hcmdpbnMgaGVyZTpcblxuICAgICAgICBsZWZ0IC09IGdldENvbXB1dGVkU3R5bGVMZW5ndGhQcm9wKHN1Z2dlc3Rpb25zLCAnbWFyZ2luLWxlZnQnKTtcbiAgICAgICAgdG9wIC09IGdldENvbXB1dGVkU3R5bGVMZW5ndGhQcm9wKHN1Z2dlc3Rpb25zLCAnbWFyZ2luLXRvcCcpOyAvLyB0YWtlIGludG8gYWNjb3VudCBoaWdobGlnaHRlci90ZXh0aW5wdXQgc2Nyb2xsaW5nOlxuXG4gICAgICAgIGxlZnQgLT0gaGlnaGxpZ2h0ZXIuc2Nyb2xsTGVmdDtcbiAgICAgICAgdG9wIC09IGhpZ2hsaWdodGVyLnNjcm9sbFRvcDsgLy8gZ3VhcmQgZm9yIG1lbnRpb25zIHN1Z2dlc3Rpb25zIGxpc3QgY2xpcHBlZCBieSByaWdodCBlZGdlIG9mIHdpbmRvd1xuXG4gICAgICAgIHZhciB2aWV3cG9ydFdpZHRoID0gTWF0aC5tYXgoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudFdpZHRoLCB3aW5kb3cuaW5uZXJXaWR0aCB8fCAwKTtcblxuICAgICAgICBpZiAobGVmdCArIHN1Z2dlc3Rpb25zLm9mZnNldFdpZHRoID4gdmlld3BvcnRXaWR0aCkge1xuICAgICAgICAgIHBvc2l0aW9uLmxlZnQgPSBNYXRoLm1heCgwLCB2aWV3cG9ydFdpZHRoIC0gc3VnZ2VzdGlvbnMub2Zmc2V0V2lkdGgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHBvc2l0aW9uLmxlZnQgPSBsZWZ0O1xuICAgICAgICB9IC8vIGd1YXJkIGZvciBtZW50aW9ucyBzdWdnZXN0aW9ucyBsaXN0IGNsaXBwZWQgYnkgYm90dG9tIGVkZ2Ugb2Ygd2luZG93IGlmIGFsbG93U3VnZ2VzdGlvbnNBYm92ZUN1cnNvciBzZXQgdG8gdHJ1ZS5cbiAgICAgICAgLy8gTW92ZSB0aGUgbGlzdCB1cCBhYm92ZSB0aGUgY2FyZXQgaWYgaXQncyBnZXR0aW5nIGN1dCBvZmYgYnkgdGhlIGJvdHRvbSBvZiB0aGUgd2luZG93LCBwcm92aWRlZCB0aGF0IHRoZSBsaXN0IGhlaWdodFxuICAgICAgICAvLyBpcyBzbWFsbCBlbm91Z2ggdG8gTk9UIGNvdmVyIHVwIHRoZSBjYXJldFxuXG5cbiAgICAgICAgaWYgKGFsbG93U3VnZ2VzdGlvbnNBYm92ZUN1cnNvciAmJiB0b3AgKyBzdWdnZXN0aW9ucy5vZmZzZXRIZWlnaHQgPiB2aWV3cG9ydEhlaWdodCAmJiBzdWdnZXN0aW9ucy5vZmZzZXRIZWlnaHQgPCB0b3AgLSBjYXJldEhlaWdodCB8fCBmb3JjZVN1Z2dlc3Rpb25zQWJvdmVDdXJzb3IpIHtcbiAgICAgICAgICBwb3NpdGlvbi50b3AgPSBNYXRoLm1heCgwLCB0b3AgLSBzdWdnZXN0aW9ucy5vZmZzZXRIZWlnaHQgLSBjYXJldEhlaWdodCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcG9zaXRpb24udG9wID0gdG9wO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YXIgX2xlZnQgPSBjYXJldFBvc2l0aW9uLmxlZnQgLSBoaWdobGlnaHRlci5zY3JvbGxMZWZ0O1xuXG4gICAgICAgIHZhciBfdG9wID0gY2FyZXRQb3NpdGlvbi50b3AgLSBoaWdobGlnaHRlci5zY3JvbGxUb3A7IC8vIGd1YXJkIGZvciBtZW50aW9ucyBzdWdnZXN0aW9ucyBsaXN0IGNsaXBwZWQgYnkgcmlnaHQgZWRnZSBvZiB3aW5kb3dcblxuXG4gICAgICAgIGlmIChfbGVmdCArIHN1Z2dlc3Rpb25zLm9mZnNldFdpZHRoID4gX3RoaXMuY29udGFpbmVyRWxlbWVudC5vZmZzZXRXaWR0aCkge1xuICAgICAgICAgIHBvc2l0aW9uLnJpZ2h0ID0gMDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwb3NpdGlvbi5sZWZ0ID0gX2xlZnQ7XG4gICAgICAgIH0gLy8gZ3VhcmQgZm9yIG1lbnRpb25zIHN1Z2dlc3Rpb25zIGxpc3QgY2xpcHBlZCBieSBib3R0b20gZWRnZSBvZiB3aW5kb3cgaWYgYWxsb3dTdWdnZXN0aW9uc0Fib3ZlQ3Vyc29yIHNldCB0byB0cnVlLlxuICAgICAgICAvLyBtb3ZlIHRoZSBsaXN0IHVwIGFib3ZlIHRoZSBjYXJldCBpZiBpdCdzIGdldHRpbmcgY3V0IG9mZiBieSB0aGUgYm90dG9tIG9mIHRoZSB3aW5kb3csIHByb3ZpZGVkIHRoYXQgdGhlIGxpc3QgaGVpZ2h0XG4gICAgICAgIC8vIGlzIHNtYWxsIGVub3VnaCB0byBOT1QgY292ZXIgdXAgdGhlIGNhcmV0XG5cblxuICAgICAgICBpZiAoYWxsb3dTdWdnZXN0aW9uc0Fib3ZlQ3Vyc29yICYmIHZpZXdwb3J0UmVsYXRpdmUudG9wIC0gaGlnaGxpZ2h0ZXIuc2Nyb2xsVG9wICsgc3VnZ2VzdGlvbnMub2Zmc2V0SGVpZ2h0ID4gdmlld3BvcnRIZWlnaHQgJiYgc3VnZ2VzdGlvbnMub2Zmc2V0SGVpZ2h0IDwgY2FyZXRPZmZzZXRQYXJlbnRSZWN0LnRvcCAtIGNhcmV0SGVpZ2h0IC0gaGlnaGxpZ2h0ZXIuc2Nyb2xsVG9wKSB7XG4gICAgICAgICAgcG9zaXRpb24udG9wID0gX3RvcCAtIHN1Z2dlc3Rpb25zLm9mZnNldEhlaWdodCAtIGNhcmV0SGVpZ2h0O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHBvc2l0aW9uLnRvcCA9IF90b3A7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKHBvc2l0aW9uLmxlZnQgPT09IF90aGlzLnN0YXRlLnN1Z2dlc3Rpb25zUG9zaXRpb24ubGVmdCAmJiBwb3NpdGlvbi50b3AgPT09IF90aGlzLnN0YXRlLnN1Z2dlc3Rpb25zUG9zaXRpb24udG9wICYmIHBvc2l0aW9uLnBvc2l0aW9uID09PSBfdGhpcy5zdGF0ZS5zdWdnZXN0aW9uc1Bvc2l0aW9uLnBvc2l0aW9uKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgX3RoaXMuc2V0U3RhdGUoe1xuICAgICAgICBzdWdnZXN0aW9uc1Bvc2l0aW9uOiBwb3NpdGlvblxuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksIFwidXBkYXRlSGlnaGxpZ2h0ZXJTY3JvbGxcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIGlucHV0ID0gX3RoaXMuaW5wdXRFbGVtZW50O1xuICAgICAgdmFyIGhpZ2hsaWdodGVyID0gX3RoaXMuaGlnaGxpZ2h0ZXJFbGVtZW50O1xuXG4gICAgICBpZiAoIWlucHV0IHx8ICFoaWdobGlnaHRlcikge1xuICAgICAgICAvLyBzaW5jZSB0aGUgaW52b2NhdGlvbiBvZiB0aGlzIGZ1bmN0aW9uIGlzIGRlZmVycmVkLFxuICAgICAgICAvLyB0aGUgd2hvbGUgY29tcG9uZW50IG1heSBoYXZlIGJlZW4gdW5tb3VudGVkIGluIHRoZSBtZWFud2hpbGVcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBoaWdobGlnaHRlci5zY3JvbGxMZWZ0ID0gaW5wdXQuc2Nyb2xsTGVmdDtcbiAgICAgIGhpZ2hsaWdodGVyLnNjcm9sbFRvcCA9IGlucHV0LnNjcm9sbFRvcDtcbiAgICAgIGhpZ2hsaWdodGVyLmhlaWdodCA9IGlucHV0LmhlaWdodDtcbiAgICB9KTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgXCJoYW5kbGVDb21wb3NpdGlvblN0YXJ0XCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgIGlzQ29tcG9zaW5nID0gdHJ1ZTtcbiAgICB9KTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgXCJoYW5kbGVDb21wb3NpdGlvbkVuZFwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICBpc0NvbXBvc2luZyA9IGZhbHNlO1xuICAgIH0pO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCBcInNldFNlbGVjdGlvblwiLCBmdW5jdGlvbiAoc2VsZWN0aW9uU3RhcnQsIHNlbGVjdGlvbkVuZCkge1xuICAgICAgaWYgKHNlbGVjdGlvblN0YXJ0ID09PSBudWxsIHx8IHNlbGVjdGlvbkVuZCA9PT0gbnVsbCkgcmV0dXJuO1xuICAgICAgdmFyIGVsID0gX3RoaXMuaW5wdXRFbGVtZW50O1xuXG4gICAgICBpZiAoZWwuc2V0U2VsZWN0aW9uUmFuZ2UpIHtcbiAgICAgICAgZWwuc2V0U2VsZWN0aW9uUmFuZ2Uoc2VsZWN0aW9uU3RhcnQsIHNlbGVjdGlvbkVuZCk7XG4gICAgICB9IGVsc2UgaWYgKGVsLmNyZWF0ZVRleHRSYW5nZSkge1xuICAgICAgICB2YXIgcmFuZ2UgPSBlbC5jcmVhdGVUZXh0UmFuZ2UoKTtcbiAgICAgICAgcmFuZ2UuY29sbGFwc2UodHJ1ZSk7XG4gICAgICAgIHJhbmdlLm1vdmVFbmQoJ2NoYXJhY3RlcicsIHNlbGVjdGlvbkVuZCk7XG4gICAgICAgIHJhbmdlLm1vdmVTdGFydCgnY2hhcmFjdGVyJywgc2VsZWN0aW9uU3RhcnQpO1xuICAgICAgICByYW5nZS5zZWxlY3QoKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgXCJ1cGRhdGVNZW50aW9uc1F1ZXJpZXNcIiwgZnVuY3Rpb24gKHBsYWluVGV4dFZhbHVlLCBjYXJldFBvc2l0aW9uKSB7XG4gICAgICAvLyBJbnZhbGlkYXRlIHByZXZpb3VzIHF1ZXJpZXMuIEFzeW5jIHJlc3VsdHMgZm9yIHByZXZpb3VzIHF1ZXJpZXMgd2lsbCBiZSBuZWdsZWN0ZWQuXG4gICAgICBfdGhpcy5fcXVlcnlJZCsrO1xuICAgICAgX3RoaXMuc3VnZ2VzdGlvbnMgPSB7fTtcblxuICAgICAgX3RoaXMuc2V0U3RhdGUoe1xuICAgICAgICBzdWdnZXN0aW9uczoge31cbiAgICAgIH0pO1xuXG4gICAgICB2YXIgdmFsdWUgPSBfdGhpcy5wcm9wcy52YWx1ZSB8fCAnJztcbiAgICAgIHZhciBjaGlsZHJlbiA9IF90aGlzLnByb3BzLmNoaWxkcmVuO1xuICAgICAgdmFyIGNvbmZpZyA9IHJlYWRDb25maWdGcm9tQ2hpbGRyZW4oY2hpbGRyZW4pO1xuICAgICAgdmFyIHBvc2l0aW9uSW5WYWx1ZSA9IG1hcFBsYWluVGV4dEluZGV4KHZhbHVlLCBjb25maWcsIGNhcmV0UG9zaXRpb24sICdOVUxMJyk7IC8vIElmIGNhcmV0IGlzIGluc2lkZSBvZiBtZW50aW9uLCBkbyBub3QgcXVlcnlcblxuICAgICAgaWYgKHBvc2l0aW9uSW5WYWx1ZSA9PT0gbnVsbCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9IC8vIEV4dHJhY3Qgc3Vic3RyaW5nIGluIGJldHdlZW4gdGhlIGVuZCBvZiB0aGUgcHJldmlvdXMgbWVudGlvbiBhbmQgdGhlIGNhcmV0XG5cblxuICAgICAgdmFyIHN1YnN0cmluZ1N0YXJ0SW5kZXggPSBnZXRFbmRPZkxhc3RNZW50aW9uKHZhbHVlLnN1YnN0cmluZygwLCBwb3NpdGlvbkluVmFsdWUpLCBjb25maWcpO1xuICAgICAgdmFyIHN1YnN0cmluZyA9IHBsYWluVGV4dFZhbHVlLnN1YnN0cmluZyhzdWJzdHJpbmdTdGFydEluZGV4LCBjYXJldFBvc2l0aW9uKTsgLy8gQ2hlY2sgaWYgc3VnZ2VzdGlvbnMgaGF2ZSB0byBiZSBzaG93bjpcbiAgICAgIC8vIE1hdGNoIHRoZSB0cmlnZ2VyIHBhdHRlcm5zIG9mIGFsbCBNZW50aW9uIGNoaWxkcmVuIG9uIHRoZSBleHRyYWN0ZWQgc3Vic3RyaW5nXG5cbiAgICAgIFJlYWN0LkNoaWxkcmVuLmZvckVhY2goY2hpbGRyZW4sIGZ1bmN0aW9uIChjaGlsZCwgY2hpbGRJbmRleCkge1xuICAgICAgICBpZiAoIWNoaWxkKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHJlZ2V4ID0gbWFrZVRyaWdnZXJSZWdleChjaGlsZC5wcm9wcy50cmlnZ2VyLCBfdGhpcy5wcm9wcyk7XG4gICAgICAgIHZhciBtYXRjaCA9IHN1YnN0cmluZy5tYXRjaChyZWdleCk7XG5cbiAgICAgICAgaWYgKG1hdGNoKSB7XG4gICAgICAgICAgdmFyIHF1ZXJ5U2VxdWVuY2VTdGFydCA9IHN1YnN0cmluZ1N0YXJ0SW5kZXggKyBzdWJzdHJpbmcuaW5kZXhPZihtYXRjaFsxXSwgbWF0Y2guaW5kZXgpO1xuXG4gICAgICAgICAgX3RoaXMucXVlcnlEYXRhKG1hdGNoWzJdLCBjaGlsZEluZGV4LCBxdWVyeVNlcXVlbmNlU3RhcnQsIHF1ZXJ5U2VxdWVuY2VTdGFydCArIG1hdGNoWzFdLmxlbmd0aCwgcGxhaW5UZXh0VmFsdWUpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgXCJjbGVhclN1Z2dlc3Rpb25zXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgIC8vIEludmFsaWRhdGUgcHJldmlvdXMgcXVlcmllcy4gQXN5bmMgcmVzdWx0cyBmb3IgcHJldmlvdXMgcXVlcmllcyB3aWxsIGJlIG5lZ2xlY3RlZC5cbiAgICAgIF90aGlzLl9xdWVyeUlkKys7XG4gICAgICBfdGhpcy5zdWdnZXN0aW9ucyA9IHt9O1xuXG4gICAgICBfdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIHN1Z2dlc3Rpb25zOiB7fSxcbiAgICAgICAgZm9jdXNJbmRleDogMFxuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksIFwicXVlcnlEYXRhXCIsIGZ1bmN0aW9uIChxdWVyeSwgY2hpbGRJbmRleCwgcXVlcnlTZXF1ZW5jZVN0YXJ0LCBxdWVyeVNlcXVlbmNlRW5kLCBwbGFpblRleHRWYWx1ZSkge1xuICAgICAgdmFyIF90aGlzJHByb3BzNiA9IF90aGlzLnByb3BzLFxuICAgICAgICAgIGNoaWxkcmVuID0gX3RoaXMkcHJvcHM2LmNoaWxkcmVuLFxuICAgICAgICAgIGlnbm9yZUFjY2VudHMgPSBfdGhpcyRwcm9wczYuaWdub3JlQWNjZW50cztcbiAgICAgIHZhciBtZW50aW9uQ2hpbGQgPSBDaGlsZHJlbi50b0FycmF5KGNoaWxkcmVuKVtjaGlsZEluZGV4XTtcbiAgICAgIHZhciBwcm92aWRlRGF0YSA9IGdldERhdGFQcm92aWRlcihtZW50aW9uQ2hpbGQucHJvcHMuZGF0YSwgaWdub3JlQWNjZW50cyk7XG4gICAgICB2YXIgc3luY1Jlc3VsdCA9IHByb3ZpZGVEYXRhKHF1ZXJ5LCBfdGhpcy51cGRhdGVTdWdnZXN0aW9ucy5iaW5kKG51bGwsIF90aGlzLl9xdWVyeUlkLCBjaGlsZEluZGV4LCBxdWVyeSwgcXVlcnlTZXF1ZW5jZVN0YXJ0LCBxdWVyeVNlcXVlbmNlRW5kLCBwbGFpblRleHRWYWx1ZSkpO1xuXG4gICAgICBpZiAoc3luY1Jlc3VsdCBpbnN0YW5jZW9mIEFycmF5KSB7XG4gICAgICAgIF90aGlzLnVwZGF0ZVN1Z2dlc3Rpb25zKF90aGlzLl9xdWVyeUlkLCBjaGlsZEluZGV4LCBxdWVyeSwgcXVlcnlTZXF1ZW5jZVN0YXJ0LCBxdWVyeVNlcXVlbmNlRW5kLCBwbGFpblRleHRWYWx1ZSwgc3luY1Jlc3VsdCk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksIFwidXBkYXRlU3VnZ2VzdGlvbnNcIiwgZnVuY3Rpb24gKHF1ZXJ5SWQsIGNoaWxkSW5kZXgsIHF1ZXJ5LCBxdWVyeVNlcXVlbmNlU3RhcnQsIHF1ZXJ5U2VxdWVuY2VFbmQsIHBsYWluVGV4dFZhbHVlLCByZXN1bHRzKSB7XG4gICAgICAvLyBuZWdsZWN0IGFzeW5jIHJlc3VsdHMgZnJvbSBwcmV2aW91cyBxdWVyaWVzXG4gICAgICBpZiAocXVlcnlJZCAhPT0gX3RoaXMuX3F1ZXJ5SWQpIHJldHVybjsgLy8gc2F2ZSBpbiBwcm9wZXJ0eSBzbyB0aGF0IG11bHRpcGxlIHN5bmMgc3RhdGUgdXBkYXRlcyBmcm9tIGRpZmZlcmVudCBtZW50aW9ucyBzb3VyY2VzXG4gICAgICAvLyB3b24ndCBvdmVyd3JpdGUgZWFjaCBvdGhlclxuXG4gICAgICBfdGhpcy5zdWdnZXN0aW9ucyA9IF9vYmplY3RTcHJlYWQoe30sIF90aGlzLnN1Z2dlc3Rpb25zLCBfZGVmaW5lUHJvcGVydHkoe30sIGNoaWxkSW5kZXgsIHtcbiAgICAgICAgcXVlcnlJbmZvOiB7XG4gICAgICAgICAgY2hpbGRJbmRleDogY2hpbGRJbmRleCxcbiAgICAgICAgICBxdWVyeTogcXVlcnksXG4gICAgICAgICAgcXVlcnlTZXF1ZW5jZVN0YXJ0OiBxdWVyeVNlcXVlbmNlU3RhcnQsXG4gICAgICAgICAgcXVlcnlTZXF1ZW5jZUVuZDogcXVlcnlTZXF1ZW5jZUVuZCxcbiAgICAgICAgICBwbGFpblRleHRWYWx1ZTogcGxhaW5UZXh0VmFsdWVcbiAgICAgICAgfSxcbiAgICAgICAgcmVzdWx0czogcmVzdWx0c1xuICAgICAgfSkpO1xuICAgICAgdmFyIGZvY3VzSW5kZXggPSBfdGhpcy5zdGF0ZS5mb2N1c0luZGV4O1xuICAgICAgdmFyIHN1Z2dlc3Rpb25zQ291bnQgPSBjb3VudFN1Z2dlc3Rpb25zKF90aGlzLnN1Z2dlc3Rpb25zKTtcblxuICAgICAgX3RoaXMuc2V0U3RhdGUoe1xuICAgICAgICBzdWdnZXN0aW9uczogX3RoaXMuc3VnZ2VzdGlvbnMsXG4gICAgICAgIGZvY3VzSW5kZXg6IGZvY3VzSW5kZXggPj0gc3VnZ2VzdGlvbnNDb3VudCA/IE1hdGgubWF4KHN1Z2dlc3Rpb25zQ291bnQgLSAxLCAwKSA6IGZvY3VzSW5kZXhcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCBcImFkZE1lbnRpb25cIiwgZnVuY3Rpb24gKF9yZWYyLCBfcmVmMykge1xuICAgICAgdmFyIGlkID0gX3JlZjIuaWQsXG4gICAgICAgICAgZGlzcGxheSA9IF9yZWYyLmRpc3BsYXk7XG4gICAgICB2YXIgY2hpbGRJbmRleCA9IF9yZWYzLmNoaWxkSW5kZXgsXG4gICAgICAgICAgcXVlcnlTZXF1ZW5jZVN0YXJ0ID0gX3JlZjMucXVlcnlTZXF1ZW5jZVN0YXJ0LFxuICAgICAgICAgIHF1ZXJ5U2VxdWVuY2VFbmQgPSBfcmVmMy5xdWVyeVNlcXVlbmNlRW5kLFxuICAgICAgICAgIHBsYWluVGV4dFZhbHVlID0gX3JlZjMucGxhaW5UZXh0VmFsdWU7XG4gICAgICAvLyBJbnNlcnQgbWVudGlvbiBpbiB0aGUgbWFya2VkIHVwIHZhbHVlIGF0IHRoZSBjb3JyZWN0IHBvc2l0aW9uXG4gICAgICB2YXIgdmFsdWUgPSBfdGhpcy5wcm9wcy52YWx1ZSB8fCAnJztcbiAgICAgIHZhciBjb25maWcgPSByZWFkQ29uZmlnRnJvbUNoaWxkcmVuKF90aGlzLnByb3BzLmNoaWxkcmVuKTtcbiAgICAgIHZhciBtZW50aW9uc0NoaWxkID0gQ2hpbGRyZW4udG9BcnJheShfdGhpcy5wcm9wcy5jaGlsZHJlbilbY2hpbGRJbmRleF07XG4gICAgICB2YXIgX21lbnRpb25zQ2hpbGQkcHJvcHMgPSBtZW50aW9uc0NoaWxkLnByb3BzLFxuICAgICAgICAgIG1hcmt1cCA9IF9tZW50aW9uc0NoaWxkJHByb3BzLm1hcmt1cCxcbiAgICAgICAgICBkaXNwbGF5VHJhbnNmb3JtID0gX21lbnRpb25zQ2hpbGQkcHJvcHMuZGlzcGxheVRyYW5zZm9ybSxcbiAgICAgICAgICBhcHBlbmRTcGFjZU9uQWRkID0gX21lbnRpb25zQ2hpbGQkcHJvcHMuYXBwZW5kU3BhY2VPbkFkZCxcbiAgICAgICAgICBvbkFkZCA9IF9tZW50aW9uc0NoaWxkJHByb3BzLm9uQWRkO1xuICAgICAgdmFyIHN0YXJ0ID0gbWFwUGxhaW5UZXh0SW5kZXgodmFsdWUsIGNvbmZpZywgcXVlcnlTZXF1ZW5jZVN0YXJ0LCAnU1RBUlQnKTtcbiAgICAgIHZhciBlbmQgPSBzdGFydCArIHF1ZXJ5U2VxdWVuY2VFbmQgLSBxdWVyeVNlcXVlbmNlU3RhcnQ7XG4gICAgICB2YXIgaW5zZXJ0ID0gbWFrZU1lbnRpb25zTWFya3VwKG1hcmt1cCwgaWQsIGRpc3BsYXkpO1xuXG4gICAgICBpZiAoYXBwZW5kU3BhY2VPbkFkZCkge1xuICAgICAgICBpbnNlcnQgKz0gJyAnO1xuICAgICAgfVxuXG4gICAgICB2YXIgbmV3VmFsdWUgPSBzcGxpY2VTdHJpbmcodmFsdWUsIHN0YXJ0LCBlbmQsIGluc2VydCk7IC8vIFJlZm9jdXMgaW5wdXQgYW5kIHNldCBjYXJldCBwb3NpdGlvbiB0byBlbmQgb2YgbWVudGlvblxuXG4gICAgICBfdGhpcy5pbnB1dEVsZW1lbnQuZm9jdXMoKTtcblxuICAgICAgdmFyIGRpc3BsYXlWYWx1ZSA9IGRpc3BsYXlUcmFuc2Zvcm0oaWQsIGRpc3BsYXkpO1xuXG4gICAgICBpZiAoYXBwZW5kU3BhY2VPbkFkZCkge1xuICAgICAgICBkaXNwbGF5VmFsdWUgKz0gJyAnO1xuICAgICAgfVxuXG4gICAgICB2YXIgbmV3Q2FyZXRQb3NpdGlvbiA9IHF1ZXJ5U2VxdWVuY2VTdGFydCArIGRpc3BsYXlWYWx1ZS5sZW5ndGg7XG5cbiAgICAgIF90aGlzLnNldFN0YXRlKHtcbiAgICAgICAgc2VsZWN0aW9uU3RhcnQ6IG5ld0NhcmV0UG9zaXRpb24sXG4gICAgICAgIHNlbGVjdGlvbkVuZDogbmV3Q2FyZXRQb3NpdGlvbixcbiAgICAgICAgc2V0U2VsZWN0aW9uQWZ0ZXJNZW50aW9uQ2hhbmdlOiB0cnVlXG4gICAgICB9KTsgLy8gUHJvcGFnYXRlIGNoYW5nZVxuXG5cbiAgICAgIHZhciBldmVudE1vY2sgPSB7XG4gICAgICAgIHRhcmdldDoge1xuICAgICAgICAgIHZhbHVlOiBuZXdWYWx1ZVxuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgdmFyIG1lbnRpb25zID0gZ2V0TWVudGlvbnMobmV3VmFsdWUsIGNvbmZpZyk7XG4gICAgICB2YXIgbmV3UGxhaW5UZXh0VmFsdWUgPSBzcGxpY2VTdHJpbmcocGxhaW5UZXh0VmFsdWUsIHF1ZXJ5U2VxdWVuY2VTdGFydCwgcXVlcnlTZXF1ZW5jZUVuZCwgZGlzcGxheVZhbHVlKTtcblxuICAgICAgX3RoaXMuZXhlY3V0ZU9uQ2hhbmdlKGV2ZW50TW9jaywgbmV3VmFsdWUsIG5ld1BsYWluVGV4dFZhbHVlLCBtZW50aW9ucyk7XG5cbiAgICAgIGlmIChvbkFkZCkge1xuICAgICAgICBvbkFkZChpZCwgZGlzcGxheSwgc3RhcnQsIGVuZCk7XG4gICAgICB9IC8vIE1ha2Ugc3VyZSB0aGUgc3VnZ2VzdGlvbnMgb3ZlcmxheSBpcyBjbG9zZWRcblxuXG4gICAgICBfdGhpcy5jbGVhclN1Z2dlc3Rpb25zKCk7XG4gICAgfSk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksIFwiaXNMb2FkaW5nXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBpc0xvYWRpbmcgPSBmYWxzZTtcbiAgICAgIFJlYWN0LkNoaWxkcmVuLmZvckVhY2goX3RoaXMucHJvcHMuY2hpbGRyZW4sIGZ1bmN0aW9uIChjaGlsZCkge1xuICAgICAgICBpc0xvYWRpbmcgPSBpc0xvYWRpbmcgfHwgY2hpbGQgJiYgY2hpbGQucHJvcHMuaXNMb2FkaW5nO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gaXNMb2FkaW5nO1xuICAgIH0pO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCBcImlzT3BlbmVkXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBpc051bWJlcihfdGhpcy5zdGF0ZS5zZWxlY3Rpb25TdGFydCkgJiYgKGNvdW50U3VnZ2VzdGlvbnMoX3RoaXMuc3RhdGUuc3VnZ2VzdGlvbnMpICE9PSAwIHx8IF90aGlzLmlzTG9hZGluZygpKTtcbiAgICB9KTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgXCJfcXVlcnlJZFwiLCAwKTtcblxuICAgIF90aGlzLnN1Z2dlc3Rpb25zID0ge307XG4gICAgX3RoaXMudXVpZFN1Z2dlc3Rpb25zT3ZlcmxheSA9IE1hdGgucmFuZG9tKCkudG9TdHJpbmcoMTYpLnN1YnN0cmluZygyKTtcbiAgICBfdGhpcy5oYW5kbGVDb3B5ID0gX3RoaXMuaGFuZGxlQ29weS5iaW5kKF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpKTtcbiAgICBfdGhpcy5oYW5kbGVDdXQgPSBfdGhpcy5oYW5kbGVDdXQuYmluZChfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSk7XG4gICAgX3RoaXMuaGFuZGxlUGFzdGUgPSBfdGhpcy5oYW5kbGVQYXN0ZS5iaW5kKF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpKTtcbiAgICBfdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGZvY3VzSW5kZXg6IDAsXG4gICAgICBzZWxlY3Rpb25TdGFydDogbnVsbCxcbiAgICAgIHNlbGVjdGlvbkVuZDogbnVsbCxcbiAgICAgIHN1Z2dlc3Rpb25zOiB7fSxcbiAgICAgIGNhcmV0UG9zaXRpb246IG51bGwsXG4gICAgICBzdWdnZXN0aW9uc1Bvc2l0aW9uOiB7fVxuICAgIH07XG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKE1lbnRpb25zSW5wdXQsIFt7XG4gICAga2V5OiBcImNvbXBvbmVudERpZE1vdW50XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY29weScsIHRoaXMuaGFuZGxlQ29weSk7XG4gICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdjdXQnLCB0aGlzLmhhbmRsZUN1dCk7XG4gICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdwYXN0ZScsIHRoaXMuaGFuZGxlUGFzdGUpO1xuICAgICAgdGhpcy51cGRhdGVTdWdnZXN0aW9uc1Bvc2l0aW9uKCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImNvbXBvbmVudERpZFVwZGF0ZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnREaWRVcGRhdGUocHJldlByb3BzLCBwcmV2U3RhdGUpIHtcbiAgICAgIC8vIFVwZGF0ZSBwb3NpdGlvbiBvZiBzdWdnZXN0aW9ucyB1bmxlc3MgdGhpcyBjb21wb25lbnREaWRVcGRhdGUgd2FzXG4gICAgICAvLyB0cmlnZ2VyZWQgYnkgYW4gdXBkYXRlIHRvIHN1Z2dlc3Rpb25zUG9zaXRpb24uXG4gICAgICBpZiAocHJldlN0YXRlLnN1Z2dlc3Rpb25zUG9zaXRpb24gPT09IHRoaXMuc3RhdGUuc3VnZ2VzdGlvbnNQb3NpdGlvbikge1xuICAgICAgICB0aGlzLnVwZGF0ZVN1Z2dlc3Rpb25zUG9zaXRpb24oKTtcbiAgICAgIH0gLy8gbWFpbnRhaW4gc2VsZWN0aW9uIGluIGNhc2UgYSBtZW50aW9uIGlzIGFkZGVkL3JlbW92ZWQgY2F1c2luZ1xuICAgICAgLy8gdGhlIGN1cnNvciB0byBqdW1wIHRvIHRoZSBlbmRcblxuXG4gICAgICBpZiAodGhpcy5zdGF0ZS5zZXRTZWxlY3Rpb25BZnRlck1lbnRpb25DaGFuZ2UpIHtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgc2V0U2VsZWN0aW9uQWZ0ZXJNZW50aW9uQ2hhbmdlOiBmYWxzZVxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5zZXRTZWxlY3Rpb24odGhpcy5zdGF0ZS5zZWxlY3Rpb25TdGFydCwgdGhpcy5zdGF0ZS5zZWxlY3Rpb25FbmQpO1xuICAgICAgfVxuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJjb21wb25lbnRXaWxsVW5tb3VudFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcbiAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NvcHknLCB0aGlzLmhhbmRsZUNvcHkpO1xuICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignY3V0JywgdGhpcy5oYW5kbGVDdXQpO1xuICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigncGFzdGUnLCB0aGlzLmhhbmRsZVBhc3RlKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwicmVuZGVyXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIF9leHRlbmRzKHtcbiAgICAgICAgcmVmOiB0aGlzLnNldENvbnRhaW5lckVsZW1lbnRcbiAgICAgIH0sIHRoaXMucHJvcHMuc3R5bGUpLCB0aGlzLnJlbmRlckNvbnRyb2woKSwgdGhpcy5yZW5kZXJTdWdnZXN0aW9uc092ZXJsYXkoKSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImhhbmRsZVBhc3RlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGhhbmRsZVBhc3RlKGV2ZW50KSB7XG4gICAgICBpZiAoZXZlbnQudGFyZ2V0ICE9PSB0aGlzLmlucHV0RWxlbWVudCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlmICghdGhpcy5zdXBwb3J0c0NsaXBib2FyZEFjdGlvbnMoZXZlbnQpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIHZhciBfdGhpcyRzdGF0ZTMgPSB0aGlzLnN0YXRlLFxuICAgICAgICAgIHNlbGVjdGlvblN0YXJ0ID0gX3RoaXMkc3RhdGUzLnNlbGVjdGlvblN0YXJ0LFxuICAgICAgICAgIHNlbGVjdGlvbkVuZCA9IF90aGlzJHN0YXRlMy5zZWxlY3Rpb25FbmQ7XG4gICAgICB2YXIgX3RoaXMkcHJvcHM3ID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICB2YWx1ZSA9IF90aGlzJHByb3BzNy52YWx1ZSxcbiAgICAgICAgICBjaGlsZHJlbiA9IF90aGlzJHByb3BzNy5jaGlsZHJlbjtcbiAgICAgIHZhciBjb25maWcgPSByZWFkQ29uZmlnRnJvbUNoaWxkcmVuKGNoaWxkcmVuKTtcbiAgICAgIHZhciBtYXJrdXBTdGFydEluZGV4ID0gbWFwUGxhaW5UZXh0SW5kZXgodmFsdWUsIGNvbmZpZywgc2VsZWN0aW9uU3RhcnQsICdTVEFSVCcpO1xuICAgICAgdmFyIG1hcmt1cEVuZEluZGV4ID0gbWFwUGxhaW5UZXh0SW5kZXgodmFsdWUsIGNvbmZpZywgc2VsZWN0aW9uRW5kLCAnRU5EJyk7XG4gICAgICB2YXIgcGFzdGVkTWVudGlvbnMgPSBldmVudC5jbGlwYm9hcmREYXRhLmdldERhdGEoJ3RleHQvcmVhY3QtbWVudGlvbnMnKTtcbiAgICAgIHZhciBwYXN0ZWREYXRhID0gZXZlbnQuY2xpcGJvYXJkRGF0YS5nZXREYXRhKCd0ZXh0L3BsYWluJyk7XG4gICAgICB2YXIgbmV3VmFsdWUgPSBzcGxpY2VTdHJpbmcodmFsdWUsIG1hcmt1cFN0YXJ0SW5kZXgsIG1hcmt1cEVuZEluZGV4LCBwYXN0ZWRNZW50aW9ucyB8fCBwYXN0ZWREYXRhKS5yZXBsYWNlKC9cXHIvZywgJycpO1xuICAgICAgdmFyIG5ld1BsYWluVGV4dFZhbHVlID0gZ2V0UGxhaW5UZXh0KG5ld1ZhbHVlLCBjb25maWcpO1xuICAgICAgdmFyIGV2ZW50TW9jayA9IHtcbiAgICAgICAgdGFyZ2V0OiBfb2JqZWN0U3ByZWFkKHt9LCBldmVudC50YXJnZXQsIHtcbiAgICAgICAgICB2YWx1ZTogbmV3VmFsdWVcbiAgICAgICAgfSlcbiAgICAgIH07XG4gICAgICB0aGlzLmV4ZWN1dGVPbkNoYW5nZShldmVudE1vY2ssIG5ld1ZhbHVlLCBuZXdQbGFpblRleHRWYWx1ZSwgZ2V0TWVudGlvbnMobmV3VmFsdWUsIGNvbmZpZykpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJzYXZlU2VsZWN0aW9uVG9DbGlwYm9hcmRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gc2F2ZVNlbGVjdGlvblRvQ2xpcGJvYXJkKGV2ZW50KSB7XG4gICAgICB2YXIgX3RoaXMkc3RhdGU0ID0gdGhpcy5zdGF0ZSxcbiAgICAgICAgICBzZWxlY3Rpb25TdGFydCA9IF90aGlzJHN0YXRlNC5zZWxlY3Rpb25TdGFydCxcbiAgICAgICAgICBzZWxlY3Rpb25FbmQgPSBfdGhpcyRzdGF0ZTQuc2VsZWN0aW9uRW5kO1xuICAgICAgdmFyIF90aGlzJHByb3BzOCA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgY2hpbGRyZW4gPSBfdGhpcyRwcm9wczguY2hpbGRyZW4sXG4gICAgICAgICAgdmFsdWUgPSBfdGhpcyRwcm9wczgudmFsdWU7XG4gICAgICB2YXIgY29uZmlnID0gcmVhZENvbmZpZ0Zyb21DaGlsZHJlbihjaGlsZHJlbik7XG4gICAgICB2YXIgbWFya3VwU3RhcnRJbmRleCA9IG1hcFBsYWluVGV4dEluZGV4KHZhbHVlLCBjb25maWcsIHNlbGVjdGlvblN0YXJ0LCAnU1RBUlQnKTtcbiAgICAgIHZhciBtYXJrdXBFbmRJbmRleCA9IG1hcFBsYWluVGV4dEluZGV4KHZhbHVlLCBjb25maWcsIHNlbGVjdGlvbkVuZCwgJ0VORCcpO1xuICAgICAgZXZlbnQuY2xpcGJvYXJkRGF0YS5zZXREYXRhKCd0ZXh0L3BsYWluJywgZXZlbnQudGFyZ2V0LnZhbHVlLnNsaWNlKHNlbGVjdGlvblN0YXJ0LCBzZWxlY3Rpb25FbmQpKTtcbiAgICAgIGV2ZW50LmNsaXBib2FyZERhdGEuc2V0RGF0YSgndGV4dC9yZWFjdC1tZW50aW9ucycsIHZhbHVlLnNsaWNlKG1hcmt1cFN0YXJ0SW5kZXgsIG1hcmt1cEVuZEluZGV4KSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInN1cHBvcnRzQ2xpcGJvYXJkQWN0aW9uc1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBzdXBwb3J0c0NsaXBib2FyZEFjdGlvbnMoZXZlbnQpIHtcbiAgICAgIHJldHVybiAhIWV2ZW50LmNsaXBib2FyZERhdGE7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImhhbmRsZUNvcHlcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gaGFuZGxlQ29weShldmVudCkge1xuICAgICAgaWYgKGV2ZW50LnRhcmdldCAhPT0gdGhpcy5pbnB1dEVsZW1lbnQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBpZiAoIXRoaXMuc3VwcG9ydHNDbGlwYm9hcmRBY3Rpb25zKGV2ZW50KSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICB0aGlzLnNhdmVTZWxlY3Rpb25Ub0NsaXBib2FyZChldmVudCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImhhbmRsZUN1dFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBoYW5kbGVDdXQoZXZlbnQpIHtcbiAgICAgIGlmIChldmVudC50YXJnZXQgIT09IHRoaXMuaW5wdXRFbGVtZW50KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKCF0aGlzLnN1cHBvcnRzQ2xpcGJvYXJkQWN0aW9ucyhldmVudCkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgdGhpcy5zYXZlU2VsZWN0aW9uVG9DbGlwYm9hcmQoZXZlbnQpO1xuICAgICAgdmFyIF90aGlzJHN0YXRlNSA9IHRoaXMuc3RhdGUsXG4gICAgICAgICAgc2VsZWN0aW9uU3RhcnQgPSBfdGhpcyRzdGF0ZTUuc2VsZWN0aW9uU3RhcnQsXG4gICAgICAgICAgc2VsZWN0aW9uRW5kID0gX3RoaXMkc3RhdGU1LnNlbGVjdGlvbkVuZDtcbiAgICAgIHZhciBfdGhpcyRwcm9wczkgPSB0aGlzLnByb3BzLFxuICAgICAgICAgIGNoaWxkcmVuID0gX3RoaXMkcHJvcHM5LmNoaWxkcmVuLFxuICAgICAgICAgIHZhbHVlID0gX3RoaXMkcHJvcHM5LnZhbHVlO1xuICAgICAgdmFyIGNvbmZpZyA9IHJlYWRDb25maWdGcm9tQ2hpbGRyZW4oY2hpbGRyZW4pO1xuICAgICAgdmFyIG1hcmt1cFN0YXJ0SW5kZXggPSBtYXBQbGFpblRleHRJbmRleCh2YWx1ZSwgY29uZmlnLCBzZWxlY3Rpb25TdGFydCwgJ1NUQVJUJyk7XG4gICAgICB2YXIgbWFya3VwRW5kSW5kZXggPSBtYXBQbGFpblRleHRJbmRleCh2YWx1ZSwgY29uZmlnLCBzZWxlY3Rpb25FbmQsICdFTkQnKTtcbiAgICAgIHZhciBuZXdWYWx1ZSA9IFt2YWx1ZS5zbGljZSgwLCBtYXJrdXBTdGFydEluZGV4KSwgdmFsdWUuc2xpY2UobWFya3VwRW5kSW5kZXgpXS5qb2luKCcnKTtcbiAgICAgIHZhciBuZXdQbGFpblRleHRWYWx1ZSA9IGdldFBsYWluVGV4dChuZXdWYWx1ZSwgY29uZmlnKTtcbiAgICAgIHZhciBldmVudE1vY2sgPSB7XG4gICAgICAgIHRhcmdldDogX29iamVjdFNwcmVhZCh7fSwgZXZlbnQudGFyZ2V0LCB7XG4gICAgICAgICAgdmFsdWU6IG5ld1BsYWluVGV4dFZhbHVlXG4gICAgICAgIH0pXG4gICAgICB9O1xuICAgICAgdGhpcy5leGVjdXRlT25DaGFuZ2UoZXZlbnRNb2NrLCBuZXdWYWx1ZSwgbmV3UGxhaW5UZXh0VmFsdWUsIGdldE1lbnRpb25zKHZhbHVlLCBjb25maWcpKTtcbiAgICB9IC8vIEhhbmRsZSBpbnB1dCBlbGVtZW50J3MgY2hhbmdlIGV2ZW50XG5cbiAgfV0pO1xuXG4gIHJldHVybiBNZW50aW9uc0lucHV0O1xufShSZWFjdC5Db21wb25lbnQpO1xuLyoqXG4gKiBSZXR1cm5zIHRoZSBjb21wdXRlZCBsZW5ndGggcHJvcGVydHkgdmFsdWUgZm9yIHRoZSBwcm92aWRlZCBlbGVtZW50LlxuICogTm90ZTogQWNjb3JkaW5nIHRvIHNwZWMgYW5kIHRlc3RpbmcsIGNhbiBjb3VudCBvbiBsZW5ndGggdmFsdWVzIGNvbWluZyBiYWNrIGluIHBpeGVscy4gU2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0NTUy91c2VkX3ZhbHVlI0RpZmZlcmVuY2VfZnJvbV9jb21wdXRlZF92YWx1ZVxuICovXG5cblxuX2RlZmluZVByb3BlcnR5KE1lbnRpb25zSW5wdXQsIFwicHJvcFR5cGVzXCIsIHByb3BUeXBlcyk7XG5cbl9kZWZpbmVQcm9wZXJ0eShNZW50aW9uc0lucHV0LCBcImRlZmF1bHRQcm9wc1wiLCB7XG4gIGlnbm9yZUFjY2VudHM6IGZhbHNlLFxuICBzaW5nbGVMaW5lOiBmYWxzZSxcbiAgYWxsb3dTdWdnZXN0aW9uc0Fib3ZlQ3Vyc29yOiBmYWxzZSxcbiAgb25LZXlEb3duOiBmdW5jdGlvbiBvbktleURvd24oKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH0sXG4gIG9uU2VsZWN0OiBmdW5jdGlvbiBvblNlbGVjdCgpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfSxcbiAgb25CbHVyOiBmdW5jdGlvbiBvbkJsdXIoKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbn0pO1xuXG52YXIgZ2V0Q29tcHV0ZWRTdHlsZUxlbmd0aFByb3AgPSBmdW5jdGlvbiBnZXRDb21wdXRlZFN0eWxlTGVuZ3RoUHJvcChmb3JFbGVtZW50LCBwcm9wZXJ0eU5hbWUpIHtcbiAgdmFyIGxlbmd0aCA9IHBhcnNlRmxvYXQod2luZG93LmdldENvbXB1dGVkU3R5bGUoZm9yRWxlbWVudCwgbnVsbCkuZ2V0UHJvcGVydHlWYWx1ZShwcm9wZXJ0eU5hbWUpKTtcbiAgcmV0dXJuIGlzRmluaXRlKGxlbmd0aCkgPyBsZW5ndGggOiAwO1xufTtcblxudmFyIGlzTW9iaWxlU2FmYXJpID0gdHlwZW9mIG5hdmlnYXRvciAhPT0gJ3VuZGVmaW5lZCcgJiYgL2lQaG9uZXxpUGFkfGlQb2QvaS50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpO1xudmFyIHN0eWxlZCQzID0gY3JlYXRlRGVmYXVsdFN0eWxlKHtcbiAgcG9zaXRpb246ICdyZWxhdGl2ZScsXG4gIG92ZXJmbG93WTogJ3Zpc2libGUnLFxuICBpbnB1dDoge1xuICAgIGRpc3BsYXk6ICdibG9jaycsXG4gICAgd2lkdGg6ICcxMDAlJyxcbiAgICBwb3NpdGlvbjogJ2Fic29sdXRlJyxcbiAgICBtYXJnaW46IDAsXG4gICAgdG9wOiAwLFxuICAgIGxlZnQ6IDAsXG4gICAgYm94U2l6aW5nOiAnYm9yZGVyLWJveCcsXG4gICAgYmFja2dyb3VuZENvbG9yOiAndHJhbnNwYXJlbnQnLFxuICAgIGZvbnRGYW1pbHk6ICdpbmhlcml0JyxcbiAgICBmb250U2l6ZTogJ2luaGVyaXQnLFxuICAgIGxldHRlclNwYWNpbmc6ICdpbmhlcml0J1xuICB9LFxuICAnJm11bHRpTGluZSc6IHtcbiAgICBpbnB1dDogX29iamVjdFNwcmVhZCh7XG4gICAgICBoZWlnaHQ6ICcxMDAlJyxcbiAgICAgIGJvdHRvbTogMCxcbiAgICAgIG92ZXJmbG93OiAnaGlkZGVuJyxcbiAgICAgIHJlc2l6ZTogJ25vbmUnXG4gICAgfSwgaXNNb2JpbGVTYWZhcmkgPyB7XG4gICAgICBtYXJnaW5Ub3A6IDEsXG4gICAgICBtYXJnaW5MZWZ0OiAtM1xuICAgIH0gOiBudWxsKVxuICB9XG59LCBmdW5jdGlvbiAoX3JlZjQpIHtcbiAgdmFyIHNpbmdsZUxpbmUgPSBfcmVmNC5zaW5nbGVMaW5lO1xuICByZXR1cm4ge1xuICAgICcmc2luZ2xlTGluZSc6IHNpbmdsZUxpbmUsXG4gICAgJyZtdWx0aUxpbmUnOiAhc2luZ2xlTGluZVxuICB9O1xufSk7XG52YXIgTWVudGlvbnNJbnB1dCQxID0gc3R5bGVkJDMoTWVudGlvbnNJbnB1dCk7XG5cbnZhciBkZWZhdWx0U3R5bGUgPSB7XG4gIGZvbnRXZWlnaHQ6ICdpbmhlcml0J1xufTtcblxudmFyIE1lbnRpb24gPSBmdW5jdGlvbiBNZW50aW9uKF9yZWYpIHtcbiAgdmFyIGRpc3BsYXkgPSBfcmVmLmRpc3BsYXksXG4gICAgICBzdHlsZSA9IF9yZWYuc3R5bGUsXG4gICAgICBjbGFzc05hbWUgPSBfcmVmLmNsYXNzTmFtZSxcbiAgICAgIGNsYXNzTmFtZXMgPSBfcmVmLmNsYXNzTmFtZXM7XG4gIHZhciBzdHlsZXMgPSB1c2VTdHlsZXMoZGVmYXVsdFN0eWxlLCB7XG4gICAgc3R5bGU6IHN0eWxlLFxuICAgIGNsYXNzTmFtZTogY2xhc3NOYW1lLFxuICAgIGNsYXNzTmFtZXM6IGNsYXNzTmFtZXNcbiAgfSk7XG4gIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFwic3Ryb25nXCIsIHN0eWxlcywgZGlzcGxheSk7XG59O1xuXG5NZW50aW9uLnByb3BUeXBlcyA9IHtcbiAgLyoqXG4gICAqIENhbGxlZCB3aGVuIGEgbmV3IG1lbnRpb24gaXMgYWRkZWQgaW4gdGhlIGlucHV0XG4gICAqXG4gICAqIEV4YW1wbGU6XG4gICAqXG4gICAqIGBgYGpzXG4gICAqIGZ1bmN0aW9uKGlkLCBkaXNwbGF5KSB7XG4gICAqICAgY29uc29sZS5sb2coXCJ1c2VyIFwiICsgZGlzcGxheSArIFwiIHdhcyBtZW50aW9uZWQhXCIpO1xuICAgKiB9XG4gICAqIGBgYFxuICAgKi9cbiAgb25BZGQ6IFByb3BUeXBlcy5mdW5jLFxuICBvblJlbW92ZTogUHJvcFR5cGVzLmZ1bmMsXG4gIHJlbmRlclN1Z2dlc3Rpb246IFByb3BUeXBlcy5mdW5jLFxuICB0cmlnZ2VyOiBQcm9wVHlwZXMub25lT2ZUeXBlKFtQcm9wVHlwZXMuc3RyaW5nLCBQcm9wVHlwZXMuaW5zdGFuY2VPZihSZWdFeHApXSksXG4gIG1hcmt1cDogUHJvcFR5cGVzLnN0cmluZyxcbiAgZGlzcGxheVRyYW5zZm9ybTogUHJvcFR5cGVzLmZ1bmMsXG5cbiAgLyoqXG4gICAqIElmIHNldCB0byBgdHJ1ZWAgc3BhY2VzIHdpbGwgbm90IGludGVycnVwdCBtYXRjaGluZyBzdWdnZXN0aW9uc1xuICAgKi9cbiAgYWxsb3dTcGFjZUluUXVlcnk6IFByb3BUeXBlcy5ib29sLFxuICBpc0xvYWRpbmc6IFByb3BUeXBlcy5ib29sXG59O1xuTWVudGlvbi5kZWZhdWx0UHJvcHMgPSB7XG4gIHRyaWdnZXI6ICdAJyxcbiAgbWFya3VwOiAnQFtfX2Rpc3BsYXlfX10oX19pZF9fKScsXG4gIGRpc3BsYXlUcmFuc2Zvcm06IGZ1bmN0aW9uIGRpc3BsYXlUcmFuc2Zvcm0oaWQsIGRpc3BsYXkpIHtcbiAgICByZXR1cm4gZGlzcGxheSB8fCBpZDtcbiAgfSxcbiAgb25BZGQ6IGZ1bmN0aW9uIG9uQWRkKCkge1xuICAgIHJldHVybiBudWxsO1xuICB9LFxuICBvblJlbW92ZTogZnVuY3Rpb24gb25SZW1vdmUoKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH0sXG4gIHJlbmRlclN1Z2dlc3Rpb246IG51bGwsXG4gIGlzTG9hZGluZzogZmFsc2UsXG4gIGFwcGVuZFNwYWNlT25BZGQ6IGZhbHNlXG59O1xuXG5leHBvcnQgeyBNZW50aW9uLCBNZW50aW9uc0lucHV0JDEgYXMgTWVudGlvbnNJbnB1dCB9O1xuIiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gX2FycmF5V2l0aEhvbGVzKGFycikge1xuICBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSByZXR1cm4gYXJyO1xufSIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIF9hcnJheVdpdGhvdXRIb2xlcyhhcnIpIHtcbiAgaWYgKEFycmF5LmlzQXJyYXkoYXJyKSkge1xuICAgIGZvciAodmFyIGkgPSAwLCBhcnIyID0gbmV3IEFycmF5KGFyci5sZW5ndGgpOyBpIDwgYXJyLmxlbmd0aDsgaSsrKSB7XG4gICAgICBhcnIyW2ldID0gYXJyW2ldO1xuICAgIH1cblxuICAgIHJldHVybiBhcnIyO1xuICB9XG59IiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gX2Fzc2VydFRoaXNJbml0aWFsaXplZChzZWxmKSB7XG4gIGlmIChzZWxmID09PSB2b2lkIDApIHtcbiAgICB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7XG4gIH1cblxuICByZXR1cm4gc2VsZjtcbn0iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7XG4gIGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTtcbiAgfVxufSIsImZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykge1xuICAgIHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07XG4gICAgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlO1xuICAgIGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTtcbiAgICBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBfY3JlYXRlQ2xhc3MoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7XG4gIGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpO1xuICBpZiAoc3RhdGljUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7XG4gIHJldHVybiBDb25zdHJ1Y3Rvcjtcbn0iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBfZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHZhbHVlKSB7XG4gIGlmIChrZXkgaW4gb2JqKSB7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7XG4gICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgd3JpdGFibGU6IHRydWVcbiAgICB9KTtcbiAgfSBlbHNlIHtcbiAgICBvYmpba2V5XSA9IHZhbHVlO1xuICB9XG5cbiAgcmV0dXJuIG9iajtcbn0iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBfZXh0ZW5kcygpIHtcbiAgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHtcbiAgICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTtcblxuICAgICAgZm9yICh2YXIga2V5IGluIHNvdXJjZSkge1xuICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkge1xuICAgICAgICAgIHRhcmdldFtrZXldID0gc291cmNlW2tleV07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gdGFyZ2V0O1xuICB9O1xuXG4gIHJldHVybiBfZXh0ZW5kcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xufSIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIF9nZXRQcm90b3R5cGVPZihvKSB7XG4gIF9nZXRQcm90b3R5cGVPZiA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5nZXRQcm90b3R5cGVPZiA6IGZ1bmN0aW9uIF9nZXRQcm90b3R5cGVPZihvKSB7XG4gICAgcmV0dXJuIG8uX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihvKTtcbiAgfTtcbiAgcmV0dXJuIF9nZXRQcm90b3R5cGVPZihvKTtcbn0iLCJpbXBvcnQgc2V0UHJvdG90eXBlT2YgZnJvbSBcIi4vc2V0UHJvdG90eXBlT2ZcIjtcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykge1xuICBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uXCIpO1xuICB9XG5cbiAgc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7XG4gICAgY29uc3RydWN0b3I6IHtcbiAgICAgIHZhbHVlOiBzdWJDbGFzcyxcbiAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfVxuICB9KTtcbiAgaWYgKHN1cGVyQ2xhc3MpIHNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKTtcbn0iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBfaXRlcmFibGVUb0FycmF5KGl0ZXIpIHtcbiAgaWYgKFN5bWJvbC5pdGVyYXRvciBpbiBPYmplY3QoaXRlcikgfHwgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGl0ZXIpID09PSBcIltvYmplY3QgQXJndW1lbnRzXVwiKSByZXR1cm4gQXJyYXkuZnJvbShpdGVyKTtcbn0iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBfaXRlcmFibGVUb0FycmF5TGltaXQoYXJyLCBpKSB7XG4gIHZhciBfYXJyID0gW107XG4gIHZhciBfbiA9IHRydWU7XG4gIHZhciBfZCA9IGZhbHNlO1xuICB2YXIgX2UgPSB1bmRlZmluZWQ7XG5cbiAgdHJ5IHtcbiAgICBmb3IgKHZhciBfaSA9IGFycltTeW1ib2wuaXRlcmF0b3JdKCksIF9zOyAhKF9uID0gKF9zID0gX2kubmV4dCgpKS5kb25lKTsgX24gPSB0cnVlKSB7XG4gICAgICBfYXJyLnB1c2goX3MudmFsdWUpO1xuXG4gICAgICBpZiAoaSAmJiBfYXJyLmxlbmd0aCA9PT0gaSkgYnJlYWs7XG4gICAgfVxuICB9IGNhdGNoIChlcnIpIHtcbiAgICBfZCA9IHRydWU7XG4gICAgX2UgPSBlcnI7XG4gIH0gZmluYWxseSB7XG4gICAgdHJ5IHtcbiAgICAgIGlmICghX24gJiYgX2lbXCJyZXR1cm5cIl0gIT0gbnVsbCkgX2lbXCJyZXR1cm5cIl0oKTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgaWYgKF9kKSB0aHJvdyBfZTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gX2Fycjtcbn0iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBfbm9uSXRlcmFibGVSZXN0KCkge1xuICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBhdHRlbXB0IHRvIGRlc3RydWN0dXJlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZVwiKTtcbn0iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBfbm9uSXRlcmFibGVTcHJlYWQoKSB7XG4gIHRocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIGF0dGVtcHQgdG8gc3ByZWFkIG5vbi1pdGVyYWJsZSBpbnN0YW5jZVwiKTtcbn0iLCJpbXBvcnQgb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZSBmcm9tIFwiLi9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlXCI7XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMoc291cmNlLCBleGNsdWRlZCkge1xuICBpZiAoc291cmNlID09IG51bGwpIHJldHVybiB7fTtcbiAgdmFyIHRhcmdldCA9IG9iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2Uoc291cmNlLCBleGNsdWRlZCk7XG4gIHZhciBrZXksIGk7XG5cbiAgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHtcbiAgICB2YXIgc291cmNlU3ltYm9sS2V5cyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoc291cmNlKTtcblxuICAgIGZvciAoaSA9IDA7IGkgPCBzb3VyY2VTeW1ib2xLZXlzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBrZXkgPSBzb3VyY2VTeW1ib2xLZXlzW2ldO1xuICAgICAgaWYgKGV4Y2x1ZGVkLmluZGV4T2Yoa2V5KSA+PSAwKSBjb250aW51ZTtcbiAgICAgIGlmICghT2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKHNvdXJjZSwga2V5KSkgY29udGludWU7XG4gICAgICB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiB0YXJnZXQ7XG59IiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2Uoc291cmNlLCBleGNsdWRlZCkge1xuICBpZiAoc291cmNlID09IG51bGwpIHJldHVybiB7fTtcbiAgdmFyIHRhcmdldCA9IHt9O1xuICB2YXIgc291cmNlS2V5cyA9IE9iamVjdC5rZXlzKHNvdXJjZSk7XG4gIHZhciBrZXksIGk7XG5cbiAgZm9yIChpID0gMDsgaSA8IHNvdXJjZUtleXMubGVuZ3RoOyBpKyspIHtcbiAgICBrZXkgPSBzb3VyY2VLZXlzW2ldO1xuICAgIGlmIChleGNsdWRlZC5pbmRleE9mKGtleSkgPj0gMCkgY29udGludWU7XG4gICAgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTtcbiAgfVxuXG4gIHJldHVybiB0YXJnZXQ7XG59IiwiaW1wb3J0IF90eXBlb2YgZnJvbSBcIi4uLy4uL2hlbHBlcnMvZXNtL3R5cGVvZlwiO1xuaW1wb3J0IGFzc2VydFRoaXNJbml0aWFsaXplZCBmcm9tIFwiLi9hc3NlcnRUaGlzSW5pdGlhbGl6ZWRcIjtcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHtcbiAgaWYgKGNhbGwgJiYgKF90eXBlb2YoY2FsbCkgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikpIHtcbiAgICByZXR1cm4gY2FsbDtcbiAgfVxuXG4gIHJldHVybiBhc3NlcnRUaGlzSW5pdGlhbGl6ZWQoc2VsZik7XG59IiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gX3NldFByb3RvdHlwZU9mKG8sIHApIHtcbiAgX3NldFByb3RvdHlwZU9mID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8IGZ1bmN0aW9uIF9zZXRQcm90b3R5cGVPZihvLCBwKSB7XG4gICAgby5fX3Byb3RvX18gPSBwO1xuICAgIHJldHVybiBvO1xuICB9O1xuXG4gIHJldHVybiBfc2V0UHJvdG90eXBlT2YobywgcCk7XG59IiwiaW1wb3J0IGFycmF5V2l0aEhvbGVzIGZyb20gXCIuL2FycmF5V2l0aEhvbGVzXCI7XG5pbXBvcnQgaXRlcmFibGVUb0FycmF5TGltaXQgZnJvbSBcIi4vaXRlcmFibGVUb0FycmF5TGltaXRcIjtcbmltcG9ydCBub25JdGVyYWJsZVJlc3QgZnJvbSBcIi4vbm9uSXRlcmFibGVSZXN0XCI7XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBfc2xpY2VkVG9BcnJheShhcnIsIGkpIHtcbiAgcmV0dXJuIGFycmF5V2l0aEhvbGVzKGFycikgfHwgaXRlcmFibGVUb0FycmF5TGltaXQoYXJyLCBpKSB8fCBub25JdGVyYWJsZVJlc3QoKTtcbn0iLCJpbXBvcnQgYXJyYXlXaXRob3V0SG9sZXMgZnJvbSBcIi4vYXJyYXlXaXRob3V0SG9sZXNcIjtcbmltcG9ydCBpdGVyYWJsZVRvQXJyYXkgZnJvbSBcIi4vaXRlcmFibGVUb0FycmF5XCI7XG5pbXBvcnQgbm9uSXRlcmFibGVTcHJlYWQgZnJvbSBcIi4vbm9uSXRlcmFibGVTcHJlYWRcIjtcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIF90b0NvbnN1bWFibGVBcnJheShhcnIpIHtcbiAgcmV0dXJuIGFycmF5V2l0aG91dEhvbGVzKGFycikgfHwgaXRlcmFibGVUb0FycmF5KGFycikgfHwgbm9uSXRlcmFibGVTcHJlYWQoKTtcbn0iLCJmdW5jdGlvbiBfdHlwZW9mMihvYmopIHsgaWYgKHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID09PSBcInN5bWJvbFwiKSB7IF90eXBlb2YyID0gZnVuY3Rpb24gX3R5cGVvZjIob2JqKSB7IHJldHVybiB0eXBlb2Ygb2JqOyB9OyB9IGVsc2UgeyBfdHlwZW9mMiA9IGZ1bmN0aW9uIF90eXBlb2YyKG9iaikgeyByZXR1cm4gb2JqICYmIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvYmouY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvYmogIT09IFN5bWJvbC5wcm90b3R5cGUgPyBcInN5bWJvbFwiIDogdHlwZW9mIG9iajsgfTsgfSByZXR1cm4gX3R5cGVvZjIob2JqKTsgfVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBfdHlwZW9mKG9iaikge1xuICBpZiAodHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIF90eXBlb2YyKFN5bWJvbC5pdGVyYXRvcikgPT09IFwic3ltYm9sXCIpIHtcbiAgICBfdHlwZW9mID0gZnVuY3Rpb24gX3R5cGVvZihvYmopIHtcbiAgICAgIHJldHVybiBfdHlwZW9mMihvYmopO1xuICAgIH07XG4gIH0gZWxzZSB7XG4gICAgX3R5cGVvZiA9IGZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7XG4gICAgICByZXR1cm4gb2JqICYmIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvYmouY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvYmogIT09IFN5bWJvbC5wcm90b3R5cGUgPyBcInN5bWJvbFwiIDogX3R5cGVvZjIob2JqKTtcbiAgICB9O1xuICB9XG5cbiAgcmV0dXJuIF90eXBlb2Yob2JqKTtcbn0iLCJcInVzZSBzdHJpY3RcIjtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG5mdW5jdGlvbiByZWdleGlmeVN0cmluZyhwcm9wcykge1xyXG4gICAgdmFyIHBhdHRlcm4gPSBwcm9wcy5wYXR0ZXJuLCBkZWNvcmF0b3IgPSBwcm9wcy5kZWNvcmF0b3IsIGlucHV0ID0gcHJvcHMuaW5wdXQ7XHJcbiAgICB2YXIgb3V0cHV0ID0gW107XHJcbiAgICB2YXIgbWF0Y2hJbmRleCA9IDA7XHJcbiAgICB2YXIgcHJvY2Vzc2VkSW5wdXQgPSBpbnB1dDtcclxuICAgIHZhciByZXN1bHQgPSBwYXR0ZXJuLmV4ZWMocHJvY2Vzc2VkSW5wdXQpO1xyXG4gICAgd2hpbGUgKHJlc3VsdCAhPT0gbnVsbCkge1xyXG4gICAgICAgIHZhciBtYXRjaFN0YXJ0QXQgPSByZXN1bHQuaW5kZXg7XHJcbiAgICAgICAgdmFyIG1hdGNoID0gcmVzdWx0WzBdO1xyXG4gICAgICAgIHZhciBjb250ZW50QmVmb3JlTWF0Y2ggPSBwcm9jZXNzZWRJbnB1dC5zdWJzdHJpbmcoMCwgbWF0Y2hTdGFydEF0KTtcclxuICAgICAgICB2YXIgZGVjb3JhdGVkTWF0Y2ggPSBkZWNvcmF0b3IobWF0Y2gsIG1hdGNoSW5kZXgpO1xyXG4gICAgICAgIG91dHB1dC5wdXNoKGNvbnRlbnRCZWZvcmVNYXRjaCk7XHJcbiAgICAgICAgb3V0cHV0LnB1c2goZGVjb3JhdGVkTWF0Y2gpO1xyXG4gICAgICAgIHByb2Nlc3NlZElucHV0ID0gcHJvY2Vzc2VkSW5wdXQuc3Vic3RyaW5nKG1hdGNoU3RhcnRBdCArIG1hdGNoLmxlbmd0aCwgcHJvY2Vzc2VkSW5wdXQubGVuZ3RoICsgMSk7XHJcbiAgICAgICAgcGF0dGVybi5sYXN0SW5kZXggPSAwO1xyXG4gICAgICAgIHJlc3VsdCA9IHBhdHRlcm4uZXhlYyhwcm9jZXNzZWRJbnB1dCk7XHJcbiAgICAgICAgKyttYXRjaEluZGV4O1xyXG4gICAgfVxyXG4gICAgaWYgKHByb2Nlc3NlZElucHV0KSB7XHJcbiAgICAgICAgb3V0cHV0LnB1c2gocHJvY2Vzc2VkSW5wdXQpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIG91dHB1dDtcclxufVxyXG5leHBvcnRzLmRlZmF1bHQgPSByZWdleGlmeVN0cmluZztcclxuIiwiaW1wb3J0IHsgY3JlYXRlQ29udGV4dCB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCBkZWZhdWx0UHJvcHNEZWNvcmF0b3IgZnJvbSAnLi9kZWZhdWx0UHJvcHNEZWNvcmF0b3InO1xuZXhwb3J0IHZhciBQcm9wc0RlY29yYXRvckNvbnRleHQgPSAvKiNfX1BVUkVfXyovY3JlYXRlQ29udGV4dChkZWZhdWx0UHJvcHNEZWNvcmF0b3IpO1xuZXhwb3J0IGRlZmF1bHQgUHJvcHNEZWNvcmF0b3JDb250ZXh0LlByb3ZpZGVyOyIsImltcG9ydCB7IGtleXMgfSBmcm9tICcuL3V0aWxzJztcblxudmFyIGNvZXJjZVNlbGVjdGlvbiA9IGZ1bmN0aW9uIGNvZXJjZVNlbGVjdGlvbihzZWxlY3QpIHtcbiAgaWYgKCFzZWxlY3QpIHtcbiAgICByZXR1cm4gW107XG4gIH0gZWxzZSBpZiAodHlwZW9mIHNlbGVjdCA9PT0gJ3N0cmluZycpIHtcbiAgICByZXR1cm4gW3NlbGVjdF07XG4gIH0gZWxzZSBpZiAoIUFycmF5LmlzQXJyYXkoc2VsZWN0KSkge1xuICAgIHZhciBvYmpTZWxlY3QgPSBzZWxlY3Q7IC8vIHdvcmthcm91bmQgZm9yIGh0dHBzOi8vZ2l0aHViLmNvbS9mYWNlYm9vay9mbG93L2lzc3Vlcy81NzgxXG5cbiAgICByZXR1cm4ga2V5cyhzZWxlY3QpLnJlZHVjZShmdW5jdGlvbiAoYWNjLCBrZXkpIHtcbiAgICAgIHJldHVybiBhY2MuY29uY2F0KG9ialNlbGVjdFtrZXldID8gW2tleV0gOiBbXSk7XG4gICAgfSwgW10pO1xuICB9XG5cbiAgcmV0dXJuIHNlbGVjdDtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IGNvZXJjZVNlbGVjdGlvbjsiLCJpbXBvcnQgX2RlZmluZVByb3BlcnR5IGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2RlZmluZVByb3BlcnR5XCI7XG5pbXBvcnQgX3RvQ29uc3VtYWJsZUFycmF5IGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL3RvQ29uc3VtYWJsZUFycmF5XCI7XG5cbmZ1bmN0aW9uIG93bktleXMob2JqZWN0LCBlbnVtZXJhYmxlT25seSkgeyB2YXIga2V5cyA9IE9iamVjdC5rZXlzKG9iamVjdCk7IGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7IHZhciBzeW1ib2xzID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhvYmplY3QpOyBpZiAoZW51bWVyYWJsZU9ubHkpIHsgc3ltYm9scyA9IHN5bWJvbHMuZmlsdGVyKGZ1bmN0aW9uIChzeW0pIHsgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqZWN0LCBzeW0pLmVudW1lcmFibGU7IH0pOyB9IGtleXMucHVzaC5hcHBseShrZXlzLCBzeW1ib2xzKTsgfSByZXR1cm4ga2V5czsgfVxuXG5mdW5jdGlvbiBfb2JqZWN0U3ByZWFkKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldICE9IG51bGwgPyBhcmd1bWVudHNbaV0gOiB7fTsgaWYgKGkgJSAyKSB7IG93bktleXMoT2JqZWN0KHNvdXJjZSksIHRydWUpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBfZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHNvdXJjZVtrZXldKTsgfSk7IH0gZWxzZSBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMpIHsgT2JqZWN0LmRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhzb3VyY2UpKTsgfSBlbHNlIHsgb3duS2V5cyhPYmplY3Qoc291cmNlKSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihzb3VyY2UsIGtleSkpOyB9KTsgfSB9IHJldHVybiB0YXJnZXQ7IH1cblxuaW1wb3J0IGludmFyaWFudCBmcm9tICdpbnZhcmlhbnQnO1xuaW1wb3J0IGNvZXJjZVNlbGVjdGlvbiBmcm9tICcuL2NvZXJjZVNlbGVjdGlvbic7XG5pbXBvcnQgZGVmYXVsdFByb3BzRGVjb3JhdG9yIGZyb20gJy4vZGVmYXVsdFByb3BzRGVjb3JhdG9yJztcbmltcG9ydCB7IGlzRWxlbWVudCwgaXNNb2RpZmllciB9IGZyb20gJy4vZmlsdGVyS2V5cyc7XG5pbXBvcnQgbWVtb2l6ZSBmcm9tICcuL21lbW9pemUnO1xuaW1wb3J0IHsgaG9pc3RNb2RpZmllclN0eWxlc1JlY3Vyc2l2ZSwgcGlja05lc3RlZFN0eWxlcyB9IGZyb20gJy4vcGlja1N0eWxlcyc7XG5pbXBvcnQgeyBjb21wYWN0LCBpc1BsYWluT2JqZWN0LCBrZXlzLCBtZXJnZSwgdmFsdWVzIH0gZnJvbSAnLi91dGlscyc7XG5cbnZhciBndWVzc0Jhc2VDbGFzc05hbWUgPSBmdW5jdGlvbiBndWVzc0Jhc2VDbGFzc05hbWUoY2xhc3NOYW1lcykge1xuICAvLyBhbGwgY2xhc3MgbmFtZXMgbXVzdCBzdGFydCB3aXRoIHRoZSBzYW1lIHByZWZpeDogdGhlIGNvbXBvbmVudCdzIGJhc2UgY2xhc3MgbmFtZVxuICAvLyB3aGljaCB3aWxsIGZpbmFsbHkgZ28gdG8gdGhlIGNvbnRhaW5lciBlbGVtZW50XG4gIHZhciBmaXJzdEtleSA9IGNsYXNzTmFtZXMgJiYga2V5cyhjbGFzc05hbWVzKVswXTtcbiAgcmV0dXJuIGZpcnN0S2V5ICYmIGZpcnN0S2V5LnNwbGl0KCdfXycpWzBdLnNwbGl0KCctLScpWzBdO1xufTtcblxudmFyIGRlcml2ZUNsYXNzTmFtZXMgPSBmdW5jdGlvbiBkZXJpdmVDbGFzc05hbWVzKGNsYXNzTmFtZSwgZWxlbWVudEtleXMsIG1vZGlmaWVyS2V5cykge1xuICAvLyBkbyBub3QgZGVyaXZlIGNsYXNzIG5hbWVzLCBpZiB0aGUgdXNlciBkaWQgbm90IHNwZWNpZnkgYW55IGNsYXNzIG5hbWVcbiAgaWYgKCFjbGFzc05hbWUpIHtcbiAgICByZXR1cm4gdW5kZWZpbmVkO1xuICB9IC8vIGRlcml2ZSBjbGFzcyBuYW1lcyBiYXNlZCB1c2luZyB0aGUgcGFzc2VkIG1vZGlmaWVyL2VsZW1lbnQga2V5c1xuXG5cbiAgdmFyIGZpcnN0Q2xhc3NOYW1lID0gY2xhc3NOYW1lLnNwbGl0KCcgJylbMF07XG4gIHZhciBkZXJpdmVkQ2xhc3NOYW1lcyA9IFtdLmNvbmNhdChfdG9Db25zdW1hYmxlQXJyYXkoZWxlbWVudEtleXMubGVuZ3RoID09PSAwID8gbW9kaWZpZXJLZXlzLm1hcChmdW5jdGlvbiAoa2V5KSB7XG4gICAgcmV0dXJuIFwiXCIuY29uY2F0KGZpcnN0Q2xhc3NOYW1lLCBcIi0tXCIpLmNvbmNhdChrZXkuc3Vic3RyaW5nKDEpKTtcbiAgfSkgOiBbXSksIF90b0NvbnN1bWFibGVBcnJheShlbGVtZW50S2V5cy5tYXAoZnVuY3Rpb24gKGtleSkge1xuICAgIHJldHVybiBcIlwiLmNvbmNhdChmaXJzdENsYXNzTmFtZSwgXCJfX1wiKS5jb25jYXQoa2V5KTtcbiAgfSkpKTsgLy8gYWxzbyB1c2UgdGhlIHByb3ZpZGVkIGBjbGFzc05hbWVgIGlmIHRoZXJlIGlzIG5vIHN1Yi1lbGVtZW50IHNlbGVjdGlvblxuXG4gIHJldHVybiBlbGVtZW50S2V5cy5sZW5ndGggPT09IDAgPyBbY2xhc3NOYW1lXS5jb25jYXQoX3RvQ29uc3VtYWJsZUFycmF5KGRlcml2ZWRDbGFzc05hbWVzKSkgOiBkZXJpdmVkQ2xhc3NOYW1lcztcbn07XG5cbmZ1bmN0aW9uIGNyZWF0ZVN1YnN0eWxlKF9yZWYpIHtcbiAgdmFyIHN0eWxlID0gX3JlZi5zdHlsZSxcbiAgICAgIGNsYXNzTmFtZSA9IF9yZWYuY2xhc3NOYW1lLFxuICAgICAgY2xhc3NOYW1lcyA9IF9yZWYuY2xhc3NOYW1lcztcbiAgdmFyIHByb3BzRGVjb3JhdG9yID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiBkZWZhdWx0UHJvcHNEZWNvcmF0b3I7XG4gIHZhciBiYXNlQ2xhc3NOYW1lID0gY2xhc3NOYW1lIHx8IGd1ZXNzQmFzZUNsYXNzTmFtZShjbGFzc05hbWVzKSB8fCAoc3R5bGUgPT09IG51bGwgfHwgc3R5bGUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHN0eWxlLmNsYXNzTmFtZSk7XG4gIHZhciBzdWJzdHlsZSA9IHR5cGVvZiBzdHlsZSA9PT0gJ2Z1bmN0aW9uJyA/IHN0eWxlIDogbWVtb2l6ZShmdW5jdGlvbiAoc2VsZWN0LCBkZWZhdWx0U3R5bGUpIHtcbiAgICB2YXIgc2VsZWN0ZWRLZXlzID0gY29lcmNlU2VsZWN0aW9uKHNlbGVjdCk7XG4gICAgaW52YXJpYW50KEFycmF5LmlzQXJyYXkoc2VsZWN0ZWRLZXlzKSwgJ0ZpcnN0IHBhcmFtZXRlciBtdXN0IGJlIGEgc3RyaW5nLCBhbiBhcnJheSBvZiBzdHJpbmdzLCAnICsgJ2EgcGxhaW4gb2JqZWN0IHdpdGggYm9vbGVhbiB2YWx1ZXMsIG9yIGEgZmFsc3kgdmFsdWUuJyk7XG4gICAgaW52YXJpYW50KCFkZWZhdWx0U3R5bGUgfHwgaXNQbGFpbk9iamVjdChkZWZhdWx0U3R5bGUpLCAnT3B0aW9uYWwgc2Vjb25kIHBhcmFtZXRlciBtdXN0IGJlIGEgcGxhaW4gb2JqZWN0LicpO1xuICAgIHZhciBtb2RpZmllcktleXMgPSBzZWxlY3RlZEtleXMuZmlsdGVyKGlzTW9kaWZpZXIpO1xuICAgIHZhciBlbGVtZW50S2V5cyA9IHNlbGVjdGVkS2V5cy5maWx0ZXIoaXNFbGVtZW50KTtcbiAgICB2YXIgY29sbGVjdEVsZW1lbnRTdHlsZXMgPSBlbGVtZW50S2V5cy5sZW5ndGggPiAwID8gZnVuY3Rpb24gKGZyb21TdHlsZSkge1xuICAgICAgcmV0dXJuIHZhbHVlcyhwaWNrTmVzdGVkU3R5bGVzKGZyb21TdHlsZSwgZWxlbWVudEtleXMpKTtcbiAgICB9IDogZnVuY3Rpb24gKGZyb21TdHlsZSkge1xuICAgICAgcmV0dXJuIFtmcm9tU3R5bGVdO1xuICAgIH07XG5cbiAgICB2YXIgY29sbGVjdFNlbGVjdGVkU3R5bGVzID0gZnVuY3Rpb24gY29sbGVjdFNlbGVjdGVkU3R5bGVzKCkge1xuICAgICAgdmFyIGZyb21TdHlsZSA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDoge307XG4gICAgICByZXR1cm4gY29sbGVjdEVsZW1lbnRTdHlsZXMoaG9pc3RNb2RpZmllclN0eWxlc1JlY3Vyc2l2ZShmcm9tU3R5bGUsIG1vZGlmaWVyS2V5cykpO1xuICAgIH07XG5cbiAgICB2YXIgZGVyaXZlZENsYXNzTmFtZXMgPSBkZXJpdmVDbGFzc05hbWVzKGJhc2VDbGFzc05hbWUsIGVsZW1lbnRLZXlzLCBtb2RpZmllcktleXMpO1xuICAgIHJldHVybiBjcmVhdGVTdWJzdHlsZShfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgKHN0eWxlIHx8IGRlZmF1bHRTdHlsZSkgJiYge1xuICAgICAgc3R5bGU6IG1lcmdlLmFwcGx5KHZvaWQgMCwgW3t9XS5jb25jYXQoX3RvQ29uc3VtYWJsZUFycmF5KGNvbGxlY3RTZWxlY3RlZFN0eWxlcyhkZWZhdWx0U3R5bGUpKSwgX3RvQ29uc3VtYWJsZUFycmF5KGNvbGxlY3RTZWxlY3RlZFN0eWxlcyhzdHlsZSkpKSlcbiAgICB9KSwgZGVyaXZlZENsYXNzTmFtZXMgJiYge1xuICAgICAgY2xhc3NOYW1lOiBkZXJpdmVkQ2xhc3NOYW1lcy5qb2luKCcgJylcbiAgICB9KSwgY2xhc3NOYW1lcyAmJiB7XG4gICAgICBjbGFzc05hbWVzOiBjbGFzc05hbWVzXG4gICAgfSksIHByb3BzRGVjb3JhdG9yKTtcbiAgfSk7XG5cbiAgdmFyIHN0eWxlUHJvcHMgPSBfb2JqZWN0U3ByZWFkKHt9LCB0eXBlb2Ygc3R5bGUgPT09ICdmdW5jdGlvbicgPyBzdHlsZSA6IHtcbiAgICBzdHlsZTogc3R5bGVcbiAgfSk7XG5cbiAgdmFyIGNsYXNzTmFtZVNwbGl0ID0gX3RvQ29uc3VtYWJsZUFycmF5KG5ldyBTZXQoW10uY29uY2F0KF90b0NvbnN1bWFibGVBcnJheShzdHlsZVByb3BzLmNsYXNzTmFtZSA/IHN0eWxlUHJvcHMuY2xhc3NOYW1lLnNwbGl0KCcgJykgOiBbXSksIF90b0NvbnN1bWFibGVBcnJheShiYXNlQ2xhc3NOYW1lID8gYmFzZUNsYXNzTmFtZS5zcGxpdCgnICcpIDogW10pKSkpO1xuXG4gIHZhciBtYXBwZWRDbGFzc05hbWVzID0gY2xhc3NOYW1lcyA/IGNvbXBhY3QoY2xhc3NOYW1lU3BsaXQubWFwKGZ1bmN0aW9uIChzaW5nbGVDbGFzc05hbWUpIHtcbiAgICByZXR1cm4gY2xhc3NOYW1lc1tzaW5nbGVDbGFzc05hbWVdO1xuICB9KSkgOiBjbGFzc05hbWVTcGxpdDtcbiAgdmFyIHByb3BzRm9yU3ByZWFkID0gcHJvcHNEZWNvcmF0b3IoX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBzdHlsZVByb3BzKSwgbWFwcGVkQ2xhc3NOYW1lcy5sZW5ndGggPiAwID8ge1xuICAgIGNsYXNzTmFtZTogbWFwcGVkQ2xhc3NOYW1lcy5qb2luKCcgJylcbiAgfSA6IHt9KSk7IC8vIGFzc2lnbiBgc3R5bGVgLCBgY2xhc3NOYW1lYCwgYW5kL29yIGFueSBwcm9wcyBhZGRlZCBieSB0aGUgZGVjb3JhdG9yIHRvIHRoZSByZXR1cm4gZnVuY3Rpb24gb2JqZWN0XG5cbiAgT2JqZWN0LmFzc2lnbihzdWJzdHlsZSwgcHJvcHNGb3JTcHJlYWQpO1xuICByZXR1cm4gc3Vic3R5bGU7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGNyZWF0ZVN1YnN0eWxlOyIsImltcG9ydCBfZGVmaW5lUHJvcGVydHkgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZGVmaW5lUHJvcGVydHlcIjtcblxuZnVuY3Rpb24gb3duS2V5cyhvYmplY3QsIGVudW1lcmFibGVPbmx5KSB7IHZhciBrZXlzID0gT2JqZWN0LmtleXMob2JqZWN0KTsgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHsgdmFyIHN5bWJvbHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKG9iamVjdCk7IGlmIChlbnVtZXJhYmxlT25seSkgeyBzeW1ib2xzID0gc3ltYm9scy5maWx0ZXIoZnVuY3Rpb24gKHN5bSkgeyByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QsIHN5bSkuZW51bWVyYWJsZTsgfSk7IH0ga2V5cy5wdXNoLmFwcGx5KGtleXMsIHN5bWJvbHMpOyB9IHJldHVybiBrZXlzOyB9XG5cbmZ1bmN0aW9uIF9vYmplY3RTcHJlYWQodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV0gIT0gbnVsbCA/IGFyZ3VtZW50c1tpXSA6IHt9OyBpZiAoaSAlIDIpIHsgb3duS2V5cyhPYmplY3Qoc291cmNlKSwgdHJ1ZSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IF9kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgc291cmNlW2tleV0pOyB9KTsgfSBlbHNlIGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycykgeyBPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHNvdXJjZSkpOyB9IGVsc2UgeyBvd25LZXlzKE9iamVjdChzb3VyY2UpKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHNvdXJjZSwga2V5KSk7IH0pOyB9IH0gcmV0dXJuIHRhcmdldDsgfVxuXG5pbXBvcnQgeyBwaWNrRGlyZWN0U3R5bGVzIH0gZnJvbSAnLi9waWNrU3R5bGVzJztcbi8vIG1hbnkgY3NzLWluLWpzIGxpYnMgcHJvY2VzcyBrZXlmcmFtZXMgb2JqZWN0cyBhcyB0aGUgdmFsdWUgZm9yIGBhbmltYXRpb25OYW1lYFxudmFyIGRlZmF1bHRPYmplY3RQcm9wc1doaXRlbGlzdCA9IFsnYW5pbWF0aW9uTmFtZSddO1xuXG52YXIgZGVmYXVsdFByb3BzRGVjb3JhdG9yID0gZnVuY3Rpb24gZGVmYXVsdFByb3BzRGVjb3JhdG9yKF9yZWYpIHtcbiAgdmFyIHN0eWxlID0gX3JlZi5zdHlsZSxcbiAgICAgIGNsYXNzTmFtZSA9IF9yZWYuY2xhc3NOYW1lO1xuICByZXR1cm4gX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBzdHlsZSA/IHtcbiAgICBzdHlsZTogcGlja0RpcmVjdFN0eWxlcyhzdHlsZSwgZGVmYXVsdE9iamVjdFByb3BzV2hpdGVsaXN0KVxuICB9IDoge30pLCBjbGFzc05hbWUgPyB7XG4gICAgY2xhc3NOYW1lOiBjbGFzc05hbWVcbiAgfSA6IHt9KTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IGRlZmF1bHRQcm9wc0RlY29yYXRvcjsiLCJleHBvcnQgdmFyIGlzTW9kaWZpZXIgPSBmdW5jdGlvbiBpc01vZGlmaWVyKGtleSkge1xuICByZXR1cm4ga2V5WzBdID09PSAnJic7XG59O1xuZXhwb3J0IHZhciBpc0VsZW1lbnQgPSBmdW5jdGlvbiBpc0VsZW1lbnQoa2V5KSB7XG4gIHJldHVybiAhaXNNb2RpZmllcihrZXkpO1xufTsiLCJpbXBvcnQgUHJvcHNEZWNvcmF0b3JQcm92aWRlciwgeyBQcm9wc0RlY29yYXRvckNvbnRleHQgfSBmcm9tICcuL1Byb3BzRGVjb3JhdG9yUHJvdmlkZXInO1xuaW1wb3J0IGNyZWF0ZVN1YnN0eWxlIGZyb20gJy4vY3JlYXRlU3Vic3R5bGUnO1xuaW1wb3J0IGRlZmF1bHRQcm9wc0RlY29yYXRvciBmcm9tICcuL2RlZmF1bHRQcm9wc0RlY29yYXRvcic7XG5pbXBvcnQgaW5saW5lIGZyb20gJy4vaW5saW5lJztcbmltcG9ydCB1c2VTdHlsZXMgZnJvbSAnLi91c2VTdHlsZXMnO1xuZXhwb3J0IHsgY3JlYXRlU3Vic3R5bGUsIFByb3BzRGVjb3JhdG9yUHJvdmlkZXIsIFByb3BzRGVjb3JhdG9yQ29udGV4dCwgZGVmYXVsdFByb3BzRGVjb3JhdG9yLCBpbmxpbmUgfTtcbmV4cG9ydCBkZWZhdWx0IHVzZVN0eWxlczsiLCJpbXBvcnQgX2RlZmluZVByb3BlcnR5IGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2RlZmluZVByb3BlcnR5XCI7XG5cbmZ1bmN0aW9uIG93bktleXMob2JqZWN0LCBlbnVtZXJhYmxlT25seSkgeyB2YXIga2V5cyA9IE9iamVjdC5rZXlzKG9iamVjdCk7IGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7IHZhciBzeW1ib2xzID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhvYmplY3QpOyBpZiAoZW51bWVyYWJsZU9ubHkpIHsgc3ltYm9scyA9IHN5bWJvbHMuZmlsdGVyKGZ1bmN0aW9uIChzeW0pIHsgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqZWN0LCBzeW0pLmVudW1lcmFibGU7IH0pOyB9IGtleXMucHVzaC5hcHBseShrZXlzLCBzeW1ib2xzKTsgfSByZXR1cm4ga2V5czsgfVxuXG5mdW5jdGlvbiBfb2JqZWN0U3ByZWFkKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldICE9IG51bGwgPyBhcmd1bWVudHNbaV0gOiB7fTsgaWYgKGkgJSAyKSB7IG93bktleXMoT2JqZWN0KHNvdXJjZSksIHRydWUpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBfZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHNvdXJjZVtrZXldKTsgfSk7IH0gZWxzZSBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMpIHsgT2JqZWN0LmRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhzb3VyY2UpKTsgfSBlbHNlIHsgb3duS2V5cyhPYmplY3Qoc291cmNlKSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihzb3VyY2UsIGtleSkpOyB9KTsgfSB9IHJldHVybiB0YXJnZXQ7IH1cblxudmFyIGlubGluZSA9IGZ1bmN0aW9uIGlubGluZSgpIHtcbiAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgYXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgfVxuXG4gIHJldHVybiBhcmdzLnJlZHVjZShmdW5jdGlvbiAocmVzdWx0LCBhcmcpIHtcbiAgICByZXR1cm4gX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIHJlc3VsdCksIHR5cGVvZiBhcmcgPT09ICdmdW5jdGlvbicgPyBhcmcgOiB7fSksIHt9LCB7XG4gICAgICBzdHlsZTogX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCByZXN1bHQuc3R5bGUpLCB0eXBlb2YgYXJnID09PSAnZnVuY3Rpb24nID8gYXJnLnN0eWxlIDogYXJnKVxuICAgIH0pO1xuICB9LCB7fSk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBpbmxpbmU7IiwiaW1wb3J0IGNvZXJjZVNlbGVjdGlvbiBmcm9tICcuL2NvZXJjZVNlbGVjdGlvbic7XG52YXIgRU1QVFkgPSB7fTtcblxudmFyIG1lbW9pemUgPSBmdW5jdGlvbiBtZW1vaXplKHN1YnN0eWxlKSB7XG4gIHJldHVybiBmdW5jdGlvbiAoc2VsZWN0LCBkZWZhdWx0U3R5bGUpIHtcbiAgICB2YXIgY2FjaGVLZXkgPSBkZWZhdWx0U3R5bGUgfHwgRU1QVFk7XG4gICAgc3Vic3R5bGUubWVtb2l6ZSA9IHN1YnN0eWxlLm1lbW9pemUgfHwgbmV3IFdlYWtNYXAoKTtcbiAgICB2YXIgbWFwRW50cnk7XG5cbiAgICBpZiAoIXN1YnN0eWxlLm1lbW9pemUuaGFzKGNhY2hlS2V5KSkge1xuICAgICAgbWFwRW50cnkgPSB7fTtcbiAgICAgIHN1YnN0eWxlLm1lbW9pemUuc2V0KGNhY2hlS2V5LCBtYXBFbnRyeSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG1hcEVudHJ5ID0gc3Vic3R5bGUubWVtb2l6ZS5nZXQoY2FjaGVLZXkpO1xuICAgIH1cblxuICAgIHZhciBzZWxlY3RIYXNoID0gY29lcmNlU2VsZWN0aW9uKHNlbGVjdCkuam9pbignICcpO1xuICAgIHJldHVybiBzZWxlY3RIYXNoIGluIG1hcEVudHJ5ID8gbWFwRW50cnlbc2VsZWN0SGFzaF0gOiBtYXBFbnRyeVtzZWxlY3RIYXNoXSA9IHN1YnN0eWxlKHNlbGVjdCB8fCBbXSwgZGVmYXVsdFN0eWxlKTtcbiAgfTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IG1lbW9pemU7IiwiaW1wb3J0IF90b0NvbnN1bWFibGVBcnJheSBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy90b0NvbnN1bWFibGVBcnJheVwiO1xuaW1wb3J0IHsga2V5cywgbWVyZ2UsIG9taXQsIHZhbHVlcyB9IGZyb20gJy4vdXRpbHMnO1xuaW1wb3J0IHsgaXNNb2RpZmllciB9IGZyb20gJy4vZmlsdGVyS2V5cyc7XG5cbnZhciBjYW1lbGl6ZSA9IGZ1bmN0aW9uIGNhbWVsaXplKGtleSkge1xuICByZXR1cm4ga2V5LnJlcGxhY2UoLy0oXFx3KS9nLCBmdW5jdGlvbiAobSwgYykge1xuICAgIHJldHVybiBjLnRvVXBwZXJDYXNlKCk7XG4gIH0pO1xufTtcblxuZXhwb3J0IHZhciBwaWNrRGlyZWN0U3R5bGVzID0gZnVuY3Rpb24gcGlja0RpcmVjdFN0eWxlcyhzdHlsZSkge1xuICB2YXIgb2JqZWN0UHJvcGVydGllc1doaXRlbGlzdCA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogW107XG4gIHZhciBzdHlsZUtleXMgPSBrZXlzKHN0eWxlKTtcbiAgdmFyIHJlc3VsdCA9IHt9O1xuXG4gIGZvciAodmFyIGkgPSAwLCBsID0gc3R5bGVLZXlzLmxlbmd0aDsgaSA8IGw7IGkgKz0gMSkge1xuICAgIHZhciBrZXkgPSBzdHlsZUtleXNbaV07XG4gICAgdmFyIGlzRGlyZWN0ID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHN0eWxlW2tleV0pICE9PSAnW29iamVjdCBPYmplY3RdJyB8fCAvLyBzdHlsZSBkZWZzXG4gICAga2V5WzBdID09PSAnOicgfHwgLy8gcHNldWRvIHNlbGVjdG9yc1xuICAgIGtleVswXSA9PT0gJ0AnIHx8IC8vIEBtZWRpYSAvIEBrZXlmcmFtZXMgLyBAc3VwcG9ydHMgLyBAZm9udC1mYWNlXG4gICAgb2JqZWN0UHJvcGVydGllc1doaXRlbGlzdC5pbmRleE9mKGtleSkgPj0gMDsgLy8gd2hpdGVsaXN0ZWQgb2JqZWN0LXR5cGUgcHJvcGVydGllc1xuXG4gICAgaWYgKGlzRGlyZWN0KSB7XG4gICAgICByZXN1bHRba2V5XSA9IHN0eWxlW2tleV07XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5leHBvcnQgdmFyIHBpY2tOZXN0ZWRTdHlsZXMgPSBmdW5jdGlvbiBwaWNrTmVzdGVkU3R5bGVzKHN0eWxlLCBrZXlzVG9QaWNrKSB7XG4gIHZhciBjYW1lbGl6ZWRLZXlzVG9QaWNrID0ga2V5c1RvUGljay5tYXAoY2FtZWxpemUpO1xuICB2YXIgc3R5bGVLZXlzID0ga2V5cyhzdHlsZSk7XG4gIHZhciByZXN1bHQgPSB7fTtcblxuICBmb3IgKHZhciBpID0gMCwgbCA9IHN0eWxlS2V5cy5sZW5ndGg7IGkgPCBsOyBpICs9IDEpIHtcbiAgICB2YXIga2V5ID0gc3R5bGVLZXlzW2ldO1xuXG4gICAgaWYgKGtleXNUb1BpY2suaW5kZXhPZihrZXkpID49IDAgfHwgY2FtZWxpemVkS2V5c1RvUGljay5pbmRleE9mKGNhbWVsaXplKGtleSkpID49IDApIHtcbiAgICAgIHJlc3VsdFtrZXldID0gc3R5bGVba2V5XTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gcmVzdWx0O1xufTsgLy8gYnJlYWR0aC1maXJzdCBob2lzdGluZyBvZiBzZWxlY3RlZCBtb2RpZmllciBzdHlsZSBzdWJ0cmVlc1xuLy8gZG9lcyBub3QgdHJhdmVyc2UgaW50byBlbGVtZW50LCA6cHNldWRvLXNlbGVjdG9yIG9yIEBkaXJlY3RpdmUgc3VidHJlZXNcblxuZXhwb3J0IHZhciBob2lzdE1vZGlmaWVyU3R5bGVzUmVjdXJzaXZlID0gZnVuY3Rpb24gaG9pc3RNb2RpZmllclN0eWxlc1JlY3Vyc2l2ZShzdHlsZSwgbW9kaWZpZXJLZXlzVG9QaWNrKSB7XG4gIC8vIGhvaXN0IHN0eWxlcyBmb3Igc2VsZWN0ZWQgbW9kaWZpZXJzIG9uIGN1cnJlbnQgbGV2ZWxcbiAgdmFyIHJlc3VsdCA9IG1lcmdlLmFwcGx5KHZvaWQgMCwgW3t9LCBvbWl0KHN0eWxlLCBtb2RpZmllcktleXNUb1BpY2spXS5jb25jYXQoX3RvQ29uc3VtYWJsZUFycmF5KHZhbHVlcyhwaWNrTmVzdGVkU3R5bGVzKHN0eWxlLCBtb2RpZmllcktleXNUb1BpY2spKSkpKTsgLy8gdHJhdmVyc2UgbmVzdGVkIHN0eWxlZCBmb3IgQUxMIG1vZGlmaWVyc1xuXG4gIHZhciBtb2RpZmllcktleXMgPSBrZXlzKHJlc3VsdCkuZmlsdGVyKGlzTW9kaWZpZXIpO1xuXG4gIGZvciAodmFyIGkgPSAwLCBsID0gbW9kaWZpZXJLZXlzLmxlbmd0aDsgaSA8IGw7IGkgKz0gMSkge1xuICAgIHZhciBrZXkgPSBtb2RpZmllcktleXNbaV07XG4gICAgdmFyIHN1YnJlc3VsdCA9IGhvaXN0TW9kaWZpZXJTdHlsZXNSZWN1cnNpdmUocmVzdWx0W2tleV0sIG1vZGlmaWVyS2V5c1RvUGljayk7XG5cbiAgICBpZiAobW9kaWZpZXJLZXlzVG9QaWNrLmluZGV4T2Yoa2V5KSA+PSAwKSB7XG4gICAgICAvLyBzZWxlY3RlZCBtb2RpZmllcjogaG9pc3Qgc3VicmVzdWx0XG4gICAgICBkZWxldGUgcmVzdWx0W2tleV07XG4gICAgICByZXN1bHQgPSBtZXJnZSh7fSwgcmVzdWx0LCBzdWJyZXN1bHQpO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBub24tc2VsZWN0ZWQgbW9kaWZpZXI6IHJlcGxhY2Ugd2l0aCBzdWJyZXN1bHRcbiAgICAgIHJlc3VsdFtrZXldID0gc3VicmVzdWx0O1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiByZXN1bHQ7XG59OyIsImltcG9ydCB7IHVzZUNvbnRleHQsIHVzZU1lbW8gfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBQcm9wc0RlY29yYXRvckNvbnRleHQgfSBmcm9tICcuL1Byb3BzRGVjb3JhdG9yUHJvdmlkZXInO1xuaW1wb3J0IGNyZWF0ZVN1YnN0eWxlIGZyb20gJy4vY3JlYXRlU3Vic3R5bGUnO1xuXG52YXIgdXNlU3R5bGVzID0gZnVuY3Rpb24gdXNlU3R5bGVzKGRlZmF1bHRTdHlsZSwgX3JlZiwgbW9kaWZpZXJzKSB7XG4gIHZhciBzdHlsZSA9IF9yZWYuc3R5bGUsXG4gICAgICBjbGFzc05hbWUgPSBfcmVmLmNsYXNzTmFtZSxcbiAgICAgIGNsYXNzTmFtZXMgPSBfcmVmLmNsYXNzTmFtZXM7XG4gIHZhciBwcm9wc0RlY29yYXRvciA9IHVzZUNvbnRleHQoUHJvcHNEZWNvcmF0b3JDb250ZXh0KTtcbiAgdmFyIHN1YnN0eWxlID0gdXNlTWVtbyhmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIGNyZWF0ZVN1YnN0eWxlKHtcbiAgICAgIHN0eWxlOiBzdHlsZSxcbiAgICAgIGNsYXNzTmFtZTogY2xhc3NOYW1lLFxuICAgICAgY2xhc3NOYW1lczogY2xhc3NOYW1lc1xuICAgIH0sIHByb3BzRGVjb3JhdG9yKTtcbiAgfSwgW3N0eWxlLCBjbGFzc05hbWUsIGNsYXNzTmFtZXMsIHByb3BzRGVjb3JhdG9yXSk7XG4gIHJldHVybiBzdWJzdHlsZShtb2RpZmllcnMsIGRlZmF1bHRTdHlsZSk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCB1c2VTdHlsZXM7IiwiaW1wb3J0IF9kZWZpbmVQcm9wZXJ0eSBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9kZWZpbmVQcm9wZXJ0eVwiO1xuZXhwb3J0IHZhciBrZXlzID0gZnVuY3Rpb24ga2V5cyhvYmopIHtcbiAgcmV0dXJuIG9iaiA9PT0gT2JqZWN0KG9iaikgPyBPYmplY3Qua2V5cyhvYmopIDogW107XG59O1xuZXhwb3J0IHZhciB2YWx1ZXMgPSBmdW5jdGlvbiB2YWx1ZXMob2JqKSB7XG4gIHJldHVybiBvYmogPT09IE9iamVjdChvYmopID8gT2JqZWN0LnZhbHVlcyhvYmopIDogW107XG59O1xuXG5mdW5jdGlvbiBtZXJnZURlZXAodGFyZ2V0LCBzb3VyY2UpIHtcbiAgdmFyIG91dHB1dCA9IE9iamVjdC5hc3NpZ24oe30sIHRhcmdldCk7XG5cbiAgaWYgKGlzUGxhaW5PYmplY3QodGFyZ2V0KSAmJiBpc1BsYWluT2JqZWN0KHNvdXJjZSkpIHtcbiAgICBrZXlzKHNvdXJjZSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICBpZiAoaXNQbGFpbk9iamVjdChzb3VyY2Vba2V5XSkpIHtcbiAgICAgICAgaWYgKCEoa2V5IGluIHRhcmdldCkpIE9iamVjdC5hc3NpZ24ob3V0cHV0LCBfZGVmaW5lUHJvcGVydHkoe30sIGtleSwgc291cmNlW2tleV0pKTtlbHNlIG91dHB1dFtrZXldID0gbWVyZ2VEZWVwKHRhcmdldFtrZXldLCBzb3VyY2Vba2V5XSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBPYmplY3QuYXNzaWduKG91dHB1dCwgX2RlZmluZVByb3BlcnR5KHt9LCBrZXksIHNvdXJjZVtrZXldKSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICByZXR1cm4gb3V0cHV0O1xufVxuXG5leHBvcnQgdmFyIG1lcmdlID0gZnVuY3Rpb24gbWVyZ2UodGFyZ2V0KSB7XG4gIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBzb3VyY2VzID0gbmV3IEFycmF5KF9sZW4gPiAxID8gX2xlbiAtIDEgOiAwKSwgX2tleSA9IDE7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICBzb3VyY2VzW19rZXkgLSAxXSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgfVxuXG4gIHJldHVybiBzb3VyY2VzLnJlZHVjZShmdW5jdGlvbiAodCwgcykge1xuICAgIHJldHVybiBtZXJnZURlZXAodCwgcyk7XG4gIH0sIHRhcmdldCk7XG59O1xuZXhwb3J0IHZhciBpZGVudGl0eSA9IGZ1bmN0aW9uIGlkZW50aXR5KHZhbHVlKSB7XG4gIHJldHVybiB2YWx1ZTtcbn07XG5leHBvcnQgdmFyIG9taXQgPSBmdW5jdGlvbiBvbWl0KG9iaiwga2V5cykge1xuICB2YXIgb3RoZXIgPSBPYmplY3QuYXNzaWduKHt9LCBvYmopO1xuXG4gIGlmIChrZXlzKSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBkZWxldGUgb3RoZXJba2V5c1tpXV07XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIG90aGVyO1xufTtcbmV4cG9ydCB2YXIgaXNQbGFpbk9iamVjdCA9IGZ1bmN0aW9uIGlzUGxhaW5PYmplY3Qob2JqKSB7XG4gIHJldHVybiBvYmogPT09IE9iamVjdChvYmopICYmICEob2JqIGluc3RhbmNlb2YgRGF0ZSkgJiYgIUFycmF5LmlzQXJyYXkob2JqKTtcbn07XG5leHBvcnQgdmFyIGNvbXBhY3QgPSBmdW5jdGlvbiBjb21wYWN0KGFycikge1xuICByZXR1cm4gKGFyciB8fCBbXSkuZmlsdGVyKEJvb2xlYW4pO1xufTsiLCJcbnZhciBzcGFjZSA9IHJlcXVpcmUoJ3RvLXNwYWNlLWNhc2UnKVxuXG4vKipcbiAqIEV4cG9ydC5cbiAqL1xuXG5tb2R1bGUuZXhwb3J0cyA9IHRvQ2FtZWxDYXNlXG5cbi8qKlxuICogQ29udmVydCBhIGBzdHJpbmdgIHRvIGNhbWVsIGNhc2UuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IHN0cmluZ1xuICogQHJldHVybiB7U3RyaW5nfVxuICovXG5cbmZ1bmN0aW9uIHRvQ2FtZWxDYXNlKHN0cmluZykge1xuICByZXR1cm4gc3BhY2Uoc3RyaW5nKS5yZXBsYWNlKC9cXHMoXFx3KS9nLCBmdW5jdGlvbiAobWF0Y2hlcywgbGV0dGVyKSB7XG4gICAgcmV0dXJuIGxldHRlci50b1VwcGVyQ2FzZSgpXG4gIH0pXG59XG4iLCJcbi8qKlxuICogRXhwb3J0LlxuICovXG5cbm1vZHVsZS5leHBvcnRzID0gdG9Ob0Nhc2VcblxuLyoqXG4gKiBUZXN0IHdoZXRoZXIgYSBzdHJpbmcgaXMgY2FtZWwtY2FzZS5cbiAqL1xuXG52YXIgaGFzU3BhY2UgPSAvXFxzL1xudmFyIGhhc1NlcGFyYXRvciA9IC8oX3wtfFxcLnw6KS9cbnZhciBoYXNDYW1lbCA9IC8oW2Etel1bQS1aXXxbQS1aXVthLXpdKS9cblxuLyoqXG4gKiBSZW1vdmUgYW55IHN0YXJ0aW5nIGNhc2UgZnJvbSBhIGBzdHJpbmdgLCBsaWtlIGNhbWVsIG9yIHNuYWtlLCBidXQga2VlcFxuICogc3BhY2VzIGFuZCBwdW5jdHVhdGlvbiB0aGF0IG1heSBiZSBpbXBvcnRhbnQgb3RoZXJ3aXNlLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBzdHJpbmdcbiAqIEByZXR1cm4ge1N0cmluZ31cbiAqL1xuXG5mdW5jdGlvbiB0b05vQ2FzZShzdHJpbmcpIHtcbiAgaWYgKGhhc1NwYWNlLnRlc3Qoc3RyaW5nKSkgcmV0dXJuIHN0cmluZy50b0xvd2VyQ2FzZSgpXG4gIGlmIChoYXNTZXBhcmF0b3IudGVzdChzdHJpbmcpKSByZXR1cm4gKHVuc2VwYXJhdGUoc3RyaW5nKSB8fCBzdHJpbmcpLnRvTG93ZXJDYXNlKClcbiAgaWYgKGhhc0NhbWVsLnRlc3Qoc3RyaW5nKSkgcmV0dXJuIHVuY2FtZWxpemUoc3RyaW5nKS50b0xvd2VyQ2FzZSgpXG4gIHJldHVybiBzdHJpbmcudG9Mb3dlckNhc2UoKVxufVxuXG4vKipcbiAqIFNlcGFyYXRvciBzcGxpdHRlci5cbiAqL1xuXG52YXIgc2VwYXJhdG9yU3BsaXR0ZXIgPSAvW1xcV19dKygufCQpL2dcblxuLyoqXG4gKiBVbi1zZXBhcmF0ZSBhIGBzdHJpbmdgLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBzdHJpbmdcbiAqIEByZXR1cm4ge1N0cmluZ31cbiAqL1xuXG5mdW5jdGlvbiB1bnNlcGFyYXRlKHN0cmluZykge1xuICByZXR1cm4gc3RyaW5nLnJlcGxhY2Uoc2VwYXJhdG9yU3BsaXR0ZXIsIGZ1bmN0aW9uIChtLCBuZXh0KSB7XG4gICAgcmV0dXJuIG5leHQgPyAnICcgKyBuZXh0IDogJydcbiAgfSlcbn1cblxuLyoqXG4gKiBDYW1lbGNhc2Ugc3BsaXR0ZXIuXG4gKi9cblxudmFyIGNhbWVsU3BsaXR0ZXIgPSAvKC4pKFtBLVpdKykvZ1xuXG4vKipcbiAqIFVuLWNhbWVsY2FzZSBhIGBzdHJpbmdgLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBzdHJpbmdcbiAqIEByZXR1cm4ge1N0cmluZ31cbiAqL1xuXG5mdW5jdGlvbiB1bmNhbWVsaXplKHN0cmluZykge1xuICByZXR1cm4gc3RyaW5nLnJlcGxhY2UoY2FtZWxTcGxpdHRlciwgZnVuY3Rpb24gKG0sIHByZXZpb3VzLCB1cHBlcnMpIHtcbiAgICByZXR1cm4gcHJldmlvdXMgKyAnICcgKyB1cHBlcnMudG9Mb3dlckNhc2UoKS5zcGxpdCgnJykuam9pbignICcpXG4gIH0pXG59XG4iLCJcbnZhciBjbGVhbiA9IHJlcXVpcmUoJ3RvLW5vLWNhc2UnKVxuXG4vKipcbiAqIEV4cG9ydC5cbiAqL1xuXG5tb2R1bGUuZXhwb3J0cyA9IHRvU3BhY2VDYXNlXG5cbi8qKlxuICogQ29udmVydCBhIGBzdHJpbmdgIHRvIHNwYWNlIGNhc2UuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IHN0cmluZ1xuICogQHJldHVybiB7U3RyaW5nfVxuICovXG5cbmZ1bmN0aW9uIHRvU3BhY2VDYXNlKHN0cmluZykge1xuICByZXR1cm4gY2xlYW4oc3RyaW5nKS5yZXBsYWNlKC9bXFxXX10rKC58JCkvZywgZnVuY3Rpb24gKG1hdGNoZXMsIG1hdGNoKSB7XG4gICAgcmV0dXJuIG1hdGNoID8gJyAnICsgbWF0Y2ggOiAnJ1xuICB9KS50cmltKClcbn1cbiIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIF9hcnJheUxpa2VUb0FycmF5KGFyciwgbGVuKSB7XG4gIGlmIChsZW4gPT0gbnVsbCB8fCBsZW4gPiBhcnIubGVuZ3RoKSBsZW4gPSBhcnIubGVuZ3RoO1xuXG4gIGZvciAodmFyIGkgPSAwLCBhcnIyID0gbmV3IEFycmF5KGxlbik7IGkgPCBsZW47IGkrKykge1xuICAgIGFycjJbaV0gPSBhcnJbaV07XG4gIH1cblxuICByZXR1cm4gYXJyMjtcbn0iLCJpbXBvcnQgYXJyYXlMaWtlVG9BcnJheSBmcm9tIFwiLi9hcnJheUxpa2VUb0FycmF5LmpzXCI7XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBfYXJyYXlXaXRob3V0SG9sZXMoYXJyKSB7XG4gIGlmIChBcnJheS5pc0FycmF5KGFycikpIHJldHVybiBhcnJheUxpa2VUb0FycmF5KGFycik7XG59IiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gX2RlZmluZVByb3BlcnR5KG9iaiwga2V5LCB2YWx1ZSkge1xuICBpZiAoa2V5IGluIG9iaikge1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwge1xuICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgIHdyaXRhYmxlOiB0cnVlXG4gICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgb2JqW2tleV0gPSB2YWx1ZTtcbiAgfVxuXG4gIHJldHVybiBvYmo7XG59IiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gX2l0ZXJhYmxlVG9BcnJheShpdGVyKSB7XG4gIGlmICh0eXBlb2YgU3ltYm9sICE9PSBcInVuZGVmaW5lZFwiICYmIGl0ZXJbU3ltYm9sLml0ZXJhdG9yXSAhPSBudWxsIHx8IGl0ZXJbXCJAQGl0ZXJhdG9yXCJdICE9IG51bGwpIHJldHVybiBBcnJheS5mcm9tKGl0ZXIpO1xufSIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIF9ub25JdGVyYWJsZVNwcmVhZCgpIHtcbiAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBzcHJlYWQgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxcbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC5cIik7XG59IiwiaW1wb3J0IGFycmF5V2l0aG91dEhvbGVzIGZyb20gXCIuL2FycmF5V2l0aG91dEhvbGVzLmpzXCI7XG5pbXBvcnQgaXRlcmFibGVUb0FycmF5IGZyb20gXCIuL2l0ZXJhYmxlVG9BcnJheS5qc1wiO1xuaW1wb3J0IHVuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5IGZyb20gXCIuL3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5LmpzXCI7XG5pbXBvcnQgbm9uSXRlcmFibGVTcHJlYWQgZnJvbSBcIi4vbm9uSXRlcmFibGVTcHJlYWQuanNcIjtcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIF90b0NvbnN1bWFibGVBcnJheShhcnIpIHtcbiAgcmV0dXJuIGFycmF5V2l0aG91dEhvbGVzKGFycikgfHwgaXRlcmFibGVUb0FycmF5KGFycikgfHwgdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkoYXJyKSB8fCBub25JdGVyYWJsZVNwcmVhZCgpO1xufSIsImltcG9ydCBhcnJheUxpa2VUb0FycmF5IGZyb20gXCIuL2FycmF5TGlrZVRvQXJyYXkuanNcIjtcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShvLCBtaW5MZW4pIHtcbiAgaWYgKCFvKSByZXR1cm47XG4gIGlmICh0eXBlb2YgbyA9PT0gXCJzdHJpbmdcIikgcmV0dXJuIGFycmF5TGlrZVRvQXJyYXkobywgbWluTGVuKTtcbiAgdmFyIG4gPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobykuc2xpY2UoOCwgLTEpO1xuICBpZiAobiA9PT0gXCJPYmplY3RcIiAmJiBvLmNvbnN0cnVjdG9yKSBuID0gby5jb25zdHJ1Y3Rvci5uYW1lO1xuICBpZiAobiA9PT0gXCJNYXBcIiB8fCBuID09PSBcIlNldFwiKSByZXR1cm4gQXJyYXkuZnJvbShvKTtcbiAgaWYgKG4gPT09IFwiQXJndW1lbnRzXCIgfHwgL14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3QobikpIHJldHVybiBhcnJheUxpa2VUb0FycmF5KG8sIG1pbkxlbik7XG59Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9