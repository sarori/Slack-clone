{"version":3,"file":"pages_LogIn_index_tsx.js","mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,IAAMgB,KAAK,GAAG,SAARA,KAAQ,GAAM;AAAA;;AAClB,gBAA4CF,+CAAM,CAAC,YAAD,EAAeN,sDAAf,CAAlD;AAAA,MAAQS,IAAR,WAAQA,IAAR;AAAA,MAAcC,KAAd,WAAcA,KAAd;AAAA,MAAqBC,UAArB,WAAqBA,UAArB;AAAA,MAAiCC,MAAjC,WAAiCA,MAAjC;;AACA,kBAAoCR,+CAAQ,CAAC,KAAD,CAA5C;AAAA;AAAA,MAAOS,UAAP;AAAA,MAAmBC,aAAnB;;AACA,kBAA+BtB,2DAAQ,CAAC,EAAD,CAAvC;AAAA;AAAA,MAAOuB,KAAP;AAAA,MAAcC,aAAd;;AACA,mBAAqCxB,2DAAQ,CAAC,CAAC,EAAD,CAAD,CAA7C;AAAA;AAAA,MAAOyB,QAAP;AAAA,MAAiBC,gBAAjB;;AACA,MAAMC,QAAQ,GAAGhB,kDAAW,CAC1B,UAACiB,CAAD,EAAO;AACLA,KAAC,CAACC,cAAF;AACAP,iBAAa,CAAC,KAAD,CAAb;AACAb,IAAAA,iDAAA,CAEI,kBAFJ,EAGI;AAAEc,WAAK,EAALA,KAAF;AAASE,cAAQ,EAARA;AAAT,KAHJ,EAII;AACEM,qBAAe,EAAE;AADnB,KAJJ,EAQGC,IARH,CAQQ,UAACC,QAAD,EAAc;AAClB;AACAd,gBAAU;AACX,KAXH,EAYGe,KAZH,CAYS,UAAChB,KAAD,EAAW;AAAA;;AAChBI,mBAAa,CAAC,oBAAAJ,KAAK,CAACe,QAAN,4FAAgBhB,IAAhB,8EAAsBkB,UAAtB,MAAqC,GAAtC,CAAb;AACD,KAdH;AAeD,GAnByB,EAoB1B,CAACZ,KAAD,EAAQE,QAAR,CApB0B,CAA5B;;AAuBA,MAAIR,IAAI,KAAKmB,SAAb,EAAwB;AACtB,wBAAO,2EAAP;AACD;;AAED,MAAInB,IAAJ,EAAU;AACR,wBAAO,iDAAC,kDAAD;AAAU,QAAE,EAAC;AAAb,MAAP;AACD,GAlCiB,CAoClB;AACA;AACA;AACA;;;AAEA,sBACE;AAAK,MAAE,EAAC;AAAR,kBACE,iDAAC,wDAAD,iBADF,eAEE,iDAAC,sDAAD;AAAM,YAAQ,EAAEU;AAAhB,kBACE,iDAAC,uDAAD;AAAO,MAAE,EAAC;AAAV,kBACE,uEADF,eAEE,2EACE,iDAAC,uDAAD;AAAO,QAAI,EAAC,OAAZ;AAAoB,MAAE,EAAC,OAAvB;AAA+B,QAAI,EAAC,OAApC;AAA4C,SAAK,EAAEJ,KAAnD;AAA0D,YAAQ,EAAEC;AAApE,IADF,CAFF,CADF,eAOE,iDAAC,uDAAD;AAAO,MAAE,EAAC;AAAV,kBACE,0EADF,eAEE,2EACE,iDAAC,uDAAD;AAAO,QAAI,EAAC,UAAZ;AAAuB,MAAE,EAAC,UAA1B;AAAqC,QAAI,EAAC,UAA1C;AAAqD,SAAK,EAAEC,QAA5D;AAAsE,YAAQ,EAAEC;AAAhF,IADF,CAFF,EAKGL,UAAU,iBAAI,iDAAC,uDAAD,sBALjB,CAPF,eAcE,iDAAC,wDAAD;AAAQ,QAAI,EAAC;AAAb,aAdF,CAFF,eAkBE,iDAAC,+DAAD,uDAEE,iDAAC,kDAAD;AAAM,MAAE,EAAC;AAAT,eAFF,CAlBF,CADF;AAyBD,CAlED;;IAAML;UACwCF,6CAEbd,yDACMA;;;KAJjCgB;AAoEN,iEAAeA,KAAf","sources":["webpack://slack-clone/./pages/LogIn/index.tsx"],"sourcesContent":["import useInput from '@hooks/useInput';\nimport { Button, Error, Form, Header, Input, Label, LinkContainer } from '@pages/SignUp/styles';\nimport fetcher from '@utils/fetcher';\nimport axios from 'axios';\nimport React, { useCallback, useEffect, useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport useSWR from 'swr';\nimport { Redirect } from 'react-router';\n\nconst LogIn = () => {\n  const { data, error, revalidate, mutate } = useSWR('/api/users', fetcher);\n  const [logInError, setLogInError] = useState(false);\n  const [email, onChangeEmail] = useInput('');\n  const [password, onChangePassword] = useInput(['']);\n  const onSubmit = useCallback(\n    (e) => {\n      e.preventDefault();\n      setLogInError(false);\n      axios\n        .post(\n          '/api/users/login',\n          { email, password },\n          {\n            withCredentials: true,\n          },\n        )\n        .then((response) => {\n          // mutate(response.data, false);\n          revalidate();\n        })\n        .catch((error) => {\n          setLogInError(error.response?.data?.statusCode === 401);\n        });\n    },\n    [email, password],\n  );\n\n  if (data === undefined) {\n    return <div>Loading...</div>;\n  }\n\n  if (data) {\n    return <Redirect to=\"/workspace/sleact/channel/일반\" />;\n  }\n\n  // if (!error && userData) {\n  //   console.log('로그인됨', userData);\n  //   return <Redirect to=\"/workspace/sleact/channel/일반\" />;\n  // }\n\n  return (\n    <div id=\"container\">\n      <Header>Sleact</Header>\n      <Form onSubmit={onSubmit}>\n        <Label id=\"email-label\">\n          <span>Email</span>\n          <div>\n            <Input type=\"email\" id=\"email\" name=\"email\" value={email} onChange={onChangeEmail} />\n          </div>\n        </Label>\n        <Label id=\"password-label\">\n          <span>Password</span>\n          <div>\n            <Input type=\"password\" id=\"password\" name=\"password\" value={password} onChange={onChangePassword} />\n          </div>\n          {logInError && <Error>Not matched</Error>}\n        </Label>\n        <Button type=\"submit\">LogIn</Button>\n      </Form>\n      <LinkContainer>\n        You are not registed yet? &nbsp;\n        <Link to=\"/signup\">Sign Up</Link>\n      </LinkContainer>\n    </div>\n  );\n};\n\nexport default LogIn;\n"],"names":["useInput","Button","Error","Form","Header","Input","Label","LinkContainer","fetcher","axios","React","useCallback","useState","Link","useSWR","Redirect","LogIn","data","error","revalidate","mutate","logInError","setLogInError","email","onChangeEmail","password","onChangePassword","onSubmit","e","preventDefault","post","withCredentials","then","response","catch","statusCode","undefined"],"sourceRoot":""}